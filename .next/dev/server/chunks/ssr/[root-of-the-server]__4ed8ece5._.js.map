{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/integrations/supabase/client.ts"],"sourcesContent":["// This file is automatically generated. Do not edit it directly.\r\nimport { createClient } from '@supabase/supabase-js';\r\nimport type { Database } from './types';\r\n\r\nconst SUPABASE_URL = process.env.NEXT_PUBLIC_SUPABASE_URL || '';\r\nconst SUPABASE_PUBLISHABLE_KEY = process.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY || '';\r\n\r\n// SSR-safe storage check\r\nconst isBrowser = typeof window !== 'undefined';\r\n\r\nexport const supabase = createClient<Database>(SUPABASE_URL, SUPABASE_PUBLISHABLE_KEY, {\r\n  auth: {\r\n    storage: isBrowser ? window.localStorage : undefined,\r\n    persistSession: true,\r\n    autoRefreshToken: true,\r\n  }\r\n});"],"names":[],"mappings":";;;;AAAA,iEAAiE;AACjE;;AAGA,MAAM,eAAe,gFAAwC;AAC7D,MAAM,2BAA2B,wPAAoD;AAErF,yBAAyB;AACzB,MAAM,YAAY,kDAAkB;AAE7B,MAAM,WAAW,IAAA,uMAAY,EAAW,cAAc,0BAA0B;IACrF,MAAM;QACJ,SAAS,sCAAY,0BAAsB;QAC3C,gBAAgB;QAChB,kBAAkB;IACpB;AACF"}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/PublicPageComponent.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/PublicPageComponent.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/PublicPageComponent.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA0S,GACvU,wEACA","ignoreList":[0]}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/PublicPageComponent.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/PublicPageComponent.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/PublicPageComponent.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAsR,GACnT,oDACA","ignoreList":[0]}},
    {"offset": {"line": 104, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/app/page/%5Bslug%5D/page.tsx"],"sourcesContent":["import { supabase } from \"@/integrations/supabase/client\";\r\nimport PublicPageComponent from \"@/components/PublicPageComponent\";\r\nimport { notFound } from \"next/navigation\";\r\nimport { Tables } from \"@/integrations/supabase/types\";\r\n\r\n// This function tells Next.js which paths to pre-render at build time\r\nexport const dynamicParams = true; // Allow new pages to be rendered on demand\r\n\r\nexport async function generateStaticParams() {\r\n    const { data: pages } = await supabase\r\n        .from(\"pages\")\r\n        .select(\"slug\")\r\n        .eq(\"is_published\", true);\r\n\r\n    return pages?.map((page) => ({\r\n        slug: page.slug,\r\n    })) || [];\r\n}\r\n\r\nexport default async function PageBySlug({ params }: { params: Promise<{ slug: string }> }) {\r\n    const { slug } = await params;\r\n\r\n    // 1. Fetch the page and all pages for navigation\r\n    const [pageResult, allPagesResult] = await Promise.all([\r\n        supabase.from(\"pages\").select(\"*\").eq(\"slug\", slug).eq(\"is_published\", true).single(),\r\n        supabase.from(\"pages\").select(\"*\").eq(\"is_published\", true).order(\"menu_order\")\r\n    ]);\r\n\r\n    const page = pageResult.data;\r\n    const allPages = allPagesResult.data || [];\r\n\r\n    if (!page) {\r\n        notFound();\r\n    }\r\n\r\n    // 2. Fetch rows and components\r\n    const [rowsResult, componentsResult] = await Promise.all([\r\n        supabase.from(\"page_rows\").select(\"*\").eq(\"page_id\", page.id).order(\"position\"),\r\n        supabase.from(\"page_components\").select(\"*\").eq(\"page_id\", page.id).order(\"position\")\r\n    ]);\r\n\r\n    const rows = rowsResult.data || [];\r\n    const components = componentsResult.data || [];\r\n\r\n    // 3. Fetch layout if exists\r\n    let layout: Tables<\"layouts\"> | null = null;\r\n    let layoutRows: Tables<\"layout_rows\">[] = [];\r\n    let layoutComponents: Tables<\"layout_components\">[] = [];\r\n\r\n    if (page.layout_id) {\r\n        const { data: layoutData } = await supabase\r\n            .from(\"layouts\")\r\n            .select(\"*\")\r\n            .eq(\"id\", page.layout_id)\r\n            .eq(\"is_published\", true)\r\n            .maybeSingle();\r\n\r\n        if (layoutData) {\r\n            const [lRows, lComps] = await Promise.all([\r\n                supabase.from(\"layout_rows\").select(\"*\").eq(\"layout_id\", layoutData.id).order(\"position\"),\r\n                supabase.from(\"layout_components\").select(\"*\").eq(\"layout_id\", layoutData.id).order(\"position\")\r\n            ]);\r\n            layout = layoutData;\r\n            layoutRows = lRows.data || [];\r\n            layoutComponents = lComps.data || [];\r\n        }\r\n    }\r\n\r\n    // 4. Fetch widget data\r\n    const widgetInstances = components.filter(c => c.is_widget_instance && c.widget_id);\r\n    const widgetIds = Array.from(new Set(widgetInstances.map(c => c.widget_id!)));\r\n\r\n    const widgetData: Record<string, { rows: any[]; components: any[] }> = {};\r\n\r\n    for (const widgetId of widgetIds) {\r\n        const [wRows, wComps] = await Promise.all([\r\n            supabase.from(\"widget_rows\").select(\"*\").eq(\"widget_id\", widgetId).order(\"position\"),\r\n            supabase.from(\"widget_components\").select(\"*\").eq(\"widget_id\", widgetId).order(\"position\")\r\n        ]);\r\n        widgetData[widgetId] = {\r\n            rows: wRows.data || [],\r\n            components: wComps.data || []\r\n        };\r\n    }\r\n\r\n    return (\r\n        <PublicPageComponent\r\n            slug={slug}\r\n            initialData={{\r\n                page,\r\n                rows,\r\n                components,\r\n                layout,\r\n                layoutRows,\r\n                layoutComponents,\r\n                allPages,\r\n                widgetData\r\n            }}\r\n        />\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}