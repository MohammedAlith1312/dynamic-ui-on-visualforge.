{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/ComponentsSidebar.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { \r\n  Heading1, \r\n  Type, \r\n  Image as ImageIcon, \r\n  MousePointerClick, \r\n  Link as LinkIcon,\r\n  Video,\r\n  Minus,\r\n  Space,\r\n  Quote,\r\n  List,\r\n  Code,\r\n  FileText,\r\n  Box,\r\n  Search,\r\n  Database,\r\n  FileSearch,\r\n  BarChart3,\r\n  Layers,\r\n  ChevronDown,\r\n  CreditCard,\r\n  FileInput,\r\n  FormInput,\r\n  ListChecks,\r\n  Mail,\r\n  Info\r\n} from \"lucide-react\";\r\nimport { useDraggable } from \"@dnd-kit/core\";\r\nimport {\r\n  Sidebar,\r\n  SidebarContent,\r\n  SidebarGroup,\r\n  SidebarGroupContent,\r\n  SidebarGroupLabel,\r\n  SidebarMenu,\r\n  SidebarMenuItem,\r\n} from \"@/components/ui/sidebar\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { Tables } from \"@/integrations/supabase/types\";\r\nimport {\r\n  Tooltip,\r\n  TooltipContent,\r\n  TooltipTrigger,\r\n} from \"@/components/ui/tooltip\";\r\n\r\nexport type ComponentType = \r\n  | \"heading\"\r\n  | \"paragraph\"\r\n  | \"image\"\r\n  | \"button\"\r\n  | \"link\"\r\n  | \"video\"\r\n  | \"divider\"\r\n  | \"spacer\"\r\n  | \"quote\"\r\n  | \"list\"\r\n  | \"code\"\r\n  | \"page-content\"\r\n  | \"entity-list\"\r\n  | \"entity-detail\"\r\n  | \"query\"\r\n  | \"chart\"\r\n  | \"tabs\"\r\n  | \"accordion\"\r\n  | \"card\"\r\n  | \"form-input\"\r\n  | \"form-textarea\"\r\n  | \"form-select\"\r\n  | \"form-checkbox\"\r\n  | \"form-submit\"\r\n  | \"datasource\";\r\n\r\ninterface ComponentItem {\r\n  type: ComponentType;\r\n  title: string;\r\n  icon: any;\r\n  description: string;\r\n}\r\n\r\nconst components: ComponentItem[] = [\r\n  { type: \"heading\", title: \"Heading\", icon: Heading1, description: \"H1-H6 headings\" },\r\n  { type: \"paragraph\", title: \"Paragraph\", icon: Type, description: \"Text paragraph\" },\r\n  { type: \"image\", title: \"Image\", icon: ImageIcon, description: \"Image with URL\" },\r\n  { type: \"button\", title: \"Button\", icon: MousePointerClick, description: \"Call-to-action button\" },\r\n  { type: \"link\", title: \"Link\", icon: LinkIcon, description: \"Hyperlink\" },\r\n  { type: \"video\", title: \"Video\", icon: Video, description: \"Embedded video\" },\r\n  { type: \"divider\", title: \"Divider\", icon: Minus, description: \"Horizontal line\" },\r\n  { type: \"spacer\", title: \"Spacer\", icon: Space, description: \"Vertical spacing\" },\r\n  { type: \"quote\", title: \"Quote\", icon: Quote, description: \"Block quote\" },\r\n  { type: \"list\", title: \"List\", icon: List, description: \"Bullet or numbered list\" },\r\n  { type: \"code\", title: \"Code\", icon: Code, description: \"Code block\" },\r\n  { type: \"chart\", title: \"Chart\", icon: BarChart3, description: \"Data visualization charts\" },\r\n];\r\n\r\nconst advancedComponents: ComponentItem[] = [\r\n  { type: \"tabs\", title: \"Tabs\", icon: Layers, description: \"Tabbed content\" },\r\n  { type: \"accordion\", title: \"Accordion\", icon: ChevronDown, description: \"Collapsible sections\" },\r\n  { type: \"card\", title: \"Card\", icon: CreditCard, description: \"Card with layout options\" },\r\n];\r\n\r\nconst formComponents: ComponentItem[] = [\r\n  { type: \"form-input\", title: \"Input Field\", icon: FormInput, description: \"Text input with validation\" },\r\n  { type: \"form-textarea\", title: \"Textarea\", icon: FileInput, description: \"Multi-line text input\" },\r\n  { type: \"form-select\", title: \"Select\", icon: ListChecks, description: \"Dropdown selection\" },\r\n  { type: \"form-checkbox\", title: \"Checkbox/Radio\", icon: ListChecks, description: \"Multiple choice options\" },\r\n  { type: \"form-submit\", title: \"Submit Button\", icon: Mail, description: \"Form submission button\" },\r\n];\r\n\r\nconst entityComponents: ComponentItem[] = [\r\n  { type: \"entity-list\", title: \"Entity List\", icon: Database, description: \"Display entity records\" },\r\n  { type: \"entity-detail\", title: \"Entity Detail\", icon: FileSearch, description: \"Display single record\" },\r\n  { type: \"query\", title: \"Query\", icon: Search, description: \"Display query results\" },\r\n  { type: \"datasource\", title: \"Data Source\", icon: Database, description: \"Connect to API or Database and display in views\" },\r\n];\r\n\r\nconst layoutComponents: ComponentItem[] = [\r\n  { type: \"page-content\", title: \"Page Content\", icon: FileText, description: \"Page content placeholder\" },\r\n];\r\n\r\ninterface DraggableComponentItemProps {\r\n  component: ComponentItem;\r\n}\r\n\r\nconst DraggableComponentItem = ({ component }: DraggableComponentItemProps) => {\r\n  const { attributes, listeners, setNodeRef, isDragging } = useDraggable({\r\n    id: `new-${component.type}`,\r\n    data: { type: \"new-component\", componentType: component.type },\r\n  });\r\n\r\n  return (\r\n    <SidebarMenuItem ref={setNodeRef}>\r\n      <div\r\n        {...attributes}\r\n        {...listeners}\r\n        className={cn(\r\n          \"flex items-start gap-3 py-3 px-2 rounded-lg hover:bg-accent cursor-grab active:cursor-grabbing transition-colors\",\r\n          isDragging && \"opacity-50\"\r\n        )}\r\n      >\r\n        <component.icon className=\"h-5 w-5 mt-0.5 flex-shrink-0 text-primary\" />\r\n        <div className=\"flex flex-col items-start\">\r\n          <span className=\"font-medium\">{component.title}</span>\r\n          <span className=\"text-xs text-muted-foreground\">\r\n            {component.description}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </SidebarMenuItem>\r\n  );\r\n};\r\n\r\ninterface WidgetItemProps {\r\n  widget: Tables<\"widgets\">;\r\n}\r\n\r\nconst DraggableWidgetItem = ({ widget }: WidgetItemProps) => {\r\n  const { attributes, listeners, setNodeRef, isDragging } = useDraggable({\r\n    id: `new-widget-${widget.id}`,\r\n    data: { type: \"new-widget\", widgetId: widget.id, widgetTitle: widget.title },\r\n  });\r\n\r\n  return (\r\n    <SidebarMenuItem ref={setNodeRef}>\r\n      <div\r\n        {...attributes}\r\n        {...listeners}\r\n        className={cn(\r\n          \"flex items-start gap-3 py-3 px-2 rounded-lg hover:bg-accent cursor-grab active:cursor-grabbing transition-colors\",\r\n          isDragging && \"opacity-50\"\r\n        )}\r\n      >\r\n        <Box className=\"h-5 w-5 mt-0.5 flex-shrink-0 text-primary\" />\r\n        <div className=\"flex flex-col items-start\">\r\n          <span className=\"font-medium\">{widget.title}</span>\r\n          <span className=\"text-xs text-muted-foreground\">\r\n            Widget\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </SidebarMenuItem>\r\n  );\r\n};\r\n\r\ninterface ComponentsSidebarProps {\r\n  isLayoutEditor?: boolean;\r\n  renderHeader?: () => React.ReactNode;\r\n}\r\n\r\nexport function ComponentsSidebar({ isLayoutEditor = false, renderHeader }: ComponentsSidebarProps) {\r\n  const [widgets, setWidgets] = useState<Tables<\"widgets\">[]>([]);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    loadWidgets();\r\n  }, []);\r\n\r\n  const loadWidgets = async () => {\r\n    const { data } = await supabase\r\n      .from(\"widgets\")\r\n      .select(\"*\")\r\n      .eq(\"is_published\", true)\r\n      .order(\"title\");\r\n    \r\n    setWidgets(data || []);\r\n  };\r\n\r\n  const filterComponents = (comps: ComponentItem[]) => {\r\n    if (!searchQuery) return comps;\r\n    return comps.filter(c =>\r\n      c.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n      c.description.toLowerCase().includes(searchQuery.toLowerCase())\r\n    );\r\n  };\r\n\r\n  const filterWidgets = (widgetsList: Tables<\"widgets\">[]) => {\r\n    if (!searchQuery) return widgetsList;\r\n    return widgetsList.filter(w =>\r\n      w.title.toLowerCase().includes(searchQuery.toLowerCase())\r\n    );\r\n  };\r\n\r\n  const filteredComponents = filterComponents(components);\r\n  const filteredAdvancedComponents = filterComponents(advancedComponents);\r\n  const filteredFormComponents = filterComponents(formComponents);\r\n  const filteredLayoutComponents = filterComponents(layoutComponents);\r\n  const filteredEntityComponents = filterComponents(entityComponents);\r\n  const filteredWidgets = filterWidgets(widgets);\r\n\r\n  return (\r\n    <Sidebar className=\"border-r\">\r\n      <SidebarContent>\r\n        {renderHeader && renderHeader()}\r\n        \r\n        <div className=\"p-4 border-b\">\r\n          <div className=\"relative\">\r\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n            <Input\r\n              type=\"search\"\r\n              placeholder=\"Search components...\"\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              className=\"pl-9\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <SidebarGroup>\r\n          <SidebarGroupLabel>Components (Drag to add)</SidebarGroupLabel>\r\n          <SidebarGroupContent>\r\n            <SidebarMenu>\r\n              {filteredComponents.map((component) => (\r\n                <DraggableComponentItem key={component.type} component={component} />\r\n              ))}\r\n              {filteredComponents.length === 0 && (\r\n                <div className=\"px-2 py-4 text-sm text-muted-foreground text-center\">\r\n                  No components found\r\n                </div>\r\n              )}\r\n            </SidebarMenu>\r\n          </SidebarGroupContent>\r\n        </SidebarGroup>\r\n        \r\n        <SidebarGroup>\r\n          <SidebarGroupLabel>Advanced Components</SidebarGroupLabel>\r\n          <SidebarGroupContent>\r\n            <SidebarMenu>\r\n              {filteredAdvancedComponents.map((component) => (\r\n                <DraggableComponentItem key={component.type} component={component} />\r\n              ))}\r\n              {filteredAdvancedComponents.length === 0 && searchQuery && (\r\n                <div className=\"px-2 py-4 text-sm text-muted-foreground text-center\">\r\n                  No advanced components found\r\n                </div>\r\n              )}\r\n            </SidebarMenu>\r\n          </SidebarGroupContent>\r\n        </SidebarGroup>\r\n\r\n        <SidebarGroup>\r\n          <SidebarGroupLabel>Form Components</SidebarGroupLabel>\r\n          <SidebarGroupContent>\r\n            <SidebarMenu>\r\n              {filteredFormComponents.map((component) => (\r\n                <DraggableComponentItem key={component.type} component={component} />\r\n              ))}\r\n              {filteredFormComponents.length === 0 && searchQuery && (\r\n                <div className=\"px-2 py-4 text-sm text-muted-foreground text-center\">\r\n                  No form components found\r\n                </div>\r\n              )}\r\n            </SidebarMenu>\r\n          </SidebarGroupContent>\r\n        </SidebarGroup>\r\n        \r\n        {isLayoutEditor && (\r\n          <SidebarGroup>\r\n            <SidebarGroupLabel>Layout Components</SidebarGroupLabel>\r\n            <SidebarGroupContent>\r\n              <SidebarMenu>\r\n                {filteredLayoutComponents.map((component) => (\r\n                  <DraggableComponentItem key={component.type} component={component} />\r\n                ))}\r\n                {filteredLayoutComponents.length === 0 && (\r\n                  <div className=\"px-2 py-4 text-sm text-muted-foreground text-center\">\r\n                    No layout components found\r\n                  </div>\r\n                )}\r\n              </SidebarMenu>\r\n            </SidebarGroupContent>\r\n          </SidebarGroup>\r\n        )}\r\n\r\n        {!isLayoutEditor && filteredWidgets.length > 0 && (\r\n          <SidebarGroup>\r\n            <div className=\"flex items-center gap-2 px-4 py-2\">\r\n              <SidebarGroupLabel>Widgets (Drag to add)</SidebarGroupLabel>\r\n              <Tooltip>\r\n                <TooltipTrigger>\r\n                  <Info className=\"h-3 w-3 text-muted-foreground\" />\r\n                </TooltipTrigger>\r\n                <TooltipContent side=\"right\" className=\"max-w-xs\">\r\n                  <p className=\"text-xs\">Reusable components. When you edit the widget, all instances on all pages update automatically.</p>\r\n                </TooltipContent>\r\n              </Tooltip>\r\n            </div>\r\n            <SidebarGroupContent>\r\n              <SidebarMenu>\r\n                {filteredWidgets.map((widget) => (\r\n                  <DraggableWidgetItem key={widget.id} widget={widget} />\r\n                ))}\r\n              </SidebarMenu>\r\n            </SidebarGroupContent>\r\n          </SidebarGroup>\r\n        )}\r\n\r\n        {!isLayoutEditor && (\r\n          <SidebarGroup>\r\n            <SidebarGroupLabel>Entity Components</SidebarGroupLabel>\r\n            <SidebarGroupContent>\r\n              <SidebarMenu>\r\n                {filteredEntityComponents.map((component) => (\r\n                  <DraggableComponentItem key={component.type} component={component} />\r\n                ))}\r\n                {filteredEntityComponents.length === 0 && searchQuery && (\r\n                  <div className=\"px-2 py-4 text-sm text-muted-foreground text-center\">\r\n                    No entity components found\r\n                  </div>\r\n                )}\r\n              </SidebarMenu>\r\n            </SidebarGroupContent>\r\n          </SidebarGroup>\r\n        )}\r\n\r\n        {!isLayoutEditor && widgets.length > 0 && filteredWidgets.length === 0 && searchQuery && (\r\n          <SidebarGroup>\r\n            <SidebarGroupLabel>Widgets (Drag to add)</SidebarGroupLabel>\r\n            <SidebarGroupContent>\r\n              <div className=\"px-2 py-4 text-sm text-muted-foreground text-center\">\r\n                No widgets found\r\n              </div>\r\n            </SidebarGroupContent>\r\n          </SidebarGroup>\r\n        )}\r\n      </SidebarContent>\r\n    </Sidebar>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 737, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/OutlineTreeItem.tsx"],"sourcesContent":["import { useSortable } from \"@dnd-kit/sortable\";\r\nimport { CSS } from \"@dnd-kit/utilities\";\r\nimport { ChevronRight, ChevronDown, Eye, EyeOff, Lock, Unlock, GripVertical } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { useState } from \"react\";\r\n\r\ninterface OutlineTreeItemProps {\r\n  id: string;\r\n  label: string;\r\n  type: \"component\" | \"column\" | \"row\";\r\n  componentType?: string;\r\n  visible?: boolean;\r\n  locked?: boolean;\r\n  isSelected?: boolean;\r\n  hasChildren?: boolean;\r\n  isExpanded?: boolean;\r\n  onToggleExpand?: () => void;\r\n  level: number;\r\n  onToggleVisibility?: () => void;\r\n  onToggleLock?: () => void;\r\n  onSelect?: () => void;\r\n}\r\n\r\nexport const OutlineTreeItem = ({\r\n  id,\r\n  label,\r\n  type,\r\n  componentType,\r\n  visible = true,\r\n  locked = false,\r\n  isSelected = false,\r\n  hasChildren = false,\r\n  isExpanded = true,\r\n  onToggleExpand,\r\n  level,\r\n  onToggleVisibility,\r\n  onToggleLock,\r\n  onSelect,\r\n}: OutlineTreeItemProps) => {\r\n\r\n  const {\r\n    attributes,\r\n    listeners,\r\n    setNodeRef,\r\n    transform,\r\n    transition,\r\n    isDragging,\r\n  } = useSortable({\r\n    id,\r\n    disabled: locked,\r\n    data: { type, id },\r\n  });\r\n\r\n  const style = {\r\n    transform: CSS.Transform.toString(transform),\r\n    transition,\r\n    opacity: isDragging ? 0.5 : 1,\r\n  };\r\n\r\n  const getIcon = () => {\r\n    if (type === \"row\") return \"üìê\";\r\n    if (type === \"column\") return \"üì¶\";\r\n    \r\n    // Component icons\r\n    const icons: Record<string, string> = {\r\n      heading: \"üìù\",\r\n      paragraph: \"üìÑ\",\r\n      image: \"üñºÔ∏è\",\r\n      button: \"üîò\",\r\n      link: \"üîó\",\r\n      video: \"üé•\",\r\n      divider: \"‚ûñ\",\r\n      spacer: \"‚¨ú\",\r\n      quote: \"üí¨\",\r\n      list: \"üìã\",\r\n      code: \"üíª\",\r\n      chart: \"üìä\",\r\n      tabs: \"üìë\",\r\n      accordion: \"üóÇÔ∏è\",\r\n      card: \"üÉè\",\r\n      \"form-input\": \"üìù\",\r\n      \"form-textarea\": \"üìù\",\r\n      \"form-select\": \"üîΩ\",\r\n      \"form-checkbox\": \"‚òëÔ∏è\",\r\n      \"form-submit\": \"‚úÖ\",\r\n    };\r\n    \r\n    return icons[componentType || \"\"] || \"üì¶\";\r\n  };\r\n\r\n  return (\r\n    <div\r\n      ref={setNodeRef}\r\n      style={style}\r\n      className={cn(\r\n        \"group flex items-center gap-1 py-1 px-2 rounded transition-colors\",\r\n        type === \"component\" && \"cursor-pointer\",\r\n        type === \"component\" && \"hover:bg-accent\",\r\n        type !== \"component\" && \"hover:bg-muted/50\",\r\n        isSelected && \"bg-primary/10 border-l-2 border-primary\",\r\n        !visible && \"opacity-50\",\r\n        locked && \"cursor-not-allowed\"\r\n      )}\r\n    >\r\n      <div style={{ marginLeft: `${level * 16}px` }} className=\"flex items-center gap-1 flex-1 min-w-0\">\r\n        {hasChildren && (\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"icon\"\r\n            className=\"h-4 w-4 p-0 hover:bg-accent\"\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              onToggleExpand?.();\r\n            }}\r\n          >\r\n            {isExpanded ? (\r\n              <ChevronDown className=\"h-3 w-3\" />\r\n            ) : (\r\n              <ChevronRight className=\"h-3 w-3\" />\r\n            )}\r\n          </Button>\r\n        )}\r\n        \r\n        {!hasChildren && <div className=\"w-4\" />}\r\n        \r\n        <div\r\n          {...attributes}\r\n          {...listeners}\r\n          className={cn(\r\n            \"cursor-grab active:cursor-grabbing opacity-0 group-hover:opacity-100 shrink-0\",\r\n            locked && \"cursor-not-allowed opacity-30\"\r\n          )}\r\n          onPointerDown={(e) => e.stopPropagation()}\r\n        >\r\n          <GripVertical className=\"h-3 w-3 text-muted-foreground\" />\r\n        </div>\r\n        \r\n        <span className=\"text-sm mr-1\">{getIcon()}</span>\r\n        \r\n        <span \r\n          className={cn(\r\n            \"text-sm truncate flex-1\",\r\n            type === \"component\" && \"cursor-pointer\",\r\n            !visible && \"line-through\"\r\n          )}\r\n          onClick={(e) => {\r\n            if (type === \"component\" && onSelect) {\r\n              e.stopPropagation();\r\n              e.preventDefault();\r\n              console.log('[OutlineTreeItem] Label clicked, selecting:', id);\r\n              onSelect();\r\n            }\r\n          }}\r\n        >\r\n          {label}\r\n        </span>\r\n      </div>\r\n      \r\n      <div className=\"flex items-center gap-0.5 shrink-0\">\r\n        {type === \"component\" && onToggleVisibility && (\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"icon\"\r\n            className=\"h-6 w-6 hover:bg-accent shrink-0\"\r\n            onPointerDown={(e) => {\r\n              e.stopPropagation();\r\n            }}\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              e.preventDefault();\r\n              console.log('[OutlineTreeItem] Visibility clicked for:', id, visible);\r\n              onToggleVisibility();\r\n            }}\r\n            title={visible ? \"Hide component\" : \"Show component\"}\r\n          >\r\n            {visible ? (\r\n              <Eye className=\"h-3 w-3 text-muted-foreground\" />\r\n            ) : (\r\n              <EyeOff className=\"h-3 w-3 text-destructive\" />\r\n            )}\r\n          </Button>\r\n        )}\r\n        \r\n        {type === \"component\" && onToggleLock && (\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"icon\"\r\n            className=\"h-6 w-6 hover:bg-accent shrink-0\"\r\n            onPointerDown={(e) => {\r\n              e.stopPropagation();\r\n            }}\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              e.preventDefault();\r\n              console.log('[OutlineTreeItem] Lock clicked for:', id, locked);\r\n              onToggleLock();\r\n            }}\r\n            title={locked ? \"Unlock component\" : \"Lock component\"}\r\n          >\r\n            {locked ? (\r\n              <Lock className=\"h-3 w-3 text-orange-500\" />\r\n            ) : (\r\n              <Unlock className=\"h-3 w-3 text-muted-foreground\" />\r\n            )}\r\n          </Button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 976, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/OutlinePanel.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { DndContext, DragEndEvent, closestCenter } from \"@dnd-kit/core\";\r\nimport { SortableContext, verticalListSortingStrategy } from \"@dnd-kit/sortable\";\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\r\nimport { OutlineTreeItem } from \"./OutlineTreeItem\";\r\nimport { Tables } from \"@/integrations/supabase/types\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\n\r\ntype Row = Tables<\"page_rows\"> | Tables<\"widget_rows\"> | Tables<\"layout_rows\">;\r\ntype Component = Tables<\"page_components\"> | Tables<\"widget_components\"> | Tables<\"layout_components\">;\r\n\r\ninterface OutlinePanelProps {\r\n  title: string;\r\n  rows: Row[];\r\n  components: Component[];\r\n  selectedComponentId?: string | null;\r\n  onSelectComponent: (id: string) => void;\r\n  onToggleVisibility: (id: string) => void;\r\n  onToggleLock: (id: string) => void;\r\n}\r\n\r\nexport const OutlinePanel = ({\r\n  title,\r\n  rows,\r\n  components,\r\n  selectedComponentId,\r\n  onSelectComponent,\r\n  onToggleVisibility,\r\n  onToggleLock,\r\n}: OutlinePanelProps) => {\r\n  const [expandedRows, setExpandedRows] = useState<Set<string>>(new Set(rows.map(r => r.id)));\r\n  const [expandedColumns, setExpandedColumns] = useState<Set<string>>(new Set());\r\n  \r\n  const sortedRows = [...rows].sort((a, b) => a.position - b.position);\r\n\r\n  const getComponentsByRowAndColumn = (rowId: string, columnIndex: number) => {\r\n    return components\r\n      .filter((c) => c.row_id === rowId && c.column_index === columnIndex)\r\n      .sort((a, b) => a.position - b.position);\r\n  };\r\n\r\n  const getComponentLabel = (component: Component) => {\r\n    const content = component.content as any;\r\n    const type = component.component_type;\r\n    \r\n    // Try to get meaningful label from content\r\n    if (content?.text) return content.text.substring(0, 30);\r\n    if (content?.title) return content.title.substring(0, 30);\r\n    if (content?.label) return content.label.substring(0, 30);\r\n    if (content?.alt) return content.alt.substring(0, 30);\r\n    \r\n    // Fallback to type name\r\n    return type.split('-').map(w => w.charAt(0).toUpperCase() + w.slice(1)).join(' ');\r\n  };\r\n\r\n  const getVisibility = (component: Component) => {\r\n    const styles = (component as any).styles || {};\r\n    return styles.visible !== false;\r\n  };\r\n\r\n  const getLocked = (component: Component) => {\r\n    const styles = (component as any).styles || {};\r\n    return styles.locked === true;\r\n  };\r\n\r\n  const toggleRowExpand = (rowId: string) => {\r\n    setExpandedRows(prev => {\r\n      const next = new Set(prev);\r\n      if (next.has(rowId)) {\r\n        next.delete(rowId);\r\n      } else {\r\n        next.add(rowId);\r\n      }\r\n      return next;\r\n    });\r\n  };\r\n\r\n  const toggleColumnExpand = (colKey: string) => {\r\n    setExpandedColumns(prev => {\r\n      const next = new Set(prev);\r\n      if (next.has(colKey)) {\r\n        next.delete(colKey);\r\n      } else {\r\n        next.add(colKey);\r\n      }\r\n      return next;\r\n    });\r\n  };\r\n\r\n  const handleDragEnd = (event: DragEndEvent) => {\r\n    // Drag and drop reordering can be implemented here in the future\r\n    console.log('Drag ended in outline:', event);\r\n  };\r\n\r\n\r\n  return (\r\n    <DndContext collisionDetection={closestCenter} onDragEnd={handleDragEnd}>\r\n      <div className=\"flex flex-col h-full bg-background\">\r\n        <div className=\"p-4 border-b\">\r\n          <h3 className=\"font-semibold text-sm\">{title}</h3>\r\n          <p className=\"text-xs text-muted-foreground mt-1\">\r\n            {rows.length} row{rows.length !== 1 ? 's' : ''}, {components.length} component{components.length !== 1 ? 's' : ''}\r\n          </p>\r\n        </div>\r\n        \r\n        <ScrollArea className=\"flex-1\">\r\n          <SortableContext items={components.map(c => c.id)} strategy={verticalListSortingStrategy}>\r\n            <div className=\"p-2 space-y-1\">\r\n          {sortedRows.length === 0 ? (\r\n            <div className=\"text-center py-8 text-sm text-muted-foreground\">\r\n              No content yet\r\n            </div>\r\n          ) : (\r\n            sortedRows.map((row, rowIndex) => {\r\n              const rowExpanded = expandedRows.has(row.id);\r\n              \r\n              return (\r\n                <div key={row.id}>\r\n                  <OutlineTreeItem\r\n                    id={`row-${row.id}`}\r\n                    label={`Row ${rowIndex + 1} (${row.columns} column${row.columns !== 1 ? 's' : ''})`}\r\n                    type=\"row\"\r\n                    level={0}\r\n                    hasChildren={true}\r\n                    isExpanded={rowExpanded}\r\n                    onToggleExpand={() => toggleRowExpand(row.id)}\r\n                    onSelect={() => {}}\r\n                  />\r\n                  \r\n                  {rowExpanded && Array.from({ length: row.columns }, (_, colIndex) => {\r\n                    const columnComponents = getComponentsByRowAndColumn(row.id, colIndex);\r\n                    const colKey = `${row.id}-${colIndex}`;\r\n                    const colExpanded = expandedColumns.has(colKey);\r\n                    \r\n                    return (\r\n                      <div key={colKey}>\r\n                        {row.columns > 1 && (\r\n                          <OutlineTreeItem\r\n                            id={`col-${colKey}`}\r\n                            label={`Column ${colIndex + 1}`}\r\n                            type=\"column\"\r\n                            level={1}\r\n                            hasChildren={columnComponents.length > 0}\r\n                            isExpanded={colExpanded}\r\n                            onToggleExpand={() => toggleColumnExpand(colKey)}\r\n                            onSelect={() => {}}\r\n                          />\r\n                        )}\r\n                        \r\n                        {(row.columns === 1 || colExpanded) && columnComponents.map((component) => {\r\n                          console.log('[OutlinePanel] Rendering component:', component.id, {\r\n                            hasVisibilityHandler: !!onToggleVisibility,\r\n                            hasLockHandler: !!onToggleLock,\r\n                            hasSelectHandler: !!onSelectComponent,\r\n                          });\r\n                          \r\n                          return (\r\n                            <OutlineTreeItem\r\n                              key={component.id}\r\n                              id={component.id}\r\n                              label={getComponentLabel(component)}\r\n                              type=\"component\"\r\n                              componentType={component.component_type}\r\n                              level={row.columns > 1 ? 2 : 1}\r\n                              visible={getVisibility(component)}\r\n                              locked={getLocked(component)}\r\n                              isSelected={selectedComponentId === component.id}\r\n                              onSelect={() => {\r\n                                console.log('[OutlinePanel] onSelect called for:', component.id);\r\n                                onSelectComponent(component.id);\r\n                              }}\r\n                              onToggleVisibility={() => {\r\n                                console.log('[OutlinePanel] onToggleVisibility called for:', component.id);\r\n                                onToggleVisibility(component.id);\r\n                              }}\r\n                              onToggleLock={() => {\r\n                                console.log('[OutlinePanel] onToggleLock called for:', component.id);\r\n                                onToggleLock(component.id);\r\n                              }}\r\n                            />\r\n                          );\r\n                        })}\r\n                      </div>\r\n                    );\r\n                  })}\r\n                  \r\n                  {rowIndex < sortedRows.length - 1 && (\r\n                    <Separator className=\"my-2\" />\r\n                  )}\r\n                </div>\r\n              );\r\n            })\r\n          )}\r\n            </div>\r\n          </SortableContext>\r\n        </ScrollArea>\r\n      </div>\r\n    </DndContext>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1226, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/SidebarToggle.tsx"],"sourcesContent":["import { ComponentsSidebar } from \"./ComponentsSidebar\";\r\nimport { OutlinePanel } from \"./OutlinePanel\";\r\nimport { Sidebar, SidebarContent, SidebarHeader } from \"@/components/ui/sidebar\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { List, Shapes } from \"lucide-react\";\r\nimport { Tables } from \"@/integrations/supabase/types\";\r\n\r\ntype Row = Tables<\"page_rows\"> | Tables<\"widget_rows\"> | Tables<\"layout_rows\">;\r\ntype Component = Tables<\"page_components\"> | Tables<\"widget_components\"> | Tables<\"layout_components\">;\r\n\r\ninterface SidebarToggleProps {\r\n  showOutline: boolean;\r\n  onToggle: () => void;\r\n  title: string;\r\n  rows: Row[];\r\n  components: Component[];\r\n  selectedComponentId?: string | null;\r\n  onSelectComponent: (id: string) => void;\r\n  onToggleVisibility: (id: string) => void;\r\n  onToggleLock: (id: string) => void;\r\n  isLayoutEditor?: boolean;\r\n}\r\n\r\nexport const SidebarToggle = ({\r\n  showOutline,\r\n  onToggle,\r\n  title,\r\n  rows,\r\n  components,\r\n  selectedComponentId,\r\n  onSelectComponent,\r\n  onToggleVisibility,\r\n  onToggleLock,\r\n  isLayoutEditor = false,\r\n}: SidebarToggleProps) => {\r\n  if (showOutline) {\r\n    return (\r\n      <Sidebar>\r\n        <SidebarHeader className=\"p-4 border-b\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <h3 className=\"font-semibold\">Structure</h3>\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              onClick={onToggle}\r\n              className=\"gap-2\"\r\n              title=\"Switch to Components\"\r\n            >\r\n              <Shapes className=\"h-4 w-4\" />\r\n              <span className=\"text-xs\">Components</span>\r\n            </Button>\r\n          </div>\r\n        </SidebarHeader>\r\n        <SidebarContent className=\"p-0\">\r\n          <OutlinePanel\r\n            title={title}\r\n            rows={rows}\r\n            components={components}\r\n            selectedComponentId={selectedComponentId}\r\n            onSelectComponent={onSelectComponent}\r\n            onToggleVisibility={onToggleVisibility}\r\n            onToggleLock={onToggleLock}\r\n          />\r\n        </SidebarContent>\r\n      </Sidebar>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <ComponentsSidebar\r\n      isLayoutEditor={isLayoutEditor}\r\n      renderHeader={() => (\r\n        <div className=\"p-4 border-b bg-muted/30\">\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <h3 className=\"font-semibold text-sm\">Add Components</h3>\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              onClick={onToggle}\r\n              className=\"gap-1 h-8\"\r\n              title=\"Switch to Outline View\"\r\n            >\r\n              <List className=\"h-4 w-4\" />\r\n              <span className=\"text-xs\">Outline</span>\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    />\r\n  );\r\n};\r\n\r\n\r\n\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;;;;;;;AAmBO,MAAM,gBAAgB,CAAC,EAC5B,WAAW,EACX,QAAQ,EACR,KAAK,EACL,IAAI,EACJ,UAAU,EACV,mBAAmB,EACnB,iBAAiB,EACjB,kBAAkB,EAClB,YAAY,EACZ,iBAAiB,KAAK,EACH;IACnB,IAAI,aAAa;QACf,qBACE,8OAAC,8IAAO;;8BACN,8OAAC,oJAAa;oBAAC,WAAU;8BACvB,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAgB;;;;;;0CAC9B,8OAAC,4IAAM;gCACL,SAAQ;gCACR,MAAK;gCACL,SAAS;gCACT,WAAU;gCACV,OAAM;;kDAEN,8OAAC,gNAAM;wCAAC,WAAU;;;;;;kDAClB,8OAAC;wCAAK,WAAU;kDAAU;;;;;;;;;;;;;;;;;;;;;;;8BAIhC,8OAAC,qJAAc;oBAAC,WAAU;8BACxB,cAAA,8OAAC,4JAAY;wBACX,OAAO;wBACP,MAAM;wBACN,YAAY;wBACZ,qBAAqB;wBACrB,mBAAmB;wBACnB,oBAAoB;wBACpB,cAAc;;;;;;;;;;;;;;;;;IAKxB;IAEA,qBACE,8OAAC,sKAAiB;QAChB,gBAAgB;QAChB,cAAc,kBACZ,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAwB;;;;;;sCACtC,8OAAC,4IAAM;4BACL,SAAQ;4BACR,MAAK;4BACL,SAAS;4BACT,WAAU;4BACV,OAAM;;8CAEN,8OAAC,0MAAI;oCAAC,WAAU;;;;;;8CAChB,8OAAC;oCAAK,WAAU;8CAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOxC"}},
    {"offset": {"line": 1390, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/ResponsiveControls.tsx"],"sourcesContent":["import { Tabs, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport { Monitor, Tablet, Smartphone } from \"lucide-react\";\r\n\r\nexport type Breakpoint = \"desktop\" | \"tablet\" | \"mobile\";\r\n\r\ninterface ResponsiveControlsProps {\r\n  currentBreakpoint: Breakpoint;\r\n  onBreakpointChange: (breakpoint: Breakpoint) => void;\r\n}\r\n\r\nexport const ResponsiveControls = ({\r\n  currentBreakpoint,\r\n  onBreakpointChange,\r\n}: ResponsiveControlsProps) => {\r\n  return (\r\n    <Tabs value={currentBreakpoint} onValueChange={(v) => onBreakpointChange(v as Breakpoint)}>\r\n      <TabsList>\r\n        <TabsTrigger value=\"desktop\" className=\"gap-2\">\r\n          <Monitor className=\"h-4 w-4\" />\r\n          Desktop\r\n        </TabsTrigger>\r\n        <TabsTrigger value=\"tablet\" className=\"gap-2\">\r\n          <Tablet className=\"h-4 w-4\" />\r\n          Tablet\r\n        </TabsTrigger>\r\n        <TabsTrigger value=\"mobile\" className=\"gap-2\">\r\n          <Smartphone className=\"h-4 w-4\" />\r\n          Mobile\r\n        </TabsTrigger>\r\n      </TabsList>\r\n    </Tabs>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AAAA;;;;AASO,MAAM,qBAAqB,CAAC,EACjC,iBAAiB,EACjB,kBAAkB,EACM;IACxB,qBACE,8OAAC,wIAAI;QAAC,OAAO;QAAmB,eAAe,CAAC,IAAM,mBAAmB;kBACvE,cAAA,8OAAC,4IAAQ;;8BACP,8OAAC,+IAAW;oBAAC,OAAM;oBAAU,WAAU;;sCACrC,8OAAC,mNAAO;4BAAC,WAAU;;;;;;wBAAY;;;;;;;8BAGjC,8OAAC,+IAAW;oBAAC,OAAM;oBAAS,WAAU;;sCACpC,8OAAC,gNAAM;4BAAC,WAAU;;;;;;wBAAY;;;;;;;8BAGhC,8OAAC,+IAAW;oBAAC,OAAM;oBAAS,WAAU;;sCACpC,8OAAC,4NAAU;4BAAC,WAAU;;;;;;wBAAY;;;;;;;;;;;;;;;;;;AAM5C"}},
    {"offset": {"line": 1478, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/DeviceFrame.tsx"],"sourcesContent":["import { Breakpoint } from \"./ResponsiveControls\";\r\n\r\ninterface DeviceFrameProps {\r\n  breakpoint: Breakpoint;\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport const DeviceFrame = ({ breakpoint, children }: DeviceFrameProps) => {\r\n  if (breakpoint === \"desktop\") {\r\n    return <div className=\"w-full h-full\">{children}</div>;\r\n  }\r\n\r\n  const isMobile = breakpoint === \"mobile\";\r\n  const width = isMobile ? 375 : 768;\r\n  const height = isMobile ? 667 : 1024;\r\n  \r\n  const frameStyles = isMobile\r\n    ? \"mx-auto border-8 border-gray-800 rounded-[2.5rem] shadow-2xl relative bg-gray-800\"\r\n    : \"mx-auto border-8 border-gray-700 rounded-[2rem] shadow-2xl relative bg-gray-700\";\r\n\r\n  const notchStyles = isMobile\r\n    ? \"absolute top-0 left-1/2 -translate-x-1/2 w-40 h-6 bg-gray-800 rounded-b-3xl z-10\"\r\n    : \"absolute top-0 left-1/2 -translate-x-1/2 w-20 h-1 bg-gray-700 rounded-b-lg z-10\";\r\n\r\n  return (\r\n    <div className=\"py-8 px-4\">\r\n      <div className={frameStyles} style={{ width: `${width}px` }}>\r\n        <div className={notchStyles}>\r\n          {isMobile && (\r\n            <div className=\"absolute top-2 left-1/2 -translate-x-1/2 w-16 h-1 bg-gray-900 rounded-full\" />\r\n          )}\r\n        </div>\r\n        \r\n        <div \r\n          className=\"bg-white rounded-[1.75rem] overflow-auto custom-scrollbar\" \r\n          style={{\r\n            height: `${height}px`,\r\n            maxHeight: `${height}px`\r\n          }}\r\n        >\r\n          {children}\r\n        </div>\r\n        \r\n        {isMobile && (\r\n          <div className=\"absolute bottom-2 left-1/2 -translate-x-1/2 w-12 h-12 border-2 border-gray-900 rounded-full\" />\r\n        )}\r\n      </div>\r\n      \r\n      <style>{`\r\n        .custom-scrollbar::-webkit-scrollbar {\r\n          width: 8px;\r\n          height: 8px;\r\n        }\r\n        \r\n        .custom-scrollbar::-webkit-scrollbar-track {\r\n          background: transparent;\r\n          margin: 1.75rem;\r\n        }\r\n        \r\n        .custom-scrollbar::-webkit-scrollbar-thumb {\r\n          background: rgba(156, 163, 175, 0.5);\r\n          border-radius: 10px;\r\n        }\r\n        \r\n        .custom-scrollbar::-webkit-scrollbar-thumb:hover {\r\n          background: rgba(107, 114, 128, 0.7);\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;;AAOO,MAAM,cAAc,CAAC,EAAE,UAAU,EAAE,QAAQ,EAAoB;IACpE,IAAI,eAAe,WAAW;QAC5B,qBAAO,8OAAC;YAAI,WAAU;sBAAiB;;;;;;IACzC;IAEA,MAAM,WAAW,eAAe;IAChC,MAAM,QAAQ,WAAW,MAAM;IAC/B,MAAM,SAAS,WAAW,MAAM;IAEhC,MAAM,cAAc,WAChB,sFACA;IAEJ,MAAM,cAAc,WAChB,qFACA;IAEJ,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAW;gBAAa,OAAO;oBAAE,OAAO,GAAG,MAAM,EAAE,CAAC;gBAAC;;kCACxD,8OAAC;wBAAI,WAAW;kCACb,0BACC,8OAAC;4BAAI,WAAU;;;;;;;;;;;kCAInB,8OAAC;wBACC,WAAU;wBACV,OAAO;4BACL,QAAQ,GAAG,OAAO,EAAE,CAAC;4BACrB,WAAW,GAAG,OAAO,EAAE,CAAC;wBAC1B;kCAEC;;;;;;oBAGF,0BACC,8OAAC;wBAAI,WAAU;;;;;;;;;;;;0BAInB,8OAAC;0BAAO,CAAC;;;;;;;;;;;;;;;;;;;MAmBT,CAAC;;;;;;;;;;;;AAGP"}},
    {"offset": {"line": 1585, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/PagePreviewModal.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { Dialog, DialogContent, DialogTitle } from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { X } from \"lucide-react\";\r\nimport { ComponentRenderer } from \"@/components/public/ComponentRenderer\";\r\nimport { Tables } from \"@/integrations/supabase/types\";\r\nimport { ResponsiveControls, Breakpoint } from \"./ResponsiveControls\";\r\nimport { DeviceFrame } from \"./DeviceFrame\";\r\n\r\ninterface PagePreviewModalProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  page: Tables<\"pages\"> | null;\r\n  rows: Tables<\"page_rows\">[];\r\n  components: Tables<\"page_components\">[];\r\n  layout: Tables<\"layouts\"> | null;\r\n  layoutRows: Tables<\"layout_rows\">[];\r\n  layoutComponents: Tables<\"layout_components\">[];\r\n  widgetData: Map<string, { rows: any[]; components: any[] }>;\r\n}\r\n\r\nexport const PagePreviewModal = ({ \r\n  open, \r\n  onOpenChange, \r\n  page,\r\n  rows,\r\n  components,\r\n  layout,\r\n  layoutRows,\r\n  layoutComponents,\r\n  widgetData\r\n}: PagePreviewModalProps) => {\r\n  const [currentBreakpoint, setCurrentBreakpoint] = useState<Breakpoint>(\"desktop\");\r\n\r\n  const handleFullscreen = () => {\r\n    const url = `/p/${page?.slug}`;\r\n    window.open(url, '_blank');\r\n  };\r\n\r\n  const renderWidgetContent = (widgetId: string) => {\r\n    const widget = widgetData.get(widgetId);\r\n    if (!widget) {\r\n      return (\r\n        <div className=\"p-4 border border-dashed border-muted-foreground/30 rounded-lg\">\r\n          <p className=\"text-sm text-muted-foreground\">Widget not found</p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return widget.rows\r\n      .sort((a, b) => a.position - b.position)\r\n      .map((row) => {\r\n        const rowComponents = widget.components\r\n          .filter((c: any) => c.row_id === row.id)\r\n          .sort((a: any, b: any) => a.position - b.position);\r\n\r\n        const columnComponents: any[] = Array.from(\r\n          { length: row.columns },\r\n          () => []\r\n        );\r\n\r\n        rowComponents.forEach((comp: any) => {\r\n          if (comp.column_index < row.columns) {\r\n            columnComponents[comp.column_index].push(comp);\r\n          }\r\n        });\r\n\r\n        return (\r\n          <div\r\n            key={row.id}\r\n            className=\"grid gap-4\"\r\n            style={{ gridTemplateColumns: `repeat(${row.columns}, 1fr)` }}\r\n          >\r\n            {columnComponents.map((colComps, colIndex) => (\r\n              <div key={colIndex} className=\"space-y-4\">\r\n                {colComps.map((component: any) => (\r\n                  <ComponentRenderer key={component.id} component={component} />\r\n                ))}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        );\r\n      });\r\n  };\r\n\r\n  const renderContent = (contentRows: any[], contentComponents: any[]) => {\r\n    return contentRows\r\n      .sort((a, b) => a.position - b.position)\r\n      .map((row) => {\r\n        const rowComponents = contentComponents\r\n          .filter((c) => c.row_id === row.id)\r\n          .sort((a, b) => a.position - b.position);\r\n\r\n        const columnComponents: typeof rowComponents[] = Array.from(\r\n          { length: row.columns },\r\n          () => []\r\n        );\r\n\r\n        rowComponents.forEach((comp) => {\r\n          if (comp.column_index < row.columns) {\r\n            columnComponents[comp.column_index].push(comp);\r\n          }\r\n        });\r\n\r\n        return (\r\n          <div\r\n            key={row.id}\r\n            className=\"grid gap-4\"\r\n            style={{ gridTemplateColumns: `repeat(${row.columns}, 1fr)` }}\r\n          >\r\n            {columnComponents.map((colComps, colIndex) => (\r\n              <div key={colIndex} className=\"space-y-4\">\r\n                {colComps.map((component) => {\r\n                  // Handle page-content placeholder in layout\r\n                  if (component.component_type === \"page-content\") {\r\n                    return (\r\n                      <div key={component.id} className=\"w-full\">\r\n                        {renderContent(rows, components)}\r\n                      </div>\r\n                    );\r\n                  }\r\n                  \r\n                  // Render widget instances\r\n                  if (\"is_widget_instance\" in component && component.is_widget_instance && component.widget_id) {\r\n                    return (\r\n                      <div key={component.id}>\r\n                        {renderWidgetContent(component.widget_id)}\r\n                      </div>\r\n                    );\r\n                  }\r\n                  \r\n                  return <ComponentRenderer key={component.id} component={component} />;\r\n                })}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        );\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"max-w-[95vw] max-h-[90vh] p-0 gap-0\" hideClose>\r\n        <DialogTitle className=\"sr-only\">Page Preview: {page?.title}</DialogTitle>\r\n        <div className=\"flex items-center justify-between border-b px-4 py-3 bg-card\">\r\n          <h2 className=\"text-lg font-semibold\" aria-hidden=\"true\">Page Preview: {page?.title}</h2>\r\n          <div className=\"flex items-center gap-4\">\r\n            <ResponsiveControls \r\n              currentBreakpoint={currentBreakpoint}\r\n              onBreakpointChange={setCurrentBreakpoint}\r\n            />\r\n            <Button variant=\"ghost\" size=\"icon\" onClick={() => onOpenChange(false)}>\r\n              <X className=\"h-4 w-4\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex-1 overflow-auto bg-background\">\r\n          <DeviceFrame breakpoint={currentBreakpoint}>\r\n            <div className=\"min-h-full\">\r\n              {layout ? (\r\n                // Render with layout\r\n                renderContent(layoutRows, layoutComponents)\r\n              ) : (\r\n                // Render page content only\r\n                <div className=\"max-w-7xl mx-auto px-4 py-8\">\r\n                  {renderContent(rows, components)}\r\n                </div>\r\n              )}\r\n              {rows.length === 0 && (\r\n                <p className=\"text-center text-muted-foreground py-12\">\r\n                  No content yet. Add rows and components to see the preview.\r\n                </p>\r\n              )}\r\n            </div>\r\n          </DeviceFrame>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;;;;;;;;;AAcO,MAAM,mBAAmB,CAAC,EAC/B,IAAI,EACJ,YAAY,EACZ,IAAI,EACJ,IAAI,EACJ,UAAU,EACV,MAAM,EACN,UAAU,EACV,gBAAgB,EAChB,UAAU,EACY;IACtB,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,iNAAQ,EAAa;IAEvE,MAAM,mBAAmB;QACvB,MAAM,MAAM,CAAC,GAAG,EAAE,MAAM,MAAM;QAC9B,OAAO,IAAI,CAAC,KAAK;IACnB;IAEA,MAAM,sBAAsB,CAAC;QAC3B,MAAM,SAAS,WAAW,GAAG,CAAC;QAC9B,IAAI,CAAC,QAAQ;YACX,qBACE,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAE,WAAU;8BAAgC;;;;;;;;;;;QAGnD;QAEA,OAAO,OAAO,IAAI,CACf,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,QAAQ,GAAG,EAAE,QAAQ,EACtC,GAAG,CAAC,CAAC;YACJ,MAAM,gBAAgB,OAAO,UAAU,CACpC,MAAM,CAAC,CAAC,IAAW,EAAE,MAAM,KAAK,IAAI,EAAE,EACtC,IAAI,CAAC,CAAC,GAAQ,IAAW,EAAE,QAAQ,GAAG,EAAE,QAAQ;YAEnD,MAAM,mBAA0B,MAAM,IAAI,CACxC;gBAAE,QAAQ,IAAI,OAAO;YAAC,GACtB,IAAM,EAAE;YAGV,cAAc,OAAO,CAAC,CAAC;gBACrB,IAAI,KAAK,YAAY,GAAG,IAAI,OAAO,EAAE;oBACnC,gBAAgB,CAAC,KAAK,YAAY,CAAC,CAAC,IAAI,CAAC;gBAC3C;YACF;YAEA,qBACE,8OAAC;gBAEC,WAAU;gBACV,OAAO;oBAAE,qBAAqB,CAAC,OAAO,EAAE,IAAI,OAAO,CAAC,MAAM,CAAC;gBAAC;0BAE3D,iBAAiB,GAAG,CAAC,CAAC,UAAU,yBAC/B,8OAAC;wBAAmB,WAAU;kCAC3B,SAAS,GAAG,CAAC,CAAC,0BACb,8OAAC,sKAAiB;gCAAoB,WAAW;+BAAzB,UAAU,EAAE;;;;;uBAF9B;;;;;eALP,IAAI,EAAE;;;;;QAajB;IACJ;IAEA,MAAM,gBAAgB,CAAC,aAAoB;QACzC,OAAO,YACJ,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,QAAQ,GAAG,EAAE,QAAQ,EACtC,GAAG,CAAC,CAAC;YACJ,MAAM,gBAAgB,kBACnB,MAAM,CAAC,CAAC,IAAM,EAAE,MAAM,KAAK,IAAI,EAAE,EACjC,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,QAAQ,GAAG,EAAE,QAAQ;YAEzC,MAAM,mBAA2C,MAAM,IAAI,CACzD;gBAAE,QAAQ,IAAI,OAAO;YAAC,GACtB,IAAM,EAAE;YAGV,cAAc,OAAO,CAAC,CAAC;gBACrB,IAAI,KAAK,YAAY,GAAG,IAAI,OAAO,EAAE;oBACnC,gBAAgB,CAAC,KAAK,YAAY,CAAC,CAAC,IAAI,CAAC;gBAC3C;YACF;YAEA,qBACE,8OAAC;gBAEC,WAAU;gBACV,OAAO;oBAAE,qBAAqB,CAAC,OAAO,EAAE,IAAI,OAAO,CAAC,MAAM,CAAC;gBAAC;0BAE3D,iBAAiB,GAAG,CAAC,CAAC,UAAU,yBAC/B,8OAAC;wBAAmB,WAAU;kCAC3B,SAAS,GAAG,CAAC,CAAC;4BACb,4CAA4C;4BAC5C,IAAI,UAAU,cAAc,KAAK,gBAAgB;gCAC/C,qBACE,8OAAC;oCAAuB,WAAU;8CAC/B,cAAc,MAAM;mCADb,UAAU,EAAE;;;;;4BAI1B;4BAEA,0BAA0B;4BAC1B,IAAI,wBAAwB,aAAa,UAAU,kBAAkB,IAAI,UAAU,SAAS,EAAE;gCAC5F,qBACE,8OAAC;8CACE,oBAAoB,UAAU,SAAS;mCADhC,UAAU,EAAE;;;;;4BAI1B;4BAEA,qBAAO,8OAAC,sKAAiB;gCAAoB,WAAW;+BAAzB,UAAU,EAAE;;;;;wBAC7C;uBArBQ;;;;;eALP,IAAI,EAAE;;;;;QA+BjB;IACJ;IAEA,qBACE,8OAAC,4IAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,8OAAC,mJAAa;YAAC,WAAU;YAAsC,SAAS;;8BACtE,8OAAC,iJAAW;oBAAC,WAAU;;wBAAU;wBAAe,MAAM;;;;;;;8BACtD,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;4BAAwB,eAAY;;gCAAO;gCAAe,MAAM;;;;;;;sCAC9E,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,wKAAkB;oCACjB,mBAAmB;oCACnB,oBAAoB;;;;;;8CAEtB,8OAAC,4IAAM;oCAAC,SAAQ;oCAAQ,MAAK;oCAAO,SAAS,IAAM,aAAa;8CAC9D,cAAA,8OAAC,iMAAC;wCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;8BAInB,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,0JAAW;wBAAC,YAAY;kCACvB,cAAA,8OAAC;4BAAI,WAAU;;gCACZ,SACC,qBAAqB;gCACrB,cAAc,YAAY,oBAE1B,2BAA2B;8CAC3B,8OAAC;oCAAI,WAAU;8CACZ,cAAc,MAAM;;;;;;gCAGxB,KAAK,MAAM,KAAK,mBACf,8OAAC;oCAAE,WAAU;8CAA0C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUvE"}},
    {"offset": {"line": 1855, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/ComponentContextMenu.tsx"],"sourcesContent":["import { ReactNode } from \"react\";\r\nimport {\r\n  ContextMenu,\r\n  ContextMenuContent,\r\n  ContextMenuItem,\r\n  ContextMenuSeparator,\r\n  ContextMenuTrigger,\r\n} from \"@/components/ui/context-menu\";\r\nimport { Copy, Trash2, Edit, ArrowUp, ArrowDown, Clipboard } from \"lucide-react\";\r\nimport { useClipboard } from \"@/contexts/ClipboardContext\";\r\n\r\ninterface ComponentContextMenuProps {\r\n  children: ReactNode;\r\n  componentId: string;\r\n  component: any;\r\n  totalComponents: number;\r\n  currentPosition: number;\r\n  onEdit: () => void;\r\n  onDuplicate: () => void;\r\n  onDelete: () => void;\r\n  onMoveToTop: () => void;\r\n  onMoveToBottom: () => void;\r\n}\r\n\r\nexport const ComponentContextMenu = ({\r\n  children,\r\n  componentId,\r\n  component,\r\n  totalComponents,\r\n  currentPosition,\r\n  onEdit,\r\n  onDuplicate,\r\n  onDelete,\r\n  onMoveToTop,\r\n  onMoveToBottom,\r\n}: ComponentContextMenuProps) => {\r\n  const { copyComponent, copiedComponent } = useClipboard();\r\n\r\n  return (\r\n    <ContextMenu>\r\n      <ContextMenuTrigger asChild>\r\n        {children}\r\n      </ContextMenuTrigger>\r\n      <ContextMenuContent className=\"w-56\">\r\n        <ContextMenuItem onClick={onEdit}>\r\n          <Edit className=\"mr-2 h-4 w-4\" />\r\n          <span>Edit</span>\r\n        </ContextMenuItem>\r\n        \r\n        <ContextMenuItem onClick={onDuplicate}>\r\n          <Copy className=\"mr-2 h-4 w-4\" />\r\n          <span>Duplicate</span>\r\n          <span className=\"ml-auto text-xs text-muted-foreground\">Ctrl+D</span>\r\n        </ContextMenuItem>\r\n        \r\n        <ContextMenuItem onClick={() => copyComponent(component)}>\r\n          <Clipboard className=\"mr-2 h-4 w-4\" />\r\n          <span>Copy</span>\r\n          <span className=\"ml-auto text-xs text-muted-foreground\">Ctrl+C</span>\r\n        </ContextMenuItem>\r\n        \r\n        <ContextMenuSeparator />\r\n        \r\n        <ContextMenuItem \r\n          onClick={onMoveToTop}\r\n          disabled={currentPosition === 0}\r\n        >\r\n          <ArrowUp className=\"mr-2 h-4 w-4\" />\r\n          <span>Move to Top</span>\r\n        </ContextMenuItem>\r\n        \r\n        <ContextMenuItem \r\n          onClick={onMoveToBottom}\r\n          disabled={currentPosition === totalComponents - 1}\r\n        >\r\n          <ArrowDown className=\"mr-2 h-4 w-4\" />\r\n          <span>Move to Bottom</span>\r\n        </ContextMenuItem>\r\n        \r\n        <ContextMenuSeparator />\r\n        \r\n        <ContextMenuItem onClick={onDelete} className=\"text-destructive focus:text-destructive\">\r\n          <Trash2 className=\"mr-2 h-4 w-4\" />\r\n          <span>Delete</span>\r\n          <span className=\"ml-auto text-xs text-muted-foreground\">Del</span>\r\n        </ContextMenuItem>\r\n      </ContextMenuContent>\r\n    </ContextMenu>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;AAeO,MAAM,uBAAuB,CAAC,EACnC,QAAQ,EACR,WAAW,EACX,SAAS,EACT,eAAe,EACf,eAAe,EACf,MAAM,EACN,WAAW,EACX,QAAQ,EACR,WAAW,EACX,cAAc,EACY;IAC1B,MAAM,EAAE,aAAa,EAAE,eAAe,EAAE,GAAG,IAAA,oJAAY;IAEvD,qBACE,8OAAC,0JAAW;;0BACV,8OAAC,iKAAkB;gBAAC,OAAO;0BACxB;;;;;;0BAEH,8OAAC,iKAAkB;gBAAC,WAAU;;kCAC5B,8OAAC,8JAAe;wBAAC,SAAS;;0CACxB,8OAAC,mNAAI;gCAAC,WAAU;;;;;;0CAChB,8OAAC;0CAAK;;;;;;;;;;;;kCAGR,8OAAC,8JAAe;wBAAC,SAAS;;0CACxB,8OAAC,0MAAI;gCAAC,WAAU;;;;;;0CAChB,8OAAC;0CAAK;;;;;;0CACN,8OAAC;gCAAK,WAAU;0CAAwC;;;;;;;;;;;;kCAG1D,8OAAC,8JAAe;wBAAC,SAAS,IAAM,cAAc;;0CAC5C,8OAAC,yNAAS;gCAAC,WAAU;;;;;;0CACrB,8OAAC;0CAAK;;;;;;0CACN,8OAAC;gCAAK,WAAU;0CAAwC;;;;;;;;;;;;kCAG1D,8OAAC,mKAAoB;;;;;kCAErB,8OAAC,8JAAe;wBACd,SAAS;wBACT,UAAU,oBAAoB;;0CAE9B,8OAAC,uNAAO;gCAAC,WAAU;;;;;;0CACnB,8OAAC;0CAAK;;;;;;;;;;;;kCAGR,8OAAC,8JAAe;wBACd,SAAS;wBACT,UAAU,oBAAoB,kBAAkB;;0CAEhD,8OAAC,6NAAS;gCAAC,WAAU;;;;;;0CACrB,8OAAC;0CAAK;;;;;;;;;;;;kCAGR,8OAAC,mKAAoB;;;;;kCAErB,8OAAC,8JAAe;wBAAC,SAAS;wBAAU,WAAU;;0CAC5C,8OAAC,oNAAM;gCAAC,WAAU;;;;;;0CAClB,8OAAC;0CAAK;;;;;;0CACN,8OAAC;gCAAK,WAAU;0CAAwC;;;;;;;;;;;;;;;;;;;;;;;;AAKlE"}},
    {"offset": {"line": 2079, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/HeadingComponentEditor.tsx"],"sourcesContent":["import { Tables } from \"@/integrations/supabase/types\";\r\nimport { Card } from \"@/components/ui/card\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Type } from \"lucide-react\";\r\nimport { useState } from \"react\";\r\n\r\ninterface HeadingComponentEditorProps {\r\n  component: Tables<\"page_components\">;\r\n  onUpdate: (content: any) => void;\r\n}\r\n\r\nexport const HeadingComponentEditor = ({\r\n  component,\r\n  onUpdate,\r\n}: HeadingComponentEditorProps) => {\r\n  const content = component.content as { text: string; level: string };\r\n  const [text, setText] = useState(content.text || \"\");\r\n  const [level, setLevel] = useState(content.level || \"h2\");\r\n\r\n  const handleSave = () => {\r\n    onUpdate({ text, level });\r\n  };\r\n\r\n  return (\r\n    <Card className=\"p-4\">\r\n      <div className=\"space-y-3\">\r\n        <div className=\"flex items-center gap-2 text-sm font-medium text-muted-foreground\">\r\n          <Type className=\"h-4 w-4\" />\r\n          Heading Component\r\n        </div>\r\n        <div className=\"space-y-3\">\r\n          <div>\r\n            <Label htmlFor={`heading-text-${component.id}`}>Text</Label>\r\n            <Input\r\n              id={`heading-text-${component.id}`}\r\n              value={text}\r\n              onChange={(e) => setText(e.target.value)}\r\n              onBlur={handleSave}\r\n              placeholder=\"Enter heading text\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <Label htmlFor={`heading-level-${component.id}`}>Level</Label>\r\n            <Select value={level} onValueChange={(value) => { setLevel(value); setTimeout(handleSave, 0); }}>\r\n              <SelectTrigger id={`heading-level-${component.id}`}>\r\n                <SelectValue />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"h1\">H1</SelectItem>\r\n                <SelectItem value=\"h2\">H2</SelectItem>\r\n                <SelectItem value=\"h3\">H3</SelectItem>\r\n                <SelectItem value=\"h4\">H4</SelectItem>\r\n                <SelectItem value=\"h5\">H5</SelectItem>\r\n                <SelectItem value=\"h6\">H6</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAOO,MAAM,yBAAyB,CAAC,EACrC,SAAS,EACT,QAAQ,EACoB;IAC5B,MAAM,UAAU,UAAU,OAAO;IACjC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC,QAAQ,IAAI,IAAI;IACjD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC,QAAQ,KAAK,IAAI;IAEpD,MAAM,aAAa;QACjB,SAAS;YAAE;YAAM;QAAM;IACzB;IAEA,qBACE,8OAAC,wIAAI;QAAC,WAAU;kBACd,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,0MAAI;4BAAC,WAAU;;;;;;wBAAY;;;;;;;8BAG9B,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;;8CACC,8OAAC,0IAAK;oCAAC,SAAS,CAAC,aAAa,EAAE,UAAU,EAAE,EAAE;8CAAE;;;;;;8CAChD,8OAAC,0IAAK;oCACJ,IAAI,CAAC,aAAa,EAAE,UAAU,EAAE,EAAE;oCAClC,OAAO;oCACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;oCACvC,QAAQ;oCACR,aAAY;;;;;;;;;;;;sCAGhB,8OAAC;;8CACC,8OAAC,0IAAK;oCAAC,SAAS,CAAC,cAAc,EAAE,UAAU,EAAE,EAAE;8CAAE;;;;;;8CACjD,8OAAC,4IAAM;oCAAC,OAAO;oCAAO,eAAe,CAAC;wCAAY,SAAS;wCAAQ,WAAW,YAAY;oCAAI;;sDAC5F,8OAAC,mJAAa;4CAAC,IAAI,CAAC,cAAc,EAAE,UAAU,EAAE,EAAE;sDAChD,cAAA,8OAAC,iJAAW;;;;;;;;;;sDAEd,8OAAC,mJAAa;;8DACZ,8OAAC,gJAAU;oDAAC,OAAM;8DAAK;;;;;;8DACvB,8OAAC,gJAAU;oDAAC,OAAM;8DAAK;;;;;;8DACvB,8OAAC,gJAAU;oDAAC,OAAM;8DAAK;;;;;;8DACvB,8OAAC,gJAAU;oDAAC,OAAM;8DAAK;;;;;;8DACvB,8OAAC,gJAAU;oDAAC,OAAM;8DAAK;;;;;;8DACvB,8OAAC,gJAAU;oDAAC,OAAM;8DAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQvC"}},
    {"offset": {"line": 2278, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/TextComponentEditor.tsx"],"sourcesContent":["import { Tables } from \"@/integrations/supabase/types\";\r\nimport { Card } from \"@/components/ui/card\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Type } from \"lucide-react\";\r\nimport { useState } from \"react\";\r\n\r\ninterface TextComponentEditorProps {\r\n  component: Tables<\"page_components\">;\r\n  onUpdate: (content: any) => void;\r\n}\r\n\r\nexport const TextComponentEditor = ({\r\n  component,\r\n  onUpdate,\r\n}: TextComponentEditorProps) => {\r\n  const content = component.content as { text: string };\r\n  const [text, setText] = useState(content.text || \"\");\r\n\r\n  const handleSave = () => {\r\n    onUpdate({ text });\r\n  };\r\n\r\n  return (\r\n    <Card className=\"p-4\">\r\n      <div className=\"space-y-3\">\r\n        <div className=\"flex items-center gap-2 text-sm font-medium text-muted-foreground\">\r\n          <Type className=\"h-4 w-4\" />\r\n          Text Component\r\n        </div>\r\n        <div>\r\n          <Label htmlFor={`text-${component.id}`}>Text</Label>\r\n          <Textarea\r\n            id={`text-${component.id}`}\r\n            value={text}\r\n            onChange={(e) => setText(e.target.value)}\r\n            onBlur={handleSave}\r\n            placeholder=\"Enter text\"\r\n            rows={4}\r\n          />\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;;;;;;;AAOO,MAAM,sBAAsB,CAAC,EAClC,SAAS,EACT,QAAQ,EACiB;IACzB,MAAM,UAAU,UAAU,OAAO;IACjC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC,QAAQ,IAAI,IAAI;IAEjD,MAAM,aAAa;QACjB,SAAS;YAAE;QAAK;IAClB;IAEA,qBACE,8OAAC,wIAAI;QAAC,WAAU;kBACd,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,0MAAI;4BAAC,WAAU;;;;;;wBAAY;;;;;;;8BAG9B,8OAAC;;sCACC,8OAAC,0IAAK;4BAAC,SAAS,CAAC,KAAK,EAAE,UAAU,EAAE,EAAE;sCAAE;;;;;;sCACxC,8OAAC,gJAAQ;4BACP,IAAI,CAAC,KAAK,EAAE,UAAU,EAAE,EAAE;4BAC1B,OAAO;4BACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;4BACvC,QAAQ;4BACR,aAAY;4BACZ,MAAM;;;;;;;;;;;;;;;;;;;;;;;AAMlB"}},
    {"offset": {"line": 2368, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/ImageComponentEditor.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { Tables } from \"@/integrations/supabase/types\";\r\nimport { Card } from \"@/components/ui/card\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Image as ImageIcon } from \"lucide-react\";\r\n\r\ninterface ImageComponentEditorProps {\r\n  component: Tables<\"page_components\">;\r\n  onUpdate: (content: any) => void;\r\n}\r\n\r\nexport const ImageComponentEditor = ({\r\n  component,\r\n  onUpdate,\r\n}: ImageComponentEditorProps) => {\r\n  const content = component.content as { url: string; alt: string };\r\n  const [url, setUrl] = useState(content.url || \"\");\r\n  const [alt, setAlt] = useState(content.alt || \"\");\r\n\r\n  const handleSave = () => {\r\n    onUpdate({ url, alt });\r\n  };\r\n\r\n  return (\r\n    <Card className=\"p-4\">\r\n      <div className=\"space-y-3\">\r\n        <div className=\"flex items-center gap-2 text-sm font-medium text-muted-foreground\">\r\n          <ImageIcon className=\"h-4 w-4\" />\r\n          Image Component\r\n        </div>\r\n        <Input\r\n          value={url}\r\n          onChange={(e) => setUrl(e.target.value)}\r\n          onBlur={handleSave}\r\n          placeholder=\"Image URL...\"\r\n        />\r\n        <Input\r\n          value={alt}\r\n          onChange={(e) => setAlt(e.target.value)}\r\n          onBlur={handleSave}\r\n          placeholder=\"Alt text...\"\r\n        />\r\n        {url && (\r\n          <img src={url} alt={alt} className=\"w-full max-h-48 object-cover rounded\" />\r\n        )}\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;AACA;AACA;;;;;;AAOO,MAAM,uBAAuB,CAAC,EACnC,SAAS,EACT,QAAQ,EACkB;IAC1B,MAAM,UAAU,UAAU,OAAO;IACjC,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,iNAAQ,EAAC,QAAQ,GAAG,IAAI;IAC9C,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,iNAAQ,EAAC,QAAQ,GAAG,IAAI;IAE9C,MAAM,aAAa;QACjB,SAAS;YAAE;YAAK;QAAI;IACtB;IAEA,qBACE,8OAAC,wIAAI;QAAC,WAAU;kBACd,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,6MAAS;4BAAC,WAAU;;;;;;wBAAY;;;;;;;8BAGnC,8OAAC,0IAAK;oBACJ,OAAO;oBACP,UAAU,CAAC,IAAM,OAAO,EAAE,MAAM,CAAC,KAAK;oBACtC,QAAQ;oBACR,aAAY;;;;;;8BAEd,8OAAC,0IAAK;oBACJ,OAAO;oBACP,UAAU,CAAC,IAAM,OAAO,EAAE,MAAM,CAAC,KAAK;oBACtC,QAAQ;oBACR,aAAY;;;;;;gBAEb,qBACC,8OAAC;oBAAI,KAAK;oBAAK,KAAK;oBAAK,WAAU;;;;;;;;;;;;;;;;;AAK7C"}},
    {"offset": {"line": 2459, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/ButtonComponentEditor.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { Tables } from \"@/integrations/supabase/types\";\r\nimport { Card } from \"@/components/ui/card\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Checkbox } from \"@/components/ui/checkbox\";\r\nimport { MousePointerClick } from \"lucide-react\";\r\n\r\ninterface ButtonComponentEditorProps {\r\n  component: Tables<\"page_components\">;\r\n  onUpdate: (content: any) => void;\r\n}\r\n\r\nexport const ButtonComponentEditor = ({\r\n  component,\r\n  onUpdate,\r\n}: ButtonComponentEditorProps) => {\r\n  const content = component.content as { \r\n    text: string; \r\n    link: string;\r\n    variant?: string;\r\n    size?: string;\r\n    fullWidth?: boolean;\r\n  };\r\n  const [text, setText] = useState(content.text || \"\");\r\n  const [link, setLink] = useState(content.link || \"\");\r\n  const [variant, setVariant] = useState(content.variant || \"default\");\r\n  const [size, setSize] = useState(content.size || \"default\");\r\n  const [fullWidth, setFullWidth] = useState(content.fullWidth || false);\r\n\r\n  const handleSave = () => {\r\n    onUpdate({ text, link, variant, size, fullWidth });\r\n  };\r\n\r\n  return (\r\n    <Card className=\"p-4\">\r\n      <div className=\"space-y-3\">\r\n        <div className=\"flex items-center gap-2 text-sm font-medium text-muted-foreground\">\r\n          <MousePointerClick className=\"h-4 w-4\" />\r\n          Button Component\r\n        </div>\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"button-text\">Button Text</Label>\r\n          <Input\r\n            id=\"button-text\"\r\n            value={text}\r\n            onChange={(e) => setText(e.target.value)}\r\n            onBlur={handleSave}\r\n            placeholder=\"Button text...\"\r\n          />\r\n        </div>\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"button-link\">Link URL</Label>\r\n          <Input\r\n            id=\"button-link\"\r\n            value={link}\r\n            onChange={(e) => setLink(e.target.value)}\r\n            onBlur={handleSave}\r\n            placeholder=\"Link URL...\"\r\n          />\r\n        </div>\r\n        <div className=\"space-y-2\">\r\n          <Label>Variant</Label>\r\n          <Select value={variant} onValueChange={(val) => { setVariant(val); setTimeout(handleSave, 0); }}>\r\n            <SelectTrigger>\r\n              <SelectValue />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"default\">Default</SelectItem>\r\n              <SelectItem value=\"secondary\">Secondary</SelectItem>\r\n              <SelectItem value=\"outline\">Outline</SelectItem>\r\n              <SelectItem value=\"ghost\">Ghost</SelectItem>\r\n              <SelectItem value=\"destructive\">Destructive</SelectItem>\r\n              <SelectItem value=\"link\">Link</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n        <div className=\"space-y-2\">\r\n          <Label>Size</Label>\r\n          <Select value={size} onValueChange={(val) => { setSize(val); setTimeout(handleSave, 0); }}>\r\n            <SelectTrigger>\r\n              <SelectValue />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"sm\">Small</SelectItem>\r\n              <SelectItem value=\"default\">Medium</SelectItem>\r\n              <SelectItem value=\"lg\">Large</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n        <div className=\"flex items-center space-x-2\">\r\n          <Checkbox\r\n            id=\"button-fullwidth\"\r\n            checked={fullWidth}\r\n            onCheckedChange={(checked) => { setFullWidth(!!checked); setTimeout(handleSave, 0); }}\r\n          />\r\n          <Label htmlFor=\"button-fullwidth\" className=\"cursor-pointer\">\r\n            Full Width\r\n          </Label>\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2787, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/LinkComponentEditor.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { Tables } from \"@/integrations/supabase/types\";\r\nimport { Card } from \"@/components/ui/card\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Link as LinkIcon } from \"lucide-react\";\r\n\r\ninterface LinkComponentEditorProps {\r\n  component: Tables<\"page_components\">;\r\n  onUpdate: (content: any) => void;\r\n}\r\n\r\nexport const LinkComponentEditor = ({\r\n  component,\r\n  onUpdate,\r\n}: LinkComponentEditorProps) => {\r\n  const content = component.content as { text: string; url: string };\r\n  const [text, setText] = useState(content.text || \"\");\r\n  const [url, setUrl] = useState(content.url || \"\");\r\n\r\n  const handleSave = () => {\r\n    onUpdate({ text, url });\r\n  };\r\n\r\n  return (\r\n    <Card className=\"p-4\">\r\n      <div className=\"space-y-3\">\r\n        <div className=\"flex items-center gap-2 text-sm font-medium text-muted-foreground\">\r\n          <LinkIcon className=\"h-4 w-4\" />\r\n          Link Component\r\n        </div>\r\n        <Input value={text} onChange={(e) => setText(e.target.value)} onBlur={handleSave} placeholder=\"Link text...\" />\r\n        <Input value={url} onChange={(e) => setUrl(e.target.value)} onBlur={handleSave} placeholder=\"URL...\" />\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;AACA;AACA;;;;;;AAOO,MAAM,sBAAsB,CAAC,EAClC,SAAS,EACT,QAAQ,EACiB;IACzB,MAAM,UAAU,UAAU,OAAO;IACjC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC,QAAQ,IAAI,IAAI;IACjD,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,iNAAQ,EAAC,QAAQ,GAAG,IAAI;IAE9C,MAAM,aAAa;QACjB,SAAS;YAAE;YAAM;QAAI;IACvB;IAEA,qBACE,8OAAC,wIAAI;QAAC,WAAU;kBACd,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,0MAAQ;4BAAC,WAAU;;;;;;wBAAY;;;;;;;8BAGlC,8OAAC,0IAAK;oBAAC,OAAO;oBAAM,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;oBAAG,QAAQ;oBAAY,aAAY;;;;;;8BAC9F,8OAAC,0IAAK;oBAAC,OAAO;oBAAK,UAAU,CAAC,IAAM,OAAO,EAAE,MAAM,CAAC,KAAK;oBAAG,QAAQ;oBAAY,aAAY;;;;;;;;;;;;;;;;;AAIpG"}},
    {"offset": {"line": 2869, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/VideoComponentEditor.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { Tables } from \"@/integrations/supabase/types\";\r\nimport { Card } from \"@/components/ui/card\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Video } from \"lucide-react\";\r\n\r\ninterface VideoComponentEditorProps {\r\n  component: Tables<\"page_components\">;\r\n  onUpdate: (content: any) => void;\r\n}\r\n\r\nexport const VideoComponentEditor = ({\r\n  component,\r\n  onUpdate,\r\n}: VideoComponentEditorProps) => {\r\n  const content = component.content as { url: string };\r\n  const [url, setUrl] = useState(content.url || \"\");\r\n\r\n  const handleSave = () => {\r\n    onUpdate({ url });\r\n  };\r\n\r\n  return (\r\n    <Card className=\"p-4\">\r\n      <div className=\"space-y-3\">\r\n        <div className=\"flex items-center gap-2 text-sm font-medium text-muted-foreground\">\r\n          <Video className=\"h-4 w-4\" />\r\n          Video Component\r\n        </div>\r\n        <Input value={url} onChange={(e) => setUrl(e.target.value)} onBlur={handleSave} placeholder=\"YouTube or Vimeo URL...\" />\r\n        <p className=\"text-xs text-muted-foreground\">Paste a YouTube or Vimeo video URL</p>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;AACA;AACA;;;;;;AAOO,MAAM,uBAAuB,CAAC,EACnC,SAAS,EACT,QAAQ,EACkB;IAC1B,MAAM,UAAU,UAAU,OAAO;IACjC,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,iNAAQ,EAAC,QAAQ,GAAG,IAAI;IAE9C,MAAM,aAAa;QACjB,SAAS;YAAE;QAAI;IACjB;IAEA,qBACE,8OAAC,wIAAI;QAAC,WAAU;kBACd,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,6MAAK;4BAAC,WAAU;;;;;;wBAAY;;;;;;;8BAG/B,8OAAC,0IAAK;oBAAC,OAAO;oBAAK,UAAU,CAAC,IAAM,OAAO,EAAE,MAAM,CAAC,KAAK;oBAAG,QAAQ;oBAAY,aAAY;;;;;;8BAC5F,8OAAC;oBAAE,WAAU;8BAAgC;;;;;;;;;;;;;;;;;AAIrD"}},
    {"offset": {"line": 2947, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/DividerComponentEditor.tsx"],"sourcesContent":["import { Card } from \"@/components/ui/card\";\r\nimport { Minus } from \"lucide-react\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\n\r\nexport const DividerComponentEditor = () => {\r\n  return (\r\n    <Card className=\"p-4\">\r\n      <div className=\"space-y-3\">\r\n        <div className=\"flex items-center gap-2 text-sm font-medium text-muted-foreground\">\r\n          <Minus className=\"h-4 w-4\" />\r\n          Divider Component\r\n        </div>\r\n        <Separator />\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEO,MAAM,yBAAyB;IACpC,qBACE,8OAAC,wIAAI;QAAC,WAAU;kBACd,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,6MAAK;4BAAC,WAAU;;;;;;wBAAY;;;;;;;8BAG/B,8OAAC,kJAAS;;;;;;;;;;;;;;;;AAIlB"}},
    {"offset": {"line": 3003, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/SpacerComponentEditor.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { Tables } from \"@/integrations/supabase/types\";\r\nimport { Card } from \"@/components/ui/card\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Space } from \"lucide-react\";\r\n\r\ninterface SpacerComponentEditorProps {\r\n  component: Tables<\"page_components\">;\r\n  onUpdate: (content: any) => void;\r\n}\r\n\r\nexport const SpacerComponentEditor = ({\r\n  component,\r\n  onUpdate,\r\n}: SpacerComponentEditorProps) => {\r\n  const content = component.content as { height: string };\r\n  const [height, setHeight] = useState(content.height || \"medium\");\r\n\r\n  const handleSave = (val: string) => {\r\n    setHeight(val);\r\n    onUpdate({ height: val });\r\n  };\r\n\r\n  return (\r\n    <Card className=\"p-4\">\r\n      <div className=\"space-y-3\">\r\n        <div className=\"flex items-center gap-2 text-sm font-medium text-muted-foreground\">\r\n          <Space className=\"h-4 w-4\" />\r\n          Spacer Component\r\n        </div>\r\n        <Select value={height} onValueChange={handleSave}>\r\n          <SelectTrigger>\r\n            <SelectValue />\r\n          </SelectTrigger>\r\n          <SelectContent>\r\n            <SelectItem value=\"small\">Small (20px)</SelectItem>\r\n            <SelectItem value=\"medium\">Medium (40px)</SelectItem>\r\n            <SelectItem value=\"large\">Large (80px)</SelectItem>\r\n          </SelectContent>\r\n        </Select>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;AACA;AACA;;;;;;AAOO,MAAM,wBAAwB,CAAC,EACpC,SAAS,EACT,QAAQ,EACmB;IAC3B,MAAM,UAAU,UAAU,OAAO;IACjC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC,QAAQ,MAAM,IAAI;IAEvD,MAAM,aAAa,CAAC;QAClB,UAAU;QACV,SAAS;YAAE,QAAQ;QAAI;IACzB;IAEA,qBACE,8OAAC,wIAAI;QAAC,WAAU;kBACd,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,6MAAK;4BAAC,WAAU;;;;;;wBAAY;;;;;;;8BAG/B,8OAAC,4IAAM;oBAAC,OAAO;oBAAQ,eAAe;;sCACpC,8OAAC,mJAAa;sCACZ,cAAA,8OAAC,iJAAW;;;;;;;;;;sCAEd,8OAAC,mJAAa;;8CACZ,8OAAC,gJAAU;oCAAC,OAAM;8CAAQ;;;;;;8CAC1B,8OAAC,gJAAU;oCAAC,OAAM;8CAAS;;;;;;8CAC3B,8OAAC,gJAAU;oCAAC,OAAM;8CAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMtC"}},
    {"offset": {"line": 3117, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/QuoteComponentEditor.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { Tables } from \"@/integrations/supabase/types\";\r\nimport { Card } from \"@/components/ui/card\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Quote } from \"lucide-react\";\r\n\r\ninterface QuoteComponentEditorProps {\r\n  component: Tables<\"page_components\">;\r\n  onUpdate: (content: any) => void;\r\n}\r\n\r\nexport const QuoteComponentEditor = ({\r\n  component,\r\n  onUpdate,\r\n}: QuoteComponentEditorProps) => {\r\n  const content = component.content as { text: string; author: string };\r\n  const [text, setText] = useState(content.text || \"\");\r\n  const [author, setAuthor] = useState(content.author || \"\");\r\n\r\n  const handleSave = () => {\r\n    onUpdate({ text, author });\r\n  };\r\n\r\n  return (\r\n    <Card className=\"p-4\">\r\n      <div className=\"space-y-3\">\r\n        <div className=\"flex items-center gap-2 text-sm font-medium text-muted-foreground\">\r\n          <Quote className=\"h-4 w-4\" />\r\n          Quote Component\r\n        </div>\r\n        <Textarea value={text} onChange={(e) => setText(e.target.value)} onBlur={handleSave} placeholder=\"Quote text...\" rows={3} />\r\n        <Input value={author} onChange={(e) => setAuthor(e.target.value)} onBlur={handleSave} placeholder=\"Author (optional)\" />\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;AACA;AACA;AACA;;;;;;;AAOO,MAAM,uBAAuB,CAAC,EACnC,SAAS,EACT,QAAQ,EACkB;IAC1B,MAAM,UAAU,UAAU,OAAO;IACjC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC,QAAQ,IAAI,IAAI;IACjD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC,QAAQ,MAAM,IAAI;IAEvD,MAAM,aAAa;QACjB,SAAS;YAAE;YAAM;QAAO;IAC1B;IAEA,qBACE,8OAAC,wIAAI;QAAC,WAAU;kBACd,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,6MAAK;4BAAC,WAAU;;;;;;wBAAY;;;;;;;8BAG/B,8OAAC,gJAAQ;oBAAC,OAAO;oBAAM,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;oBAAG,QAAQ;oBAAY,aAAY;oBAAgB,MAAM;;;;;;8BACvH,8OAAC,0IAAK;oBAAC,OAAO;oBAAQ,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;oBAAG,QAAQ;oBAAY,aAAY;;;;;;;;;;;;;;;;;AAI1G"}},
    {"offset": {"line": 3202, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/ListComponentEditor.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { Tables } from \"@/integrations/supabase/types\";\r\nimport { Card } from \"@/components/ui/card\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { List } from \"lucide-react\";\r\n\r\ninterface ListComponentEditorProps {\r\n  component: Tables<\"page_components\">;\r\n  onUpdate: (content: any) => void;\r\n}\r\n\r\nexport const ListComponentEditor = ({\r\n  component,\r\n  onUpdate,\r\n}: ListComponentEditorProps) => {\r\n  const content = component.content as { items: string; type: string };\r\n  const [items, setItems] = useState(content.items || \"\");\r\n  const [type, setType] = useState(content.type || \"bullet\");\r\n\r\n  const handleSave = () => {\r\n    onUpdate({ items, type });\r\n  };\r\n\r\n  return (\r\n    <Card className=\"p-4\">\r\n      <div className=\"space-y-3\">\r\n        <div className=\"flex items-center gap-2 text-sm font-medium text-muted-foreground\">\r\n          <List className=\"h-4 w-4\" />\r\n          List Component\r\n        </div>\r\n        <Textarea value={items} onChange={(e) => setItems(e.target.value)} onBlur={handleSave} placeholder=\"One item per line...\" rows={4} />\r\n        <Select value={type} onValueChange={(val) => { setType(val); setTimeout(handleSave, 100); }}>\r\n          <SelectTrigger>\r\n            <SelectValue />\r\n          </SelectTrigger>\r\n          <SelectContent>\r\n            <SelectItem value=\"bullet\">Bullet List</SelectItem>\r\n            <SelectItem value=\"numbered\">Numbered List</SelectItem>\r\n          </SelectContent>\r\n        </Select>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;AACA;AACA;AACA;;;;;;;AAOO,MAAM,sBAAsB,CAAC,EAClC,SAAS,EACT,QAAQ,EACiB;IACzB,MAAM,UAAU,UAAU,OAAO;IACjC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC,QAAQ,KAAK,IAAI;IACpD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC,QAAQ,IAAI,IAAI;IAEjD,MAAM,aAAa;QACjB,SAAS;YAAE;YAAO;QAAK;IACzB;IAEA,qBACE,8OAAC,wIAAI;QAAC,WAAU;kBACd,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,0MAAI;4BAAC,WAAU;;;;;;wBAAY;;;;;;;8BAG9B,8OAAC,gJAAQ;oBAAC,OAAO;oBAAO,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oBAAG,QAAQ;oBAAY,aAAY;oBAAuB,MAAM;;;;;;8BAChI,8OAAC,4IAAM;oBAAC,OAAO;oBAAM,eAAe,CAAC;wBAAU,QAAQ;wBAAM,WAAW,YAAY;oBAAM;;sCACxF,8OAAC,mJAAa;sCACZ,cAAA,8OAAC,iJAAW;;;;;;;;;;sCAEd,8OAAC,mJAAa;;8CACZ,8OAAC,gJAAU;oCAAC,OAAM;8CAAS;;;;;;8CAC3B,8OAAC,gJAAU;oCAAC,OAAM;8CAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMzC"}},
    {"offset": {"line": 3325, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/CodeComponentEditor.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { Tables } from \"@/integrations/supabase/types\";\r\nimport { Card } from \"@/components/ui/card\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Code } from \"lucide-react\";\r\n\r\ninterface CodeComponentEditorProps {\r\n  component: Tables<\"page_components\">;\r\n  onUpdate: (content: any) => void;\r\n}\r\n\r\nexport const CodeComponentEditor = ({\r\n  component,\r\n  onUpdate,\r\n}: CodeComponentEditorProps) => {\r\n  const content = component.content as { code: string; language: string };\r\n  const [code, setCode] = useState(content.code || \"\");\r\n  const [language, setLanguage] = useState(content.language || \"\");\r\n\r\n  const handleSave = () => {\r\n    onUpdate({ code, language });\r\n  };\r\n\r\n  return (\r\n    <Card className=\"p-4\">\r\n      <div className=\"space-y-3\">\r\n        <div className=\"flex items-center gap-2 text-sm font-medium text-muted-foreground\">\r\n          <Code className=\"h-4 w-4\" />\r\n          Code Component\r\n        </div>\r\n        <Input value={language} onChange={(e) => setLanguage(e.target.value)} onBlur={handleSave} placeholder=\"Language (e.g., javascript)\" />\r\n        <Textarea value={code} onChange={(e) => setCode(e.target.value)} onBlur={handleSave} placeholder=\"Code...\" rows={6} className=\"font-mono text-sm\" />\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;AACA;AACA;AACA;;;;;;;AAOO,MAAM,sBAAsB,CAAC,EAClC,SAAS,EACT,QAAQ,EACiB;IACzB,MAAM,UAAU,UAAU,OAAO;IACjC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC,QAAQ,IAAI,IAAI;IACjD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC,QAAQ,QAAQ,IAAI;IAE7D,MAAM,aAAa;QACjB,SAAS;YAAE;YAAM;QAAS;IAC5B;IAEA,qBACE,8OAAC,wIAAI;QAAC,WAAU;kBACd,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,0MAAI;4BAAC,WAAU;;;;;;wBAAY;;;;;;;8BAG9B,8OAAC,0IAAK;oBAAC,OAAO;oBAAU,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oBAAG,QAAQ;oBAAY,aAAY;;;;;;8BACtG,8OAAC,gJAAQ;oBAAC,OAAO;oBAAM,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;oBAAG,QAAQ;oBAAY,aAAY;oBAAU,MAAM;oBAAG,WAAU;;;;;;;;;;;;;;;;;AAItI"}},
    {"offset": {"line": 3411, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/PageContentComponentEditor.tsx"],"sourcesContent":["import { Card } from \"@/components/ui/card\";\r\nimport { FileText } from \"lucide-react\";\r\n\r\nexport const PageContentComponentEditor = () => {\r\n  return (\r\n    <Card className=\"p-6 bg-muted/50 border-dashed\">\r\n      <div className=\"flex items-center gap-3\">\r\n        <FileText className=\"h-5 w-5 text-primary\" />\r\n        <div>\r\n          <p className=\"font-medium\">Page Content Placeholder</p>\r\n          <p className=\"text-sm text-muted-foreground\">\r\n            This is where the page content will appear\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEO,MAAM,6BAA6B;IACxC,qBACE,8OAAC,wIAAI;QAAC,WAAU;kBACd,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC,0NAAQ;oBAAC,WAAU;;;;;;8BACpB,8OAAC;;sCACC,8OAAC;4BAAE,WAAU;sCAAc;;;;;;sCAC3B,8OAAC;4BAAE,WAAU;sCAAgC;;;;;;;;;;;;;;;;;;;;;;;AAOvD"}},
    {"offset": {"line": 3474, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/EntityListComponentEditor.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Checkbox } from \"@/components/ui/checkbox\";\r\nimport { toast } from \"sonner\";\r\n\r\nimport { getEntities, getFields } from \"@/lib/schema-service\";\r\n\r\ninterface Entity {\r\n  id: string;\r\n  display_name: string;\r\n  is_published: boolean;\r\n}\r\n\r\ninterface EntityField {\r\n  id: string;\r\n  name: string;\r\n  display_name: string;\r\n}\r\n\r\ninterface EntityListComponentEditorProps {\r\n  component: any;\r\n  onUpdate: (content: any) => void;\r\n}\r\n\r\nexport const EntityListComponentEditor = ({ component, onUpdate }: EntityListComponentEditorProps) => {\r\n  const content = component.content || {};\r\n  const [entities, setEntities] = useState<Entity[]>([]);\r\n  const [fields, setFields] = useState<EntityField[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadEntities();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (content.entityId) {\r\n      loadFields(content.entityId);\r\n    }\r\n  }, [content.entityId]);\r\n\r\n  const loadEntities = async () => {\r\n    // Load published entities from schema service\r\n    const data = await getEntities();\r\n    setEntities((data as any[]).filter(e => e.is_published));\r\n    setLoading(false);\r\n  };\r\n\r\n  const loadFields = async (entityId: string) => {\r\n    // Load fields from schema service\r\n    const data = await getFields(entityId);\r\n    setFields(data as any[]);\r\n  };\r\n\r\n  const handleEntityChange = (entityId: string) => {\r\n    onUpdate({\r\n      ...content,\r\n      entityId,\r\n      fields: [],\r\n    });\r\n  };\r\n\r\n  const handleFieldToggle = (fieldName: string, checked: boolean) => {\r\n    const selectedFields = content.fields || [];\r\n    const newFields = checked\r\n      ? [...selectedFields, fieldName]\r\n      : selectedFields.filter((f: string) => f !== fieldName);\r\n    \r\n    onUpdate({ ...content, fields: newFields });\r\n  };\r\n\r\n  const defaultContent = {\r\n    entityId: \"\",\r\n    fields: [],\r\n    displayStyle: \"grid\",\r\n    limit: 10,\r\n    sortBy: \"\",\r\n    sortOrder: \"desc\",\r\n    showPublishedOnly: true,\r\n  };\r\n\r\n  const currentContent = { ...defaultContent, ...content };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"space-y-2\">\r\n        <Label>Entity</Label>\r\n        {loading ? (\r\n          <div className=\"text-sm text-muted-foreground\">Loading entities...</div>\r\n        ) : entities.length === 0 ? (\r\n          <div className=\"text-sm text-muted-foreground\">No published entities available</div>\r\n        ) : (\r\n          <Select value={currentContent.entityId} onValueChange={handleEntityChange}>\r\n            <SelectTrigger>\r\n              <SelectValue placeholder=\"Select an entity\" />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              {entities.map((entity) => (\r\n                <SelectItem key={entity.id} value={entity.id}>\r\n                  {entity.display_name}\r\n                </SelectItem>\r\n              ))}\r\n            </SelectContent>\r\n          </Select>\r\n        )}\r\n      </div>\r\n\r\n      {currentContent.entityId && fields.length > 0 && (\r\n        <div className=\"space-y-2\">\r\n          <Label>Fields to Display</Label>\r\n          <div className=\"space-y-2 max-h-48 overflow-y-auto border rounded-md p-3\">\r\n            {fields.map((field) => (\r\n              <div key={field.id} className=\"flex items-center space-x-2\">\r\n                <Checkbox\r\n                  id={field.name}\r\n                  checked={(currentContent.fields || []).includes(field.name)}\r\n                  onCheckedChange={(checked) => handleFieldToggle(field.name, checked as boolean)}\r\n                />\r\n                <label htmlFor={field.name} className=\"text-sm cursor-pointer\">\r\n                  {field.display_name}\r\n                </label>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"space-y-2\">\r\n        <Label>Display Style</Label>\r\n        <Select\r\n          value={currentContent.displayStyle}\r\n          onValueChange={(value) => onUpdate({ ...currentContent, displayStyle: value })}\r\n        >\r\n          <SelectTrigger>\r\n            <SelectValue />\r\n          </SelectTrigger>\r\n          <SelectContent>\r\n            <SelectItem value=\"grid\">Grid</SelectItem>\r\n            <SelectItem value=\"list\">List</SelectItem>\r\n            <SelectItem value=\"table\">Table</SelectItem>\r\n          </SelectContent>\r\n        </Select>\r\n      </div>\r\n\r\n      <div className=\"space-y-2\">\r\n        <Label>Maximum Items</Label>\r\n        <Input\r\n          type=\"number\"\r\n          min=\"1\"\r\n          max=\"100\"\r\n          value={currentContent.limit}\r\n          onChange={(e) => onUpdate({ ...currentContent, limit: parseInt(e.target.value) || 10 })}\r\n        />\r\n      </div>\r\n\r\n      {currentContent.entityId && fields.length > 0 && (\r\n        <>\r\n          <div className=\"space-y-2\">\r\n            <Label>Sort By</Label>\r\n            <Select\r\n              value={currentContent.sortBy}\r\n              onValueChange={(value) => onUpdate({ ...currentContent, sortBy: value })}\r\n            >\r\n              <SelectTrigger>\r\n                <SelectValue placeholder=\"Created date (default)\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"\">Created date (default)</SelectItem>\r\n                {fields.map((field) => (\r\n                  <SelectItem key={field.name} value={field.name}>\r\n                    {field.display_name}\r\n                  </SelectItem>\r\n                ))}\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label>Sort Order</Label>\r\n            <Select\r\n              value={currentContent.sortOrder}\r\n              onValueChange={(value) => onUpdate({ ...currentContent, sortOrder: value })}\r\n            >\r\n              <SelectTrigger>\r\n                <SelectValue />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"asc\">Ascending</SelectItem>\r\n                <SelectItem value=\"desc\">Descending</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3916, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/EntityDetailComponentEditor.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Checkbox } from \"@/components/ui/checkbox\";\r\nimport { toast } from \"sonner\";\r\n\r\nimport { getEntities, getFields } from \"@/lib/schema-service\";\r\n\r\ninterface Entity {\r\n  id: string;\r\n  display_name: string;\r\n  is_published: boolean;\r\n}\r\n\r\nimport { EntityRecord, EntityField } from \"@/types/entity\";\r\n\r\ninterface EntityDetailComponentEditorProps {\r\n  component: any;\r\n  onUpdate: (content: any) => void;\r\n}\r\n\r\nexport const EntityDetailComponentEditor = ({ component, onUpdate }: EntityDetailComponentEditorProps) => {\r\n  const content = component.content || {};\r\n  const [entities, setEntities] = useState<Entity[]>([]);\r\n  const [fields, setFields] = useState<EntityField[]>([]);\r\n  const [records, setRecords] = useState<EntityRecord[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadEntities();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (content.entityId) {\r\n      loadFields(content.entityId);\r\n      loadRecords(content.entityId);\r\n    }\r\n  }, [content.entityId]);\r\n\r\n  const loadEntities = async () => {\r\n    // Load published entities from schema service\r\n    const data = await getEntities();\r\n    setEntities((data as any[]).filter(e => e.is_published));\r\n    setLoading(false);\r\n  };\r\n\r\n  const loadFields = async (entityId: string) => {\r\n    // Load fields from schema service\r\n    const data = await getFields(entityId);\r\n    setFields(data as any[]);\r\n  };\r\n\r\n  const loadRecords = async (entityId: string) => {\r\n    const { data, error } = await supabase\r\n      .from(\"entity_records\")\r\n      .select(\"id, data, is_published, created_at\")\r\n      .eq(\"entity_id\", entityId)\r\n      .eq(\"is_published\", true)\r\n      .order(\"created_at\", { ascending: false })\r\n      .limit(50);\r\n\r\n    if (error) {\r\n      toast.error(\"Failed to load records\");\r\n      console.error(error);\r\n    } else {\r\n      setRecords(data || []);\r\n    }\r\n  };\r\n\r\n  const handleEntityChange = (entityId: string) => {\r\n    onUpdate({\r\n      ...content,\r\n      entityId,\r\n      recordId: \"\",\r\n      fields: [],\r\n    });\r\n  };\r\n\r\n  const handleFieldToggle = (fieldName: string, checked: boolean) => {\r\n    const selectedFields = content.fields || [];\r\n    const newFields = checked\r\n      ? [...selectedFields, fieldName]\r\n      : selectedFields.filter((f: string) => f !== fieldName);\r\n\r\n    onUpdate({ ...content, fields: newFields });\r\n  };\r\n\r\n  const getRecordLabel = (record: EntityRecord) => {\r\n    const data = record.data;\r\n    const firstField = fields[0];\r\n    if (firstField && data[firstField.name]) {\r\n      return String(data[firstField.name]).substring(0, 50);\r\n    }\r\n    return record.id.substring(0, 8);\r\n  };\r\n\r\n  const defaultContent = {\r\n    entityId: \"\",\r\n    recordId: \"\",\r\n    fields: [],\r\n    layout: \"vertical\",\r\n  };\r\n\r\n  const currentContent = { ...defaultContent, ...content };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"space-y-2\">\r\n        <Label>Entity</Label>\r\n        {loading ? (\r\n          <div className=\"text-sm text-muted-foreground\">Loading entities...</div>\r\n        ) : entities.length === 0 ? (\r\n          <div className=\"text-sm text-muted-foreground\">No published entities available</div>\r\n        ) : (\r\n          <Select value={currentContent.entityId} onValueChange={handleEntityChange}>\r\n            <SelectTrigger>\r\n              <SelectValue placeholder=\"Select an entity\" />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              {entities.map((entity) => (\r\n                <SelectItem key={entity.id} value={entity.id}>\r\n                  {entity.display_name}\r\n                </SelectItem>\r\n              ))}\r\n            </SelectContent>\r\n          </Select>\r\n        )}\r\n      </div>\r\n\r\n      {currentContent.entityId && records.length > 0 && (\r\n        <div className=\"space-y-2\">\r\n          <Label>Record</Label>\r\n          <Select\r\n            value={currentContent.recordId}\r\n            onValueChange={(value) => onUpdate({ ...currentContent, recordId: value })}\r\n          >\r\n            <SelectTrigger>\r\n              <SelectValue placeholder=\"Select a record\" />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              {records.map((record) => (\r\n                <SelectItem key={record.id} value={record.id}>\r\n                  {getRecordLabel(record)}\r\n                </SelectItem>\r\n              ))}\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n      )}\r\n\r\n      {currentContent.entityId && fields.length > 0 && (\r\n        <div className=\"space-y-2\">\r\n          <Label>Fields to Display</Label>\r\n          <div className=\"space-y-2 max-h-48 overflow-y-auto border rounded-md p-3\">\r\n            {fields.map((field) => (\r\n              <div key={field.id} className=\"flex items-center space-x-2\">\r\n                <Checkbox\r\n                  id={field.name}\r\n                  checked={(currentContent.fields || []).includes(field.name)}\r\n                  onCheckedChange={(checked) => handleFieldToggle(field.name, checked as boolean)}\r\n                />\r\n                <label htmlFor={field.name} className=\"text-sm cursor-pointer\">\r\n                  {field.display_name}\r\n                </label>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"space-y-2\">\r\n        <Label>Layout</Label>\r\n        <Select\r\n          value={currentContent.layout}\r\n          onValueChange={(value) => onUpdate({ ...currentContent, layout: value })}\r\n        >\r\n          <SelectTrigger>\r\n            <SelectValue />\r\n          </SelectTrigger>\r\n          <SelectContent>\r\n            <SelectItem value=\"vertical\">Vertical</SelectItem>\r\n            <SelectItem value=\"horizontal\">Horizontal</SelectItem>\r\n          </SelectContent>\r\n        </Select>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4263, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/QueryComponentEditor.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\n\r\ninterface QueryComponentEditorProps {\r\n  component: any;\r\n  onUpdate: (updates: any) => void;\r\n}\r\n\r\ninterface Query {\r\n  id: string;\r\n  display_name: string;\r\n  query_type: string;\r\n}\r\n\r\nexport default function QueryComponentEditor({ component, onUpdate }: QueryComponentEditorProps) {\r\n  const [queries, setQueries] = useState<Query[]>([]);\r\n\r\n  useEffect(() => {\r\n    fetchPublishedQueries();\r\n  }, []);\r\n\r\n  const fetchPublishedQueries = async () => {\r\n    const { data } = await (supabase as any)\r\n      .from('queries')\r\n      .select('id, display_name, query_type')\r\n      .eq('is_published', true)\r\n      .order('display_name');\r\n\r\n    setQueries(data || []);\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"space-y-2\">\r\n        <Label>Select Query</Label>\r\n        <Select\r\n          value={component.content.queryId || ''}\r\n          onValueChange={(value) => onUpdate({ content: { queryId: value } })}\r\n        >\r\n          <SelectTrigger>\r\n            <SelectValue placeholder=\"Choose a query\" />\r\n          </SelectTrigger>\r\n          <SelectContent>\r\n            {queries.map((query) => (\r\n              <SelectItem key={query.id} value={query.id}>\r\n                {query.display_name} ({query.query_type})\r\n              </SelectItem>\r\n            ))}\r\n          </SelectContent>\r\n        </Select>\r\n        <p className=\"text-xs text-muted-foreground\">\r\n          Only published queries are available\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;AAae,SAAS,qBAAqB,EAAE,SAAS,EAAE,QAAQ,EAA6B;IAC7F,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAU,EAAE;IAElD,IAAA,kNAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,MAAM,wBAAwB;QAC5B,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,AAAC,qJAAQ,CAC7B,IAAI,CAAC,WACL,MAAM,CAAC,gCACP,EAAE,CAAC,gBAAgB,MACnB,KAAK,CAAC;QAET,WAAW,QAAQ,EAAE;IACvB;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC,0IAAK;8BAAC;;;;;;8BACP,8OAAC,4IAAM;oBACL,OAAO,UAAU,OAAO,CAAC,OAAO,IAAI;oBACpC,eAAe,CAAC,QAAU,SAAS;4BAAE,SAAS;gCAAE,SAAS;4BAAM;wBAAE;;sCAEjE,8OAAC,mJAAa;sCACZ,cAAA,8OAAC,iJAAW;gCAAC,aAAY;;;;;;;;;;;sCAE3B,8OAAC,mJAAa;sCACX,QAAQ,GAAG,CAAC,CAAC,sBACZ,8OAAC,gJAAU;oCAAgB,OAAO,MAAM,EAAE;;wCACvC,MAAM,YAAY;wCAAC;wCAAG,MAAM,UAAU;wCAAC;;mCADzB,MAAM,EAAE;;;;;;;;;;;;;;;;8BAM/B,8OAAC;oBAAE,WAAU;8BAAgC;;;;;;;;;;;;;;;;;AAMrD"}},
    {"offset": {"line": 4368, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/ChartComponentEditor.tsx"],"sourcesContent":["import { Label } from \"@/components/ui/label\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\n\r\ninterface ChartComponentEditorProps {\r\n  component: {\r\n    content: any;\r\n  };\r\n  onUpdate: (newContent: any) => void;\r\n}\r\n\r\nconst sampleData = {\r\n  bar: JSON.stringify([\r\n    { name: \"Jan\", value: 400 },\r\n    { name: \"Feb\", value: 300 },\r\n    { name: \"Mar\", value: 600 },\r\n    { name: \"Apr\", value: 800 },\r\n    { name: \"May\", value: 500 },\r\n    { name: \"Jun\", value: 700 }\r\n  ], null, 2),\r\n  line: JSON.stringify([\r\n    { month: \"Jan\", sales: 400, expenses: 240 },\r\n    { month: \"Feb\", sales: 300, expenses: 139 },\r\n    { month: \"Mar\", sales: 600, expenses: 380 },\r\n    { month: \"Apr\", sales: 800, expenses: 430 },\r\n    { month: \"May\", sales: 500, expenses: 210 },\r\n    { month: \"Jun\", sales: 700, expenses: 350 }\r\n  ], null, 2),\r\n  area: JSON.stringify([\r\n    { time: \"00:00\", visitors: 240 },\r\n    { time: \"03:00\", visitors: 139 },\r\n    { time: \"06:00\", visitors: 380 },\r\n    { time: \"09:00\", visitors: 430 },\r\n    { time: \"12:00\", visitors: 650 },\r\n    { time: \"15:00\", visitors: 500 },\r\n    { time: \"18:00\", visitors: 420 },\r\n    { time: \"21:00\", visitors: 310 }\r\n  ], null, 2),\r\n  pie: JSON.stringify([\r\n    { name: \"Desktop\", value: 400 },\r\n    { name: \"Mobile\", value: 300 },\r\n    { name: \"Tablet\", value: 200 },\r\n    { name: \"Other\", value: 100 }\r\n  ], null, 2),\r\n  radar: JSON.stringify([\r\n    { subject: \"Math\", value: 120, fullMark: 150 },\r\n    { subject: \"Chinese\", value: 98, fullMark: 150 },\r\n    { subject: \"English\", value: 86, fullMark: 150 },\r\n    { subject: \"Geography\", value: 99, fullMark: 150 },\r\n    { subject: \"Physics\", value: 85, fullMark: 150 },\r\n    { subject: \"History\", value: 65, fullMark: 150 }\r\n  ], null, 2)\r\n};\r\n\r\nexport const ChartComponentEditor = ({ component, onUpdate }: ChartComponentEditorProps) => {\r\n  const content = component.content as {\r\n    chartType: string;\r\n    data: string;\r\n    title: string;\r\n    xAxisKey?: string;\r\n    yAxisKey?: string;\r\n    dataKeys?: string;\r\n  };\r\n  const handleChartTypeChange = (chartType: string) => {\r\n    onUpdate({ \r\n      ...content, \r\n      chartType,\r\n      data: sampleData[chartType as keyof typeof sampleData] || \"[]\",\r\n      xAxisKey: chartType === \"bar\" ? \"name\" : chartType === \"line\" ? \"month\" : chartType === \"area\" ? \"time\" : undefined,\r\n      yAxisKey: chartType === \"bar\" ? \"value\" : undefined,\r\n      dataKeys: chartType === \"line\" ? \"sales,expenses\" : chartType === \"area\" ? \"visitors\" : undefined\r\n    });\r\n  };\r\n\r\n  const loadSample = () => {\r\n    const chartType = content.chartType || \"bar\";\r\n    onUpdate({\r\n      ...content,\r\n      data: sampleData[chartType as keyof typeof sampleData] || \"[]\",\r\n      title: `Sample ${chartType.charAt(0).toUpperCase() + chartType.slice(1)} Chart`\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4 p-4\">\r\n      <div>\r\n        <Label>Chart Type</Label>\r\n        <Select value={content.chartType || \"bar\"} onValueChange={handleChartTypeChange}>\r\n          <SelectTrigger>\r\n            <SelectValue placeholder=\"Select chart type\" />\r\n          </SelectTrigger>\r\n          <SelectContent>\r\n            <SelectItem value=\"bar\">Bar Chart</SelectItem>\r\n            <SelectItem value=\"line\">Line Chart</SelectItem>\r\n            <SelectItem value=\"area\">Area Chart</SelectItem>\r\n            <SelectItem value=\"pie\">Pie Chart</SelectItem>\r\n            <SelectItem value=\"radar\">Radar Chart</SelectItem>\r\n          </SelectContent>\r\n        </Select>\r\n      </div>\r\n\r\n      <div>\r\n        <Label>Chart Title</Label>\r\n        <Input\r\n          value={content.title || \"\"}\r\n          onChange={(e) => onUpdate({ ...content, title: e.target.value })}\r\n          placeholder=\"Enter chart title\"\r\n        />\r\n      </div>\r\n\r\n      {(content.chartType === \"bar\" || content.chartType === \"line\" || content.chartType === \"area\") && (\r\n        <>\r\n          <div>\r\n            <Label>X-Axis Key</Label>\r\n            <Input\r\n              value={content.xAxisKey || \"\"}\r\n              onChange={(e) => onUpdate({ ...content, xAxisKey: e.target.value })}\r\n              placeholder=\"e.g., name, month, time\"\r\n            />\r\n          </div>\r\n\r\n          {content.chartType === \"bar\" && (\r\n            <div>\r\n              <Label>Y-Axis Key</Label>\r\n              <Input\r\n                value={content.yAxisKey || \"\"}\r\n                onChange={(e) => onUpdate({ ...content, yAxisKey: e.target.value })}\r\n                placeholder=\"e.g., value\"\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {(content.chartType === \"line\" || content.chartType === \"area\") && (\r\n            <div>\r\n              <Label>Data Keys (comma-separated)</Label>\r\n              <Input\r\n                value={content.dataKeys || \"\"}\r\n                onChange={(e) => onUpdate({ ...content, dataKeys: e.target.value })}\r\n                placeholder=\"e.g., sales,expenses or visitors\"\r\n              />\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      <div>\r\n        <div className=\"flex items-center justify-between mb-2\">\r\n          <Label>Chart Data (JSON)</Label>\r\n          <Button variant=\"outline\" size=\"sm\" onClick={loadSample}>\r\n            Load Sample\r\n          </Button>\r\n        </div>\r\n        <Textarea\r\n          value={content.data || \"[]\"}\r\n          onChange={(e) => onUpdate({ ...content, data: e.target.value })}\r\n          placeholder=\"Enter JSON data...\"\r\n          rows={10}\r\n          className=\"font-mono text-sm\"\r\n        />\r\n      </div>\r\n\r\n      <Separator />\r\n\r\n      <div className=\"space-y-2 text-sm text-muted-foreground\">\r\n        <p className=\"font-semibold\">Sample Data Formats:</p>\r\n        <div className=\"space-y-1\">\r\n          <p><strong>Bar/Pie:</strong> {`[{ name: \"A\", value: 100 }]`}</p>\r\n          <p><strong>Line:</strong> {`[{ month: \"Jan\", sales: 100, expenses: 50 }]`}</p>\r\n          <p><strong>Area:</strong> {`[{ time: \"00:00\", visitors: 100 }]`}</p>\r\n          <p><strong>Radar:</strong> {`[{ subject: \"Math\", value: 100, fullMark: 150 }]`}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4909, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/TabsComponentEditor.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Plus, Trash2 } from \"lucide-react\";\r\n\r\ninterface TabItem {\r\n  id: string;\r\n  label: string;\r\n  content: string;\r\n}\r\n\r\ninterface TabsComponentEditorProps {\r\n  content: {\r\n    tabs?: TabItem[];\r\n  };\r\n  onUpdate: (content: any) => void;\r\n}\r\n\r\nexport const TabsComponentEditor = ({ content, onUpdate }: TabsComponentEditorProps) => {\r\n  const tabs = content.tabs || [\r\n    { id: \"tab-1\", label: \"Tab 1\", content: \"Content for tab 1\" },\r\n    { id: \"tab-2\", label: \"Tab 2\", content: \"Content for tab 2\" },\r\n  ];\r\n\r\n  const handleAddTab = () => {\r\n    const newTab = {\r\n      id: `tab-${Date.now()}`,\r\n      label: `Tab ${tabs.length + 1}`,\r\n      content: `Content for tab ${tabs.length + 1}`,\r\n    };\r\n    onUpdate({ tabs: [...tabs, newTab] });\r\n  };\r\n\r\n  const handleRemoveTab = (id: string) => {\r\n    onUpdate({ tabs: tabs.filter((t) => t.id !== id) });\r\n  };\r\n\r\n  const handleUpdateTab = (id: string, field: keyof TabItem, value: string) => {\r\n    onUpdate({\r\n      tabs: tabs.map((t) => (t.id === id ? { ...t, [field]: value } : t)),\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <CardTitle className=\"text-sm flex items-center justify-between\">\r\n          Tabs Component\r\n          <Button size=\"sm\" variant=\"outline\" onClick={handleAddTab} className=\"gap-2\">\r\n            <Plus className=\"h-3 w-3\" />\r\n            Add Tab\r\n          </Button>\r\n        </CardTitle>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-4\">\r\n        {tabs.map((tab, index) => (\r\n          <div key={tab.id} className=\"border rounded-lg p-4 space-y-3\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <span className=\"text-sm font-medium\">Tab {index + 1}</span>\r\n              {tabs.length > 1 && (\r\n                <Button\r\n                  size=\"sm\"\r\n                  variant=\"ghost\"\r\n                  onClick={() => handleRemoveTab(tab.id)}\r\n                >\r\n                  <Trash2 className=\"h-3 w-3\" />\r\n                </Button>\r\n              )}\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor={`tab-label-${tab.id}`}>Tab Label</Label>\r\n              <Input\r\n                id={`tab-label-${tab.id}`}\r\n                value={tab.label}\r\n                onChange={(e) => handleUpdateTab(tab.id, \"label\", e.target.value)}\r\n                placeholder=\"Tab label\"\r\n              />\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor={`tab-content-${tab.id}`}>Tab Content</Label>\r\n              <Textarea\r\n                id={`tab-content-${tab.id}`}\r\n                value={tab.content}\r\n                onChange={(e) => handleUpdateTab(tab.id, \"content\", e.target.value)}\r\n                placeholder=\"Tab content\"\r\n                rows={3}\r\n              />\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;AAeO,MAAM,sBAAsB,CAAC,EAAE,OAAO,EAAE,QAAQ,EAA4B;IACjF,MAAM,OAAO,QAAQ,IAAI,IAAI;QAC3B;YAAE,IAAI;YAAS,OAAO;YAAS,SAAS;QAAoB;QAC5D;YAAE,IAAI;YAAS,OAAO;YAAS,SAAS;QAAoB;KAC7D;IAED,MAAM,eAAe;QACnB,MAAM,SAAS;YACb,IAAI,CAAC,IAAI,EAAE,KAAK,GAAG,IAAI;YACvB,OAAO,CAAC,IAAI,EAAE,KAAK,MAAM,GAAG,GAAG;YAC/B,SAAS,CAAC,gBAAgB,EAAE,KAAK,MAAM,GAAG,GAAG;QAC/C;QACA,SAAS;YAAE,MAAM;mBAAI;gBAAM;aAAO;QAAC;IACrC;IAEA,MAAM,kBAAkB,CAAC;QACvB,SAAS;YAAE,MAAM,KAAK,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;QAAI;IACnD;IAEA,MAAM,kBAAkB,CAAC,IAAY,OAAsB;QACzD,SAAS;YACP,MAAM,KAAK,GAAG,CAAC,CAAC,IAAO,EAAE,EAAE,KAAK,KAAK;oBAAE,GAAG,CAAC;oBAAE,CAAC,MAAM,EAAE;gBAAM,IAAI;QAClE;IACF;IAEA,qBACE,8OAAC,wIAAI;;0BACH,8OAAC,8IAAU;0BACT,cAAA,8OAAC,6IAAS;oBAAC,WAAU;;wBAA4C;sCAE/D,8OAAC,4IAAM;4BAAC,MAAK;4BAAK,SAAQ;4BAAU,SAAS;4BAAc,WAAU;;8CACnE,8OAAC,0MAAI;oCAAC,WAAU;;;;;;gCAAY;;;;;;;;;;;;;;;;;;0BAKlC,8OAAC,+IAAW;gBAAC,WAAU;0BACpB,KAAK,GAAG,CAAC,CAAC,KAAK,sBACd,8OAAC;wBAAiB,WAAU;;0CAC1B,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;;4CAAsB;4CAAK,QAAQ;;;;;;;oCAClD,KAAK,MAAM,GAAG,mBACb,8OAAC,4IAAM;wCACL,MAAK;wCACL,SAAQ;wCACR,SAAS,IAAM,gBAAgB,IAAI,EAAE;kDAErC,cAAA,8OAAC,oNAAM;4CAAC,WAAU;;;;;;;;;;;;;;;;;0CAIxB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,0IAAK;wCAAC,SAAS,CAAC,UAAU,EAAE,IAAI,EAAE,EAAE;kDAAE;;;;;;kDACvC,8OAAC,0IAAK;wCACJ,IAAI,CAAC,UAAU,EAAE,IAAI,EAAE,EAAE;wCACzB,OAAO,IAAI,KAAK;wCAChB,UAAU,CAAC,IAAM,gBAAgB,IAAI,EAAE,EAAE,SAAS,EAAE,MAAM,CAAC,KAAK;wCAChE,aAAY;;;;;;;;;;;;0CAGhB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,0IAAK;wCAAC,SAAS,CAAC,YAAY,EAAE,IAAI,EAAE,EAAE;kDAAE;;;;;;kDACzC,8OAAC,gJAAQ;wCACP,IAAI,CAAC,YAAY,EAAE,IAAI,EAAE,EAAE;wCAC3B,OAAO,IAAI,OAAO;wCAClB,UAAU,CAAC,IAAM,gBAAgB,IAAI,EAAE,EAAE,WAAW,EAAE,MAAM,CAAC,KAAK;wCAClE,aAAY;wCACZ,MAAM;;;;;;;;;;;;;uBA7BF,IAAI,EAAE;;;;;;;;;;;;;;;;AAqC1B"}},
    {"offset": {"line": 5123, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/AccordionComponentEditor.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Plus, Trash2 } from \"lucide-react\";\r\n\r\ninterface AccordionItem {\r\n  id: string;\r\n  title: string;\r\n  content: string;\r\n}\r\n\r\ninterface AccordionComponentEditorProps {\r\n  content: {\r\n    items?: AccordionItem[];\r\n  };\r\n  onUpdate: (content: any) => void;\r\n}\r\n\r\nexport const AccordionComponentEditor = ({ content, onUpdate }: AccordionComponentEditorProps) => {\r\n  const items = content.items || [\r\n    { id: \"item-1\", title: \"Section 1\", content: \"Content for section 1\" },\r\n    { id: \"item-2\", title: \"Section 2\", content: \"Content for section 2\" },\r\n  ];\r\n\r\n  const handleAddItem = () => {\r\n    const newItem = {\r\n      id: `item-${Date.now()}`,\r\n      title: `Section ${items.length + 1}`,\r\n      content: `Content for section ${items.length + 1}`,\r\n    };\r\n    onUpdate({ items: [...items, newItem] });\r\n  };\r\n\r\n  const handleRemoveItem = (id: string) => {\r\n    onUpdate({ items: items.filter((item) => item.id !== id) });\r\n  };\r\n\r\n  const handleUpdateItem = (id: string, field: keyof AccordionItem, value: string) => {\r\n    onUpdate({\r\n      items: items.map((item) => (item.id === id ? { ...item, [field]: value } : item)),\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <CardTitle className=\"text-sm flex items-center justify-between\">\r\n          Accordion Component\r\n          <Button size=\"sm\" variant=\"outline\" onClick={handleAddItem} className=\"gap-2\">\r\n            <Plus className=\"h-3 w-3\" />\r\n            Add Section\r\n          </Button>\r\n        </CardTitle>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-4\">\r\n        {items.map((item, index) => (\r\n          <div key={item.id} className=\"border rounded-lg p-4 space-y-3\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <span className=\"text-sm font-medium\">Section {index + 1}</span>\r\n              {items.length > 1 && (\r\n                <Button\r\n                  size=\"sm\"\r\n                  variant=\"ghost\"\r\n                  onClick={() => handleRemoveItem(item.id)}\r\n                >\r\n                  <Trash2 className=\"h-3 w-3\" />\r\n                </Button>\r\n              )}\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor={`item-title-${item.id}`}>Section Title</Label>\r\n              <Input\r\n                id={`item-title-${item.id}`}\r\n                value={item.title}\r\n                onChange={(e) => handleUpdateItem(item.id, \"title\", e.target.value)}\r\n                placeholder=\"Section title\"\r\n              />\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor={`item-content-${item.id}`}>Section Content</Label>\r\n              <Textarea\r\n                id={`item-content-${item.id}`}\r\n                value={item.content}\r\n                onChange={(e) => handleUpdateItem(item.id, \"content\", e.target.value)}\r\n                placeholder=\"Section content\"\r\n                rows={3}\r\n              />\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;AAeO,MAAM,2BAA2B,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAiC;IAC3F,MAAM,QAAQ,QAAQ,KAAK,IAAI;QAC7B;YAAE,IAAI;YAAU,OAAO;YAAa,SAAS;QAAwB;QACrE;YAAE,IAAI;YAAU,OAAO;YAAa,SAAS;QAAwB;KACtE;IAED,MAAM,gBAAgB;QACpB,MAAM,UAAU;YACd,IAAI,CAAC,KAAK,EAAE,KAAK,GAAG,IAAI;YACxB,OAAO,CAAC,QAAQ,EAAE,MAAM,MAAM,GAAG,GAAG;YACpC,SAAS,CAAC,oBAAoB,EAAE,MAAM,MAAM,GAAG,GAAG;QACpD;QACA,SAAS;YAAE,OAAO;mBAAI;gBAAO;aAAQ;QAAC;IACxC;IAEA,MAAM,mBAAmB,CAAC;QACxB,SAAS;YAAE,OAAO,MAAM,MAAM,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK;QAAI;IAC3D;IAEA,MAAM,mBAAmB,CAAC,IAAY,OAA4B;QAChE,SAAS;YACP,OAAO,MAAM,GAAG,CAAC,CAAC,OAAU,KAAK,EAAE,KAAK,KAAK;oBAAE,GAAG,IAAI;oBAAE,CAAC,MAAM,EAAE;gBAAM,IAAI;QAC7E;IACF;IAEA,qBACE,8OAAC,wIAAI;;0BACH,8OAAC,8IAAU;0BACT,cAAA,8OAAC,6IAAS;oBAAC,WAAU;;wBAA4C;sCAE/D,8OAAC,4IAAM;4BAAC,MAAK;4BAAK,SAAQ;4BAAU,SAAS;4BAAe,WAAU;;8CACpE,8OAAC,0MAAI;oCAAC,WAAU;;;;;;gCAAY;;;;;;;;;;;;;;;;;;0BAKlC,8OAAC,+IAAW;gBAAC,WAAU;0BACpB,MAAM,GAAG,CAAC,CAAC,MAAM,sBAChB,8OAAC;wBAAkB,WAAU;;0CAC3B,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;;4CAAsB;4CAAS,QAAQ;;;;;;;oCACtD,MAAM,MAAM,GAAG,mBACd,8OAAC,4IAAM;wCACL,MAAK;wCACL,SAAQ;wCACR,SAAS,IAAM,iBAAiB,KAAK,EAAE;kDAEvC,cAAA,8OAAC,oNAAM;4CAAC,WAAU;;;;;;;;;;;;;;;;;0CAIxB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,0IAAK;wCAAC,SAAS,CAAC,WAAW,EAAE,KAAK,EAAE,EAAE;kDAAE;;;;;;kDACzC,8OAAC,0IAAK;wCACJ,IAAI,CAAC,WAAW,EAAE,KAAK,EAAE,EAAE;wCAC3B,OAAO,KAAK,KAAK;wCACjB,UAAU,CAAC,IAAM,iBAAiB,KAAK,EAAE,EAAE,SAAS,EAAE,MAAM,CAAC,KAAK;wCAClE,aAAY;;;;;;;;;;;;0CAGhB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,0IAAK;wCAAC,SAAS,CAAC,aAAa,EAAE,KAAK,EAAE,EAAE;kDAAE;;;;;;kDAC3C,8OAAC,gJAAQ;wCACP,IAAI,CAAC,aAAa,EAAE,KAAK,EAAE,EAAE;wCAC7B,OAAO,KAAK,OAAO;wCACnB,UAAU,CAAC,IAAM,iBAAiB,KAAK,EAAE,EAAE,WAAW,EAAE,MAAM,CAAC,KAAK;wCACpE,aAAY;wCACZ,MAAM;;;;;;;;;;;;;uBA7BF,KAAK,EAAE;;;;;;;;;;;;;;;;AAqC3B"}},
    {"offset": {"line": 5337, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/CardComponentEditor.tsx"],"sourcesContent":["import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\n\r\ninterface CardComponentEditorProps {\r\n  content: {\r\n    layout?: \"image-top\" | \"image-left\" | \"pricing\";\r\n    title?: string;\r\n    description?: string;\r\n    imageUrl?: string;\r\n    price?: string;\r\n    features?: string;\r\n    buttonText?: string;\r\n    buttonLink?: string;\r\n  };\r\n  onUpdate: (content: any) => void;\r\n}\r\n\r\nexport const CardComponentEditor = ({ content, onUpdate }: CardComponentEditorProps) => {\r\n  const layout = content.layout || \"image-top\";\r\n  const title = content.title || \"Card Title\";\r\n  const description = content.description || \"Card description goes here\";\r\n  const imageUrl = content.imageUrl || \"\";\r\n  const price = content.price || \"$29\";\r\n  const features = content.features || \"Feature 1\\nFeature 2\\nFeature 3\";\r\n  const buttonText = content.buttonText || \"Learn More\";\r\n  const buttonLink = content.buttonLink || \"\";\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <CardTitle className=\"text-sm\">Card Component</CardTitle>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label>Card Layout</Label>\r\n          <Select value={layout} onValueChange={(val) => onUpdate({ ...content, layout: val })}>\r\n            <SelectTrigger>\r\n              <SelectValue />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"image-top\">Image on Top</SelectItem>\r\n              <SelectItem value=\"image-left\">Image on Left</SelectItem>\r\n              <SelectItem value=\"pricing\">Pricing Card</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"card-title\">Title</Label>\r\n          <Input\r\n            id=\"card-title\"\r\n            value={title}\r\n            onChange={(e) => onUpdate({ ...content, title: e.target.value })}\r\n            placeholder=\"Card title\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"card-description\">Description</Label>\r\n          <Textarea\r\n            id=\"card-description\"\r\n            value={description}\r\n            onChange={(e) => onUpdate({ ...content, description: e.target.value })}\r\n            placeholder=\"Card description\"\r\n            rows={3}\r\n          />\r\n        </div>\r\n\r\n        {(layout === \"image-top\" || layout === \"image-left\") && (\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"card-image\">Image URL</Label>\r\n            <Input\r\n              id=\"card-image\"\r\n              value={imageUrl}\r\n              onChange={(e) => onUpdate({ ...content, imageUrl: e.target.value })}\r\n              placeholder=\"https://...\"\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {layout === \"pricing\" && (\r\n          <>\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"card-price\">Price</Label>\r\n              <Input\r\n                id=\"card-price\"\r\n                value={price}\r\n                onChange={(e) => onUpdate({ ...content, price: e.target.value })}\r\n                placeholder=\"$29/month\"\r\n              />\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"card-features\">Features (one per line)</Label>\r\n              <Textarea\r\n                id=\"card-features\"\r\n                value={features}\r\n                onChange={(e) => onUpdate({ ...content, features: e.target.value })}\r\n                placeholder=\"Feature 1&#10;Feature 2&#10;Feature 3\"\r\n                rows={4}\r\n              />\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"card-button-text\">Button Text</Label>\r\n          <Input\r\n            id=\"card-button-text\"\r\n            value={buttonText}\r\n            onChange={(e) => onUpdate({ ...content, buttonText: e.target.value })}\r\n            placeholder=\"Learn More\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"card-button-link\">Button Link</Label>\r\n          <Input\r\n            id=\"card-button-link\"\r\n            value={buttonLink}\r\n            onChange={(e) => onUpdate({ ...content, buttonLink: e.target.value })}\r\n            placeholder=\"/link\"\r\n          />\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;AAgBO,MAAM,sBAAsB,CAAC,EAAE,OAAO,EAAE,QAAQ,EAA4B;IACjF,MAAM,SAAS,QAAQ,MAAM,IAAI;IACjC,MAAM,QAAQ,QAAQ,KAAK,IAAI;IAC/B,MAAM,cAAc,QAAQ,WAAW,IAAI;IAC3C,MAAM,WAAW,QAAQ,QAAQ,IAAI;IACrC,MAAM,QAAQ,QAAQ,KAAK,IAAI;IAC/B,MAAM,WAAW,QAAQ,QAAQ,IAAI;IACrC,MAAM,aAAa,QAAQ,UAAU,IAAI;IACzC,MAAM,aAAa,QAAQ,UAAU,IAAI;IAEzC,qBACE,8OAAC,wIAAI;;0BACH,8OAAC,8IAAU;0BACT,cAAA,8OAAC,6IAAS;oBAAC,WAAU;8BAAU;;;;;;;;;;;0BAEjC,8OAAC,+IAAW;gBAAC,WAAU;;kCACrB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0IAAK;0CAAC;;;;;;0CACP,8OAAC,4IAAM;gCAAC,OAAO;gCAAQ,eAAe,CAAC,MAAQ,SAAS;wCAAE,GAAG,OAAO;wCAAE,QAAQ;oCAAI;;kDAChF,8OAAC,mJAAa;kDACZ,cAAA,8OAAC,iJAAW;;;;;;;;;;kDAEd,8OAAC,mJAAa;;0DACZ,8OAAC,gJAAU;gDAAC,OAAM;0DAAY;;;;;;0DAC9B,8OAAC,gJAAU;gDAAC,OAAM;0DAAa;;;;;;0DAC/B,8OAAC,gJAAU;gDAAC,OAAM;0DAAU;;;;;;;;;;;;;;;;;;;;;;;;kCAKlC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0IAAK;gCAAC,SAAQ;0CAAa;;;;;;0CAC5B,8OAAC,0IAAK;gCACJ,IAAG;gCACH,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS;wCAAE,GAAG,OAAO;wCAAE,OAAO,EAAE,MAAM,CAAC,KAAK;oCAAC;gCAC9D,aAAY;;;;;;;;;;;;kCAIhB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0IAAK;gCAAC,SAAQ;0CAAmB;;;;;;0CAClC,8OAAC,gJAAQ;gCACP,IAAG;gCACH,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS;wCAAE,GAAG,OAAO;wCAAE,aAAa,EAAE,MAAM,CAAC,KAAK;oCAAC;gCACpE,aAAY;gCACZ,MAAM;;;;;;;;;;;;oBAIT,CAAC,WAAW,eAAe,WAAW,YAAY,mBACjD,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0IAAK;gCAAC,SAAQ;0CAAa;;;;;;0CAC5B,8OAAC,0IAAK;gCACJ,IAAG;gCACH,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS;wCAAE,GAAG,OAAO;wCAAE,UAAU,EAAE,MAAM,CAAC,KAAK;oCAAC;gCACjE,aAAY;;;;;;;;;;;;oBAKjB,WAAW,2BACV;;0CACE,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,0IAAK;wCAAC,SAAQ;kDAAa;;;;;;kDAC5B,8OAAC,0IAAK;wCACJ,IAAG;wCACH,OAAO;wCACP,UAAU,CAAC,IAAM,SAAS;gDAAE,GAAG,OAAO;gDAAE,OAAO,EAAE,MAAM,CAAC,KAAK;4CAAC;wCAC9D,aAAY;;;;;;;;;;;;0CAGhB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,0IAAK;wCAAC,SAAQ;kDAAgB;;;;;;kDAC/B,8OAAC,gJAAQ;wCACP,IAAG;wCACH,OAAO;wCACP,UAAU,CAAC,IAAM,SAAS;gDAAE,GAAG,OAAO;gDAAE,UAAU,EAAE,MAAM,CAAC,KAAK;4CAAC;wCACjE,aAAY;wCACZ,MAAM;;;;;;;;;;;;;;kCAMd,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0IAAK;gCAAC,SAAQ;0CAAmB;;;;;;0CAClC,8OAAC,0IAAK;gCACJ,IAAG;gCACH,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS;wCAAE,GAAG,OAAO;wCAAE,YAAY,EAAE,MAAM,CAAC,KAAK;oCAAC;gCACnE,aAAY;;;;;;;;;;;;kCAIhB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0IAAK;gCAAC,SAAQ;0CAAmB;;;;;;0CAClC,8OAAC,0IAAK;gCACJ,IAAG;gCACH,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS;wCAAE,GAAG,OAAO;wCAAE,YAAY,EAAE,MAAM,CAAC,KAAK;oCAAC;gCACnE,aAAY;;;;;;;;;;;;;;;;;;;;;;;;AAMxB"}},
    {"offset": {"line": 5686, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/FormInputComponentEditor.tsx"],"sourcesContent":["import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Checkbox } from \"@/components/ui/checkbox\";\r\n\r\ninterface FormInputComponentEditorProps {\r\n  content: {\r\n    fieldName?: string;\r\n    label?: string;\r\n    placeholder?: string;\r\n    inputType?: string;\r\n    required?: boolean;\r\n    validation?: string;\r\n  };\r\n  onUpdate: (content: any) => void;\r\n}\r\n\r\nexport const FormInputComponentEditor = ({ content, onUpdate }: FormInputComponentEditorProps) => {\r\n  const fieldName = content.fieldName || \"field_name\";\r\n  const label = content.label || \"Field Label\";\r\n  const placeholder = content.placeholder || \"Enter value...\";\r\n  const inputType = content.inputType || \"text\";\r\n  const required = content.required || false;\r\n  const validation = content.validation || \"\";\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <CardTitle className=\"text-sm\">Form Input Field</CardTitle>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"input-field-name\">Field Name</Label>\r\n          <Input\r\n            id=\"input-field-name\"\r\n            value={fieldName}\r\n            onChange={(e) => onUpdate({ ...content, fieldName: e.target.value })}\r\n            placeholder=\"field_name\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"input-label\">Label</Label>\r\n          <Input\r\n            id=\"input-label\"\r\n            value={label}\r\n            onChange={(e) => onUpdate({ ...content, label: e.target.value })}\r\n            placeholder=\"Field Label\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"input-placeholder\">Placeholder</Label>\r\n          <Input\r\n            id=\"input-placeholder\"\r\n            value={placeholder}\r\n            onChange={(e) => onUpdate({ ...content, placeholder: e.target.value })}\r\n            placeholder=\"Enter value...\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label>Input Type</Label>\r\n          <Select value={inputType} onValueChange={(val) => onUpdate({ ...content, inputType: val })}>\r\n            <SelectTrigger>\r\n              <SelectValue />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"text\">Text</SelectItem>\r\n              <SelectItem value=\"email\">Email</SelectItem>\r\n              <SelectItem value=\"password\">Password</SelectItem>\r\n              <SelectItem value=\"number\">Number</SelectItem>\r\n              <SelectItem value=\"tel\">Phone</SelectItem>\r\n              <SelectItem value=\"url\">URL</SelectItem>\r\n              <SelectItem value=\"date\">Date</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n\r\n        <div className=\"flex items-center space-x-2\">\r\n          <Checkbox\r\n            id=\"input-required\"\r\n            checked={required}\r\n            onCheckedChange={(checked) => onUpdate({ ...content, required: !!checked })}\r\n          />\r\n          <Label htmlFor=\"input-required\" className=\"cursor-pointer\">\r\n            Required Field\r\n          </Label>\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"input-validation\">Validation Pattern (regex)</Label>\r\n          <Input\r\n            id=\"input-validation\"\r\n            value={validation}\r\n            onChange={(e) => onUpdate({ ...content, validation: e.target.value })}\r\n            placeholder=\"e.g., ^\\d{3}-\\d{3}-\\d{4}$\"\r\n          />\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;AAcO,MAAM,2BAA2B,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAiC;IAC3F,MAAM,YAAY,QAAQ,SAAS,IAAI;IACvC,MAAM,QAAQ,QAAQ,KAAK,IAAI;IAC/B,MAAM,cAAc,QAAQ,WAAW,IAAI;IAC3C,MAAM,YAAY,QAAQ,SAAS,IAAI;IACvC,MAAM,WAAW,QAAQ,QAAQ,IAAI;IACrC,MAAM,aAAa,QAAQ,UAAU,IAAI;IAEzC,qBACE,8OAAC,wIAAI;;0BACH,8OAAC,8IAAU;0BACT,cAAA,8OAAC,6IAAS;oBAAC,WAAU;8BAAU;;;;;;;;;;;0BAEjC,8OAAC,+IAAW;gBAAC,WAAU;;kCACrB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0IAAK;gCAAC,SAAQ;0CAAmB;;;;;;0CAClC,8OAAC,0IAAK;gCACJ,IAAG;gCACH,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS;wCAAE,GAAG,OAAO;wCAAE,WAAW,EAAE,MAAM,CAAC,KAAK;oCAAC;gCAClE,aAAY;;;;;;;;;;;;kCAIhB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0IAAK;gCAAC,SAAQ;0CAAc;;;;;;0CAC7B,8OAAC,0IAAK;gCACJ,IAAG;gCACH,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS;wCAAE,GAAG,OAAO;wCAAE,OAAO,EAAE,MAAM,CAAC,KAAK;oCAAC;gCAC9D,aAAY;;;;;;;;;;;;kCAIhB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0IAAK;gCAAC,SAAQ;0CAAoB;;;;;;0CACnC,8OAAC,0IAAK;gCACJ,IAAG;gCACH,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS;wCAAE,GAAG,OAAO;wCAAE,aAAa,EAAE,MAAM,CAAC,KAAK;oCAAC;gCACpE,aAAY;;;;;;;;;;;;kCAIhB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0IAAK;0CAAC;;;;;;0CACP,8OAAC,4IAAM;gCAAC,OAAO;gCAAW,eAAe,CAAC,MAAQ,SAAS;wCAAE,GAAG,OAAO;wCAAE,WAAW;oCAAI;;kDACtF,8OAAC,mJAAa;kDACZ,cAAA,8OAAC,iJAAW;;;;;;;;;;kDAEd,8OAAC,mJAAa;;0DACZ,8OAAC,gJAAU;gDAAC,OAAM;0DAAO;;;;;;0DACzB,8OAAC,gJAAU;gDAAC,OAAM;0DAAQ;;;;;;0DAC1B,8OAAC,gJAAU;gDAAC,OAAM;0DAAW;;;;;;0DAC7B,8OAAC,gJAAU;gDAAC,OAAM;0DAAS;;;;;;0DAC3B,8OAAC,gJAAU;gDAAC,OAAM;0DAAM;;;;;;0DACxB,8OAAC,gJAAU;gDAAC,OAAM;0DAAM;;;;;;0DACxB,8OAAC,gJAAU;gDAAC,OAAM;0DAAO;;;;;;;;;;;;;;;;;;;;;;;;kCAK/B,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,gJAAQ;gCACP,IAAG;gCACH,SAAS;gCACT,iBAAiB,CAAC,UAAY,SAAS;wCAAE,GAAG,OAAO;wCAAE,UAAU,CAAC,CAAC;oCAAQ;;;;;;0CAE3E,8OAAC,0IAAK;gCAAC,SAAQ;gCAAiB,WAAU;0CAAiB;;;;;;;;;;;;kCAK7D,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0IAAK;gCAAC,SAAQ;0CAAmB;;;;;;0CAClC,8OAAC,0IAAK;gCACJ,IAAG;gCACH,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS;wCAAE,GAAG,OAAO;wCAAE,YAAY,EAAE,MAAM,CAAC,KAAK;oCAAC;gCACnE,aAAY;;;;;;;;;;;;;;;;;;;;;;;;AAMxB"}},
    {"offset": {"line": 5999, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/FormTextareaComponentEditor.tsx"],"sourcesContent":["import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Checkbox } from \"@/components/ui/checkbox\";\r\n\r\ninterface FormTextareaComponentEditorProps {\r\n  content: {\r\n    fieldName?: string;\r\n    label?: string;\r\n    placeholder?: string;\r\n    rows?: number;\r\n    required?: boolean;\r\n    maxLength?: number;\r\n  };\r\n  onUpdate: (content: any) => void;\r\n}\r\n\r\nexport const FormTextareaComponentEditor = ({ content, onUpdate }: FormTextareaComponentEditorProps) => {\r\n  const fieldName = content.fieldName || \"message\";\r\n  const label = content.label || \"Message\";\r\n  const placeholder = content.placeholder || \"Enter your message...\";\r\n  const rows = content.rows || 4;\r\n  const required = content.required || false;\r\n  const maxLength = content.maxLength || 500;\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <CardTitle className=\"text-sm\">Form Textarea Field</CardTitle>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"textarea-field-name\">Field Name</Label>\r\n          <Input\r\n            id=\"textarea-field-name\"\r\n            value={fieldName}\r\n            onChange={(e) => onUpdate({ ...content, fieldName: e.target.value })}\r\n            placeholder=\"message\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"textarea-label\">Label</Label>\r\n          <Input\r\n            id=\"textarea-label\"\r\n            value={label}\r\n            onChange={(e) => onUpdate({ ...content, label: e.target.value })}\r\n            placeholder=\"Message\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"textarea-placeholder\">Placeholder</Label>\r\n          <Input\r\n            id=\"textarea-placeholder\"\r\n            value={placeholder}\r\n            onChange={(e) => onUpdate({ ...content, placeholder: e.target.value })}\r\n            placeholder=\"Enter your message...\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"textarea-rows\">Rows</Label>\r\n          <Input\r\n            id=\"textarea-rows\"\r\n            type=\"number\"\r\n            min=\"2\"\r\n            max=\"20\"\r\n            value={rows}\r\n            onChange={(e) => onUpdate({ ...content, rows: parseInt(e.target.value) || 4 })}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"flex items-center space-x-2\">\r\n          <Checkbox\r\n            id=\"textarea-required\"\r\n            checked={required}\r\n            onCheckedChange={(checked) => onUpdate({ ...content, required: !!checked })}\r\n          />\r\n          <Label htmlFor=\"textarea-required\" className=\"cursor-pointer\">\r\n            Required Field\r\n          </Label>\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"textarea-maxlength\">Max Length</Label>\r\n          <Input\r\n            id=\"textarea-maxlength\"\r\n            type=\"number\"\r\n            min=\"50\"\r\n            max=\"10000\"\r\n            value={maxLength}\r\n            onChange={(e) => onUpdate({ ...content, maxLength: parseInt(e.target.value) || 500 })}\r\n          />\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;AAcO,MAAM,8BAA8B,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAoC;IACjG,MAAM,YAAY,QAAQ,SAAS,IAAI;IACvC,MAAM,QAAQ,QAAQ,KAAK,IAAI;IAC/B,MAAM,cAAc,QAAQ,WAAW,IAAI;IAC3C,MAAM,OAAO,QAAQ,IAAI,IAAI;IAC7B,MAAM,WAAW,QAAQ,QAAQ,IAAI;IACrC,MAAM,YAAY,QAAQ,SAAS,IAAI;IAEvC,qBACE,8OAAC,wIAAI;;0BACH,8OAAC,8IAAU;0BACT,cAAA,8OAAC,6IAAS;oBAAC,WAAU;8BAAU;;;;;;;;;;;0BAEjC,8OAAC,+IAAW;gBAAC,WAAU;;kCACrB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0IAAK;gCAAC,SAAQ;0CAAsB;;;;;;0CACrC,8OAAC,0IAAK;gCACJ,IAAG;gCACH,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS;wCAAE,GAAG,OAAO;wCAAE,WAAW,EAAE,MAAM,CAAC,KAAK;oCAAC;gCAClE,aAAY;;;;;;;;;;;;kCAIhB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0IAAK;gCAAC,SAAQ;0CAAiB;;;;;;0CAChC,8OAAC,0IAAK;gCACJ,IAAG;gCACH,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS;wCAAE,GAAG,OAAO;wCAAE,OAAO,EAAE,MAAM,CAAC,KAAK;oCAAC;gCAC9D,aAAY;;;;;;;;;;;;kCAIhB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0IAAK;gCAAC,SAAQ;0CAAuB;;;;;;0CACtC,8OAAC,0IAAK;gCACJ,IAAG;gCACH,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS;wCAAE,GAAG,OAAO;wCAAE,aAAa,EAAE,MAAM,CAAC,KAAK;oCAAC;gCACpE,aAAY;;;;;;;;;;;;kCAIhB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0IAAK;gCAAC,SAAQ;0CAAgB;;;;;;0CAC/B,8OAAC,0IAAK;gCACJ,IAAG;gCACH,MAAK;gCACL,KAAI;gCACJ,KAAI;gCACJ,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS;wCAAE,GAAG,OAAO;wCAAE,MAAM,SAAS,EAAE,MAAM,CAAC,KAAK,KAAK;oCAAE;;;;;;;;;;;;kCAIhF,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,gJAAQ;gCACP,IAAG;gCACH,SAAS;gCACT,iBAAiB,CAAC,UAAY,SAAS;wCAAE,GAAG,OAAO;wCAAE,UAAU,CAAC,CAAC;oCAAQ;;;;;;0CAE3E,8OAAC,0IAAK;gCAAC,SAAQ;gCAAoB,WAAU;0CAAiB;;;;;;;;;;;;kCAKhE,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0IAAK;gCAAC,SAAQ;0CAAqB;;;;;;0CACpC,8OAAC,0IAAK;gCACJ,IAAG;gCACH,MAAK;gCACL,KAAI;gCACJ,KAAI;gCACJ,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS;wCAAE,GAAG,OAAO;wCAAE,WAAW,SAAS,EAAE,MAAM,CAAC,KAAK,KAAK;oCAAI;;;;;;;;;;;;;;;;;;;;;;;;AAM/F"}},
    {"offset": {"line": 6240, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/FormSelectComponentEditor.tsx"],"sourcesContent":["import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Checkbox } from \"@/components/ui/checkbox\";\r\n\r\ninterface FormSelectComponentEditorProps {\r\n  content: {\r\n    fieldName?: string;\r\n    label?: string;\r\n    placeholder?: string;\r\n    options?: string;\r\n    required?: boolean;\r\n  };\r\n  onUpdate: (content: any) => void;\r\n}\r\n\r\nexport const FormSelectComponentEditor = ({ content, onUpdate }: FormSelectComponentEditorProps) => {\r\n  const fieldName = content.fieldName || \"select_field\";\r\n  const label = content.label || \"Select Option\";\r\n  const placeholder = content.placeholder || \"Choose an option...\";\r\n  const options = content.options || \"Option 1\\nOption 2\\nOption 3\";\r\n  const required = content.required || false;\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <CardTitle className=\"text-sm\">Form Select Field</CardTitle>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"select-field-name\">Field Name</Label>\r\n          <Input\r\n            id=\"select-field-name\"\r\n            value={fieldName}\r\n            onChange={(e) => onUpdate({ ...content, fieldName: e.target.value })}\r\n            placeholder=\"select_field\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"select-label\">Label</Label>\r\n          <Input\r\n            id=\"select-label\"\r\n            value={label}\r\n            onChange={(e) => onUpdate({ ...content, label: e.target.value })}\r\n            placeholder=\"Select Option\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"select-placeholder\">Placeholder</Label>\r\n          <Input\r\n            id=\"select-placeholder\"\r\n            value={placeholder}\r\n            onChange={(e) => onUpdate({ ...content, placeholder: e.target.value })}\r\n            placeholder=\"Choose an option...\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"select-options\">Options (one per line)</Label>\r\n          <Textarea\r\n            id=\"select-options\"\r\n            value={options}\r\n            onChange={(e) => onUpdate({ ...content, options: e.target.value })}\r\n            placeholder=\"Option 1&#10;Option 2&#10;Option 3\"\r\n            rows={5}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"flex items-center space-x-2\">\r\n          <Checkbox\r\n            id=\"select-required\"\r\n            checked={required}\r\n            onCheckedChange={(checked) => onUpdate({ ...content, required: !!checked })}\r\n          />\r\n          <Label htmlFor=\"select-required\" className=\"cursor-pointer\">\r\n            Required Field\r\n          </Label>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;AAaO,MAAM,4BAA4B,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAkC;IAC7F,MAAM,YAAY,QAAQ,SAAS,IAAI;IACvC,MAAM,QAAQ,QAAQ,KAAK,IAAI;IAC/B,MAAM,cAAc,QAAQ,WAAW,IAAI;IAC3C,MAAM,UAAU,QAAQ,OAAO,IAAI;IACnC,MAAM,WAAW,QAAQ,QAAQ,IAAI;IAErC,qBACE,8OAAC,wIAAI;;0BACH,8OAAC,8IAAU;0BACT,cAAA,8OAAC,6IAAS;oBAAC,WAAU;8BAAU;;;;;;;;;;;0BAEjC,8OAAC,+IAAW;gBAAC,WAAU;;kCACrB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0IAAK;gCAAC,SAAQ;0CAAoB;;;;;;0CACnC,8OAAC,0IAAK;gCACJ,IAAG;gCACH,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS;wCAAE,GAAG,OAAO;wCAAE,WAAW,EAAE,MAAM,CAAC,KAAK;oCAAC;gCAClE,aAAY;;;;;;;;;;;;kCAIhB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0IAAK;gCAAC,SAAQ;0CAAe;;;;;;0CAC9B,8OAAC,0IAAK;gCACJ,IAAG;gCACH,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS;wCAAE,GAAG,OAAO;wCAAE,OAAO,EAAE,MAAM,CAAC,KAAK;oCAAC;gCAC9D,aAAY;;;;;;;;;;;;kCAIhB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0IAAK;gCAAC,SAAQ;0CAAqB;;;;;;0CACpC,8OAAC,0IAAK;gCACJ,IAAG;gCACH,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS;wCAAE,GAAG,OAAO;wCAAE,aAAa,EAAE,MAAM,CAAC,KAAK;oCAAC;gCACpE,aAAY;;;;;;;;;;;;kCAIhB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0IAAK;gCAAC,SAAQ;0CAAiB;;;;;;0CAChC,8OAAC,gJAAQ;gCACP,IAAG;gCACH,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS;wCAAE,GAAG,OAAO;wCAAE,SAAS,EAAE,MAAM,CAAC,KAAK;oCAAC;gCAChE,aAAY;gCACZ,MAAM;;;;;;;;;;;;kCAIV,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,gJAAQ;gCACP,IAAG;gCACH,SAAS;gCACT,iBAAiB,CAAC,UAAY,SAAS;wCAAE,GAAG,OAAO;wCAAE,UAAU,CAAC,CAAC;oCAAQ;;;;;;0CAE3E,8OAAC,0IAAK;gCAAC,SAAQ;gCAAkB,WAAU;0CAAiB;;;;;;;;;;;;;;;;;;;;;;;;AAOtE"}},
    {"offset": {"line": 6449, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/FormCheckboxComponentEditor.tsx"],"sourcesContent":["import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Checkbox } from \"@/components/ui/checkbox\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\n\r\ninterface FormCheckboxComponentEditorProps {\r\n  content: {\r\n    fieldName?: string;\r\n    label?: string;\r\n    options?: string;\r\n    type?: \"checkbox\" | \"radio\";\r\n    required?: boolean;\r\n  };\r\n  onUpdate: (content: any) => void;\r\n}\r\n\r\nexport const FormCheckboxComponentEditor = ({ content, onUpdate }: FormCheckboxComponentEditorProps) => {\r\n  const fieldName = content.fieldName || \"checkbox_field\";\r\n  const label = content.label || \"Select Options\";\r\n  const options = content.options || \"Option 1\\nOption 2\\nOption 3\";\r\n  const type = content.type || \"checkbox\";\r\n  const required = content.required || false;\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <CardTitle className=\"text-sm\">Form Checkbox/Radio Field</CardTitle>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label>Field Type</Label>\r\n          <Select value={type} onValueChange={(val: any) => onUpdate({ ...content, type: val })}>\r\n            <SelectTrigger>\r\n              <SelectValue />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"checkbox\">Checkbox Group</SelectItem>\r\n              <SelectItem value=\"radio\">Radio Group</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"checkbox-field-name\">Field Name</Label>\r\n          <Input\r\n            id=\"checkbox-field-name\"\r\n            value={fieldName}\r\n            onChange={(e) => onUpdate({ ...content, fieldName: e.target.value })}\r\n            placeholder=\"checkbox_field\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"checkbox-label\">Label</Label>\r\n          <Input\r\n            id=\"checkbox-label\"\r\n            value={label}\r\n            onChange={(e) => onUpdate({ ...content, label: e.target.value })}\r\n            placeholder=\"Select Options\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"checkbox-options\">Options (one per line)</Label>\r\n          <Textarea\r\n            id=\"checkbox-options\"\r\n            value={options}\r\n            onChange={(e) => onUpdate({ ...content, options: e.target.value })}\r\n            placeholder=\"Option 1&#10;Option 2&#10;Option 3\"\r\n            rows={5}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"flex items-center space-x-2\">\r\n          <Checkbox\r\n            id=\"checkbox-required\"\r\n            checked={required}\r\n            onCheckedChange={(checked) => onUpdate({ ...content, required: !!checked })}\r\n          />\r\n          <Label htmlFor=\"checkbox-required\" className=\"cursor-pointer\">\r\n            Required Field\r\n          </Label>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAaO,MAAM,8BAA8B,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAoC;IACjG,MAAM,YAAY,QAAQ,SAAS,IAAI;IACvC,MAAM,QAAQ,QAAQ,KAAK,IAAI;IAC/B,MAAM,UAAU,QAAQ,OAAO,IAAI;IACnC,MAAM,OAAO,QAAQ,IAAI,IAAI;IAC7B,MAAM,WAAW,QAAQ,QAAQ,IAAI;IAErC,qBACE,8OAAC,wIAAI;;0BACH,8OAAC,8IAAU;0BACT,cAAA,8OAAC,6IAAS;oBAAC,WAAU;8BAAU;;;;;;;;;;;0BAEjC,8OAAC,+IAAW;gBAAC,WAAU;;kCACrB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0IAAK;0CAAC;;;;;;0CACP,8OAAC,4IAAM;gCAAC,OAAO;gCAAM,eAAe,CAAC,MAAa,SAAS;wCAAE,GAAG,OAAO;wCAAE,MAAM;oCAAI;;kDACjF,8OAAC,mJAAa;kDACZ,cAAA,8OAAC,iJAAW;;;;;;;;;;kDAEd,8OAAC,mJAAa;;0DACZ,8OAAC,gJAAU;gDAAC,OAAM;0DAAW;;;;;;0DAC7B,8OAAC,gJAAU;gDAAC,OAAM;0DAAQ;;;;;;;;;;;;;;;;;;;;;;;;kCAKhC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0IAAK;gCAAC,SAAQ;0CAAsB;;;;;;0CACrC,8OAAC,0IAAK;gCACJ,IAAG;gCACH,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS;wCAAE,GAAG,OAAO;wCAAE,WAAW,EAAE,MAAM,CAAC,KAAK;oCAAC;gCAClE,aAAY;;;;;;;;;;;;kCAIhB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0IAAK;gCAAC,SAAQ;0CAAiB;;;;;;0CAChC,8OAAC,0IAAK;gCACJ,IAAG;gCACH,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS;wCAAE,GAAG,OAAO;wCAAE,OAAO,EAAE,MAAM,CAAC,KAAK;oCAAC;gCAC9D,aAAY;;;;;;;;;;;;kCAIhB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0IAAK;gCAAC,SAAQ;0CAAmB;;;;;;0CAClC,8OAAC,gJAAQ;gCACP,IAAG;gCACH,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS;wCAAE,GAAG,OAAO;wCAAE,SAAS,EAAE,MAAM,CAAC,KAAK;oCAAC;gCAChE,aAAY;gCACZ,MAAM;;;;;;;;;;;;kCAIV,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,gJAAQ;gCACP,IAAG;gCACH,SAAS;gCACT,iBAAiB,CAAC,UAAY,SAAS;wCAAE,GAAG,OAAO;wCAAE,UAAU,CAAC,CAAC;oCAAQ;;;;;;0CAE3E,8OAAC,0IAAK;gCAAC,SAAQ;gCAAoB,WAAU;0CAAiB;;;;;;;;;;;;;;;;;;;;;;;;AAOxE"}},
    {"offset": {"line": 6694, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/FormSubmitComponentEditor.tsx"],"sourcesContent":["import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\n\r\ninterface FormSubmitComponentEditorProps {\r\n  content: {\r\n    buttonText?: string;\r\n    buttonVariant?: string;\r\n    successMessage?: string;\r\n    submitAction?: \"entity\" | \"custom\" | \"email\";\r\n    entityId?: string;\r\n    customEndpoint?: string;\r\n    emailTo?: string;\r\n  };\r\n  onUpdate: (content: any) => void;\r\n}\r\n\r\nexport const FormSubmitComponentEditor = ({ content, onUpdate }: FormSubmitComponentEditorProps) => {\r\n  const buttonText = content.buttonText || \"Submit\";\r\n  const buttonVariant = content.buttonVariant || \"default\";\r\n  const successMessage = content.successMessage || \"Form submitted successfully!\";\r\n  const submitAction = content.submitAction || \"custom\";\r\n  const entityId = content.entityId || \"\";\r\n  const customEndpoint = content.customEndpoint || \"\";\r\n  const emailTo = content.emailTo || \"\";\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <CardTitle className=\"text-sm\">Form Submit Button</CardTitle>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"submit-button-text\">Button Text</Label>\r\n          <Input\r\n            id=\"submit-button-text\"\r\n            value={buttonText}\r\n            onChange={(e) => onUpdate({ ...content, buttonText: e.target.value })}\r\n            placeholder=\"Submit\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label>Button Variant</Label>\r\n          <Select value={buttonVariant} onValueChange={(val) => onUpdate({ ...content, buttonVariant: val })}>\r\n            <SelectTrigger>\r\n              <SelectValue />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"default\">Default</SelectItem>\r\n              <SelectItem value=\"secondary\">Secondary</SelectItem>\r\n              <SelectItem value=\"outline\">Outline</SelectItem>\r\n              <SelectItem value=\"ghost\">Ghost</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"submit-success-message\">Success Message</Label>\r\n          <Textarea\r\n            id=\"submit-success-message\"\r\n            value={successMessage}\r\n            onChange={(e) => onUpdate({ ...content, successMessage: e.target.value })}\r\n            placeholder=\"Form submitted successfully!\"\r\n            rows={2}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label>Submit Action</Label>\r\n          <Select value={submitAction} onValueChange={(val: any) => onUpdate({ ...content, submitAction: val })}>\r\n            <SelectTrigger>\r\n              <SelectValue />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"entity\">Save to Entity</SelectItem>\r\n              <SelectItem value=\"custom\">Custom Endpoint</SelectItem>\r\n              <SelectItem value=\"email\">Send Email</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n\r\n        {submitAction === \"entity\" && (\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"submit-entity-id\">Entity ID</Label>\r\n            <Input\r\n              id=\"submit-entity-id\"\r\n              value={entityId}\r\n              onChange={(e) => onUpdate({ ...content, entityId: e.target.value })}\r\n              placeholder=\"Entity ID\"\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {submitAction === \"custom\" && (\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"submit-custom-endpoint\">Custom Endpoint</Label>\r\n            <Input\r\n              id=\"submit-custom-endpoint\"\r\n              value={customEndpoint}\r\n              onChange={(e) => onUpdate({ ...content, customEndpoint: e.target.value })}\r\n              placeholder=\"https://api.example.com/submit\"\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {submitAction === \"email\" && (\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"submit-email-to\">Email To</Label>\r\n            <Input\r\n              id=\"submit-email-to\"\r\n              type=\"email\"\r\n              value={emailTo}\r\n              onChange={(e) => onUpdate({ ...content, emailTo: e.target.value })}\r\n              placeholder=\"recipient@example.com\"\r\n            />\r\n          </div>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7058, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/DatasourceComponentEditor.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport {\r\n  Database,\r\n  Search,\r\n  Globe,\r\n  Table2,\r\n  LayoutGrid,\r\n  Columns3,\r\n  Images,\r\n  List,\r\n  Clock,\r\n  Calendar,\r\n  BarChart3,\r\n  ChevronRight,\r\n  ChevronLeft,\r\n  Check\r\n} from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\nimport { DatasourceViewOptions } from \"../datasource/DatasourceViewOptions\";\r\nimport type { FieldInfo } from \"../datasource/adapters/EntityAdapter\";\r\nimport { fetchEntityData } from \"../datasource/adapters/EntityAdapter\";\r\n\r\ninterface DatasourceComponentEditorProps {\r\n  component: any;\r\n  onUpdate: (content: any) => void;\r\n}\r\n\r\ninterface Entity {\r\n  id: string;\r\n  display_name: string;\r\n}\r\n\r\ninterface Query {\r\n  id: string;\r\n  display_name: string;\r\n  query_type: string;\r\n}\r\n\r\ninterface ApiCollection {\r\n  id: string;\r\n  name: string;\r\n}\r\n\r\ninterface ApiRequest {\r\n  id: string;\r\n  name: string;\r\n  collection_id: string;\r\n}\r\n\r\ntype DataSourceType = 'entity' | 'query' | 'api';\r\ntype ViewType = 'table' | 'card' | 'kanban' | 'gallery' | 'list' | 'timeline' | 'calendar' | 'gantt';\r\n\r\nimport { getEntities } from \"@/lib/schema-service\";\r\n\r\nexport const DatasourceComponentEditor = ({ component, onUpdate }: DatasourceComponentEditorProps) => {\r\n  const content = component.content || {};\r\n  const [step, setStep] = useState<1 | 2 | 3>(1);\r\n\r\n  // Step 1: Data Source\r\n  const [dataSourceType, setDataSourceType] = useState<DataSourceType>(content.dataSourceType || 'entity');\r\n  const [entities, setEntities] = useState<Entity[]>([]);\r\n  const [queries, setQueries] = useState<Query[]>([]);\r\n  const [apiCollections, setApiCollections] = useState<ApiCollection[]>([]);\r\n  const [apiRequests, setApiRequests] = useState<ApiRequest[]>([]);\r\n  const [selectedEntityId, setSelectedEntityId] = useState<string>(content.entityId || '');\r\n  const [selectedQueryId, setSelectedQueryId] = useState<string>(content.queryId || '');\r\n  const [selectedApiRequestId, setSelectedApiRequestId] = useState<string>(content.apiRequestId || '');\r\n  const [selectedCollectionId, setSelectedCollectionId] = useState<string>(content.apiCollectionId || '');\r\n\r\n  // Step 2: View Type\r\n  const [viewType, setViewType] = useState<ViewType>(content.viewType || 'table');\r\n\r\n  // Step 3: View Options\r\n  const [fields, setFields] = useState<FieldInfo[]>([]);\r\n  const [viewOptions, setViewOptions] = useState(content.viewOptions || {\r\n    visibleColumns: [],\r\n    sortField: null,\r\n    sortOrder: 'asc' as const,\r\n    filters: [],\r\n  });\r\n  const [loadingFields, setLoadingFields] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadDataSources();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (selectedCollectionId) {\r\n      loadApiRequests(selectedCollectionId);\r\n    }\r\n  }, [selectedCollectionId]);\r\n\r\n  useEffect(() => {\r\n    if (step >= 2 && (selectedEntityId || selectedQueryId || selectedApiRequestId)) {\r\n      loadFieldsForDataSource();\r\n    }\r\n  }, [step, selectedEntityId, selectedQueryId, selectedApiRequestId]);\r\n\r\n  const loadDataSources = async () => {\r\n    // Load entities from schema service\r\n    const entitiesData = await getEntities();\r\n    setEntities((entitiesData as any[]).filter(e => e.is_published));\r\n\r\n    // Load API collections\r\n    const { data: { user } } = await supabase.auth.getUser();\r\n    if (user) {\r\n      const { data: collectionsData } = await supabase\r\n        .from(\"api_collections\")\r\n        .select(\"id, name\")\r\n        .eq(\"user_id\", user.id)\r\n        .order(\"name\");\r\n      setApiCollections(collectionsData || []);\r\n    }\r\n  };\r\n\r\n  const loadApiRequests = async (collectionId: string) => {\r\n    const { data } = await supabase\r\n      .from(\"api_requests\")\r\n      .select(\"id, name, collection_id\")\r\n      .eq(\"collection_id\", collectionId)\r\n      .order(\"name\");\r\n    setApiRequests(data || []);\r\n  };\r\n\r\n  const loadFieldsForDataSource = async () => {\r\n    setLoadingFields(true);\r\n    try {\r\n      let result;\r\n\r\n      if (dataSourceType === 'entity' && selectedEntityId) {\r\n        result = await fetchEntityData(selectedEntityId);\r\n      } else if (dataSourceType === 'query' && selectedQueryId) {\r\n        // For queries, we'll infer fields from the query result\r\n        // This is a simplified approach - in production you might want to cache this\r\n        const { data: queryData } = await supabase\r\n          .from(\"queries\")\r\n          .select(\"id, display_name\")\r\n          .eq(\"id\", selectedQueryId)\r\n          .single();\r\n\r\n        if (queryData) {\r\n          // We'll set fields when the view is rendered\r\n          // For now, create placeholder fields\r\n          result = { data: [], fields: [] };\r\n        } else {\r\n          result = { data: [], fields: [] };\r\n        }\r\n      } else if (dataSourceType === 'api' && selectedApiRequestId) {\r\n        // For API, we'll infer fields when rendering\r\n        result = { data: [], fields: [] };\r\n      } else {\r\n        result = { data: [], fields: [] };\r\n      }\r\n\r\n      setFields(result.fields);\r\n\r\n      // Initialize visible columns if empty\r\n      if (viewOptions.visibleColumns.length === 0 && result.fields.length > 0) {\r\n        setViewOptions((prev: any) => ({\r\n          ...prev,\r\n          visibleColumns: result.fields.map(f => f.id),\r\n        }));\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error loading fields:\", error);\r\n      toast.error(\"Failed to load fields\");\r\n    } finally {\r\n      setLoadingFields(false);\r\n    }\r\n  };\r\n\r\n  const handleStep1Complete = () => {\r\n    if (dataSourceType === 'entity' && !selectedEntityId) {\r\n      toast.error(\"Please select an entity\");\r\n      return;\r\n    }\r\n    if (dataSourceType === 'query' && !selectedQueryId) {\r\n      toast.error(\"Please select a query\");\r\n      return;\r\n    }\r\n    if (dataSourceType === 'api' && !selectedApiRequestId) {\r\n      toast.error(\"Please select an API request\");\r\n      return;\r\n    }\r\n\r\n    // Save step 1 data\r\n    const step1Content = {\r\n      dataSourceType,\r\n      entityId: dataSourceType === 'entity' ? selectedEntityId : undefined,\r\n      queryId: dataSourceType === 'query' ? selectedQueryId : undefined,\r\n      apiRequestId: dataSourceType === 'api' ? selectedApiRequestId : undefined,\r\n      apiCollectionId: dataSourceType === 'api' ? selectedCollectionId : undefined,\r\n    };\r\n\r\n    onUpdate({ ...content, ...step1Content });\r\n    setStep(2);\r\n  };\r\n\r\n  const handleStep2Complete = () => {\r\n    // Save step 2 data\r\n    onUpdate({ ...content, viewType });\r\n    setStep(3);\r\n  };\r\n\r\n  const handleViewOptionsChange = (options: any) => {\r\n    setViewOptions(options);\r\n    // Auto-save view options\r\n    onUpdate({\r\n      ...content,\r\n      viewType,\r\n      viewOptions: options\r\n    });\r\n  };\r\n\r\n  const viewTypeOptions: { value: ViewType; label: string; icon: any; description: string }[] = [\r\n    { value: 'table', label: 'Table', icon: Table2, description: 'Tabular data view' },\r\n    { value: 'card', label: 'Card', icon: LayoutGrid, description: 'Card grid layout' },\r\n    { value: 'kanban', label: 'Kanban', icon: Columns3, description: 'Kanban board' },\r\n    { value: 'gallery', label: 'Gallery', icon: Images, description: 'Image gallery' },\r\n    { value: 'list', label: 'List', icon: List, description: 'List view' },\r\n    { value: 'timeline', label: 'Timeline', icon: Clock, description: 'Timeline view' },\r\n    { value: 'calendar', label: 'Calendar', icon: Calendar, description: 'Calendar view' },\r\n    { value: 'gantt', label: 'Gantt', icon: BarChart3, description: 'Gantt chart' },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {/* Step Indicator */}\r\n      <div className=\"flex items-center gap-2 text-sm\">\r\n        <div className={`flex items-center gap-2 ${step >= 1 ? 'text-primary' : 'text-muted-foreground'}`}>\r\n          <div className={`w-6 h-6 rounded-full flex items-center justify-center ${step >= 1 ? 'bg-primary text-primary-foreground' : 'bg-muted'}`}>\r\n            {step > 1 ? <Check className=\"h-4 w-4\" /> : '1'}\r\n          </div>\r\n          <span>Data Source</span>\r\n        </div>\r\n        <ChevronRight className=\"h-4 w-4 text-muted-foreground\" />\r\n        <div className={`flex items-center gap-2 ${step >= 2 ? 'text-primary' : 'text-muted-foreground'}`}>\r\n          <div className={`w-6 h-6 rounded-full flex items-center justify-center ${step >= 2 ? 'bg-primary text-primary-foreground' : 'bg-muted'}`}>\r\n            {step > 2 ? <Check className=\"h-4 w-4\" /> : '2'}\r\n          </div>\r\n          <span>View Type</span>\r\n        </div>\r\n        <ChevronRight className=\"h-4 w-4 text-muted-foreground\" />\r\n        <div className={`flex items-center gap-2 ${step >= 3 ? 'text-primary' : 'text-muted-foreground'}`}>\r\n          <div className={`w-6 h-6 rounded-full flex items-center justify-center ${step >= 3 ? 'bg-primary text-primary-foreground' : 'bg-muted'}`}>\r\n            3\r\n          </div>\r\n          <span>View Options</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Step 1: Data Source Selection */}\r\n      {step === 1 && (\r\n        <div className=\"space-y-4\">\r\n          <div>\r\n            <Label className=\"text-base font-semibold mb-3 block\">Select Data Source Type</Label>\r\n            <Tabs value={dataSourceType} onValueChange={(value) => setDataSourceType(value as DataSourceType)}>\r\n              <TabsList className=\"grid w-full grid-cols-3\">\r\n                <TabsTrigger value=\"entity\">\r\n                  <Database className=\"h-4 w-4 mr-2\" />\r\n                  Entity\r\n                </TabsTrigger>\r\n                <TabsTrigger value=\"query\">\r\n                  <Search className=\"h-4 w-4 mr-2\" />\r\n                  Query\r\n                </TabsTrigger>\r\n                <TabsTrigger value=\"api\">\r\n                  <Globe className=\"h-4 w-4 mr-2\" />\r\n                  API\r\n                </TabsTrigger>\r\n              </TabsList>\r\n\r\n              <TabsContent value=\"entity\" className=\"mt-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label>Select Entity</Label>\r\n                  <Select value={selectedEntityId} onValueChange={setSelectedEntityId}>\r\n                    <SelectTrigger>\r\n                      <SelectValue placeholder=\"Choose an entity\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      {entities.map((entity) => (\r\n                        <SelectItem key={entity.id} value={entity.id}>\r\n                          {entity.display_name}\r\n                        </SelectItem>\r\n                      ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                  <p className=\"text-xs text-muted-foreground\">\r\n                    Only published entities are available\r\n                  </p>\r\n                </div>\r\n              </TabsContent>\r\n\r\n              <TabsContent value=\"query\" className=\"mt-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label>Select Query</Label>\r\n                  <Select value={selectedQueryId} onValueChange={setSelectedQueryId}>\r\n                    <SelectTrigger>\r\n                      <SelectValue placeholder=\"Choose a query\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      {queries.map((query) => (\r\n                        <SelectItem key={query.id} value={query.id}>\r\n                          {query.display_name} ({query.query_type})\r\n                        </SelectItem>\r\n                      ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                  <p className=\"text-xs text-muted-foreground\">\r\n                    Only published queries are available\r\n                  </p>\r\n                </div>\r\n              </TabsContent>\r\n\r\n              <TabsContent value=\"api\" className=\"mt-4\">\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"space-y-2\">\r\n                    <Label>Select API Collection</Label>\r\n                    <Select\r\n                      value={selectedCollectionId}\r\n                      onValueChange={(value) => {\r\n                        setSelectedCollectionId(value);\r\n                        setSelectedApiRequestId('');\r\n                      }}\r\n                    >\r\n                      <SelectTrigger>\r\n                        <SelectValue placeholder=\"Choose a collection\" />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        {apiCollections.map((collection) => (\r\n                          <SelectItem key={collection.id} value={collection.id}>\r\n                            {collection.name}\r\n                          </SelectItem>\r\n                        ))}\r\n                      </SelectContent>\r\n                    </Select>\r\n                  </div>\r\n\r\n                  {selectedCollectionId && (\r\n                    <div className=\"space-y-2\">\r\n                      <Label>Select API Request</Label>\r\n                      <Select value={selectedApiRequestId} onValueChange={setSelectedApiRequestId}>\r\n                        <SelectTrigger>\r\n                          <SelectValue placeholder=\"Choose a request\" />\r\n                        </SelectTrigger>\r\n                        <SelectContent>\r\n                          {apiRequests.map((request) => (\r\n                            <SelectItem key={request.id} value={request.id}>\r\n                              {request.name}\r\n                            </SelectItem>\r\n                          ))}\r\n                        </SelectContent>\r\n                      </Select>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </TabsContent>\r\n            </Tabs>\r\n          </div>\r\n\r\n          <div className=\"flex justify-end\">\r\n            <Button onClick={handleStep1Complete}>\r\n              Next: View Type <ChevronRight className=\"h-4 w-4 ml-2\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Step 2: View Type Selection */}\r\n      {step === 2 && (\r\n        <div className=\"space-y-4\">\r\n          <div>\r\n            <Label className=\"text-base font-semibold mb-3 block\">Select View Type</Label>\r\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\r\n              {viewTypeOptions.map((option) => {\r\n                const Icon = option.icon;\r\n                const isSelected = viewType === option.value;\r\n                return (\r\n                  <Card\r\n                    key={option.value}\r\n                    className={`cursor-pointer transition-all hover:border-primary ${isSelected ? 'border-primary bg-primary/5' : ''\r\n                      }`}\r\n                    onClick={() => setViewType(option.value)}\r\n                  >\r\n                    <CardHeader className=\"pb-3\">\r\n                      <div className=\"flex flex-col items-center text-center space-y-2\">\r\n                        <Icon className={`h-6 w-6 ${isSelected ? 'text-primary' : 'text-muted-foreground'}`} />\r\n                        <CardTitle className=\"text-sm\">{option.label}</CardTitle>\r\n                      </div>\r\n                    </CardHeader>\r\n                    <CardContent className=\"pt-0\">\r\n                      <CardDescription className=\"text-xs text-center\">\r\n                        {option.description}\r\n                      </CardDescription>\r\n                    </CardContent>\r\n                  </Card>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex justify-between\">\r\n            <Button variant=\"outline\" onClick={() => setStep(1)}>\r\n              <ChevronLeft className=\"h-4 w-4 mr-2\" /> Back\r\n            </Button>\r\n            <Button onClick={handleStep2Complete}>\r\n              Next: View Options <ChevronRight className=\"h-4 w-4 ml-2\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Step 3: View Options */}\r\n      {step === 3 && (\r\n        <div className=\"space-y-4\">\r\n          {loadingFields ? (\r\n            <div className=\"text-sm text-muted-foreground\">Loading fields...</div>\r\n          ) : fields.length === 0 ? (\r\n            <div className=\"text-sm text-muted-foreground\">\r\n              Fields will be loaded when the data source is rendered\r\n            </div>\r\n          ) : (\r\n            <DatasourceViewOptions\r\n              fields={fields}\r\n              viewType={viewType}\r\n              viewOptions={viewOptions}\r\n              onViewOptionsChange={handleViewOptionsChange}\r\n            />\r\n          )}\r\n\r\n          <div className=\"flex justify-between\">\r\n            <Button variant=\"outline\" onClick={() => setStep(2)}>\r\n              <ChevronLeft className=\"h-4 w-4 mr-2\" /> Back\r\n            </Button>\r\n            <div className=\"text-sm text-muted-foreground flex items-center\">\r\n              Configuration saved automatically\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 8017, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/DraggableComponent.tsx"],"sourcesContent":["import { useSortable } from \"@dnd-kit/sortable\";\r\nimport { CSS } from \"@dnd-kit/utilities\";\r\nimport { GripVertical, Copy, CopyPlus, Trash2, Paintbrush } from \"lucide-react\";\r\nimport { Tables } from \"@/integrations/supabase/types\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { useClipboard } from \"@/contexts/ClipboardContext\";\r\nimport { ComponentStylePanel } from \"./ComponentStylePanel\";\r\nimport { ComponentContextMenu } from \"./ComponentContextMenu\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { useState } from \"react\";\r\nimport { Collapsible, CollapsibleContent } from \"@/components/ui/collapsible\";\r\nimport { HeadingComponentEditor } from \"./HeadingComponentEditor\";\r\nimport { TextComponentEditor } from \"./TextComponentEditor\";\r\nimport { ImageComponentEditor } from \"./ImageComponentEditor\";\r\nimport { ButtonComponentEditor } from \"./ButtonComponentEditor\";\r\nimport { LinkComponentEditor } from \"./LinkComponentEditor\";\r\nimport { VideoComponentEditor } from \"./VideoComponentEditor\";\r\nimport { DividerComponentEditor } from \"./DividerComponentEditor\";\r\nimport { SpacerComponentEditor } from \"./SpacerComponentEditor\";\r\nimport { QuoteComponentEditor } from \"./QuoteComponentEditor\";\r\nimport { ListComponentEditor } from \"./ListComponentEditor\";\r\nimport { CodeComponentEditor } from \"./CodeComponentEditor\";\r\nimport { PageContentComponentEditor } from \"./PageContentComponentEditor\";\r\nimport { EntityListComponentEditor } from \"./EntityListComponentEditor\";\r\nimport { EntityDetailComponentEditor } from \"./EntityDetailComponentEditor\";\r\nimport QueryComponentEditor from \"./QueryComponentEditor\";\r\nimport { ChartComponentEditor } from \"./ChartComponentEditor\";\r\nimport { TabsComponentEditor } from \"./TabsComponentEditor\";\r\nimport { AccordionComponentEditor } from \"./AccordionComponentEditor\";\r\nimport { CardComponentEditor } from \"./CardComponentEditor\";\r\nimport { FormInputComponentEditor } from \"./FormInputComponentEditor\";\r\nimport { FormTextareaComponentEditor } from \"./FormTextareaComponentEditor\";\r\nimport { FormSelectComponentEditor } from \"./FormSelectComponentEditor\";\r\nimport { FormCheckboxComponentEditor } from \"./FormCheckboxComponentEditor\";\r\nimport { FormSubmitComponentEditor } from \"./FormSubmitComponentEditor\";\r\nimport { DatasourceComponentEditor } from \"./DatasourceComponentEditor\";\r\n\r\ntype Component = Tables<\"page_components\"> | Tables<\"widget_components\"> | Tables<\"layout_components\">;\r\n\r\ninterface DraggableComponentProps {\r\n  component: Component;\r\n  onUpdate: (id: string, content: any) => void;\r\n  onUpdateStyles: (id: string, styles: any) => void;\r\n  onDelete: (id: string) => void;\r\n  onDuplicate: (id: string) => void;\r\n  totalComponents: number;\r\n  onMoveToPosition: (id: string, position: number) => void;\r\n}\r\n\r\nexport const DraggableComponent = ({\r\n  component,\r\n  onUpdate,\r\n  onUpdateStyles,\r\n  onDelete,\r\n  onDuplicate,\r\n  totalComponents,\r\n  onMoveToPosition,\r\n}: DraggableComponentProps) => {\r\n  const { copyComponent } = useClipboard();\r\n  const [showStyles, setShowStyles] = useState(false);\r\n  \r\n  const componentStyles = (component as any).styles || {};\r\n  const isHidden = componentStyles.visible === false;\r\n  const isLocked = componentStyles.locked === true;\r\n  const {\r\n    attributes,\r\n    listeners,\r\n    setNodeRef,\r\n    transform,\r\n    transition,\r\n    isDragging,\r\n  } = useSortable({ \r\n    id: component.id,\r\n    disabled: isLocked,\r\n    data: {\r\n      type: \"component\",\r\n      component\r\n    }\r\n  });\r\n\r\n  const style = {\r\n    transform: CSS.Transform.toString(transform),\r\n    transition,\r\n    opacity: isDragging ? 0.5 : isHidden ? 0.4 : 1,\r\n  };\r\n\r\n  const componentStyleStrings = (component as any).styles || {};\r\n  const componentStyleString = {\r\n    marginTop: componentStyleStrings.marginTop,\r\n    marginBottom: componentStyleStrings.marginBottom,\r\n    marginLeft: componentStyleStrings.marginLeft,\r\n    marginRight: componentStyleStrings.marginRight,\r\n    paddingTop: componentStyleStrings.paddingTop,\r\n    paddingBottom: componentStyleStrings.paddingBottom,\r\n    paddingLeft: componentStyleStrings.paddingLeft,\r\n    paddingRight: componentStyleStrings.paddingRight,\r\n    color: componentStyleStrings.color,\r\n    backgroundColor: componentStyleStrings.backgroundColor,\r\n    fontSize: componentStyleStrings.fontSize,\r\n    fontWeight: componentStyleStrings.fontWeight,\r\n    textAlign: componentStyleStrings.textAlign as any,\r\n    borderRadius: componentStyleStrings.borderRadius,\r\n    boxShadow: componentStyleStrings.boxShadow,\r\n    border: componentStyleStrings.border,\r\n  };\r\n\r\n  // Cast to page_components for editor compatibility (widget_components have same structure for content)\r\n  const editorComponent = component as Tables<\"page_components\">;\r\n  \r\n  const commonProps = {\r\n    component: editorComponent,\r\n    onUpdate: (content: any) => onUpdate(component.id, content),\r\n  };\r\n\r\n  const renderComponent = () => {\r\n    switch (component.component_type) {\r\n      case \"heading\":\r\n        return <HeadingComponentEditor {...commonProps} />;\r\n      case \"paragraph\":\r\n        return <TextComponentEditor {...commonProps} />;\r\n      case \"image\":\r\n        return <ImageComponentEditor {...commonProps} />;\r\n      case \"button\":\r\n        return <ButtonComponentEditor {...commonProps} />;\r\n      case \"link\":\r\n        return <LinkComponentEditor {...commonProps} />;\r\n      case \"video\":\r\n        return <VideoComponentEditor {...commonProps} />;\r\n      case \"divider\":\r\n        return <DividerComponentEditor />;\r\n      case \"spacer\":\r\n        return <SpacerComponentEditor {...commonProps} />;\r\n      case \"quote\":\r\n        return <QuoteComponentEditor {...commonProps} />;\r\n      case \"list\":\r\n        return <ListComponentEditor {...commonProps} />;\r\n      case \"code\":\r\n        return <CodeComponentEditor {...commonProps} />;\r\n      case \"page-content\":\r\n        return <PageContentComponentEditor />;\r\n      case \"entity-list\":\r\n        return <EntityListComponentEditor {...commonProps} />;\r\n      case \"entity-detail\":\r\n        return <EntityDetailComponentEditor {...commonProps} />;\r\n      case \"query\":\r\n        return <QueryComponentEditor {...commonProps} />;\r\n      case \"datasource\":\r\n        return <DatasourceComponentEditor {...commonProps} />;\r\n      case \"chart\":\r\n        return <ChartComponentEditor {...commonProps} />;\r\n      case \"tabs\":\r\n        return <TabsComponentEditor content={component.content as any} onUpdate={(content) => onUpdate(component.id, content)} />;\r\n      case \"accordion\":\r\n        return <AccordionComponentEditor content={component.content as any} onUpdate={(content) => onUpdate(component.id, content)} />;\r\n      case \"card\":\r\n        return <CardComponentEditor content={component.content as any} onUpdate={(content) => onUpdate(component.id, content)} />;\r\n      case \"form-input\":\r\n        return <FormInputComponentEditor content={component.content as any} onUpdate={(content) => onUpdate(component.id, content)} />;\r\n      case \"form-textarea\":\r\n        return <FormTextareaComponentEditor content={component.content as any} onUpdate={(content) => onUpdate(component.id, content)} />;\r\n      case \"form-select\":\r\n        return <FormSelectComponentEditor content={component.content as any} onUpdate={(content) => onUpdate(component.id, content)} />;\r\n      case \"form-checkbox\":\r\n        return <FormCheckboxComponentEditor content={component.content as any} onUpdate={(content) => onUpdate(component.id, content)} />;\r\n      case \"form-submit\":\r\n        return <FormSubmitComponentEditor content={component.content as any} onUpdate={(content) => onUpdate(component.id, content)} />;\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ComponentContextMenu\r\n      componentId={component.id}\r\n      component={component}\r\n      totalComponents={totalComponents}\r\n      currentPosition={component.position}\r\n      onEdit={() => setShowStyles(true)}\r\n      onDuplicate={() => onDuplicate(component.id)}\r\n      onDelete={() => onDelete(component.id)}\r\n      onMoveToTop={() => onMoveToPosition(component.id, 0)}\r\n      onMoveToBottom={() => onMoveToPosition(component.id, totalComponents - 1)}\r\n    >\r\n      <div ref={setNodeRef} style={{...style, ...componentStyleString}} className={cn(\r\n        \"relative group\",\r\n        isHidden && \"opacity-40 pointer-events-none\",\r\n        isLocked && \"cursor-not-allowed border-2 border-orange-500/50\"\r\n      )}>\r\n        <div\r\n          {...attributes}\r\n          {...listeners}\r\n          className=\"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-8 cursor-grab active:cursor-grabbing opacity-0 group-hover:opacity-100 transition-opacity\"\r\n        >\r\n          <GripVertical className=\"h-5 w-5 text-muted-foreground\" />\r\n        </div>\r\n        <div className=\"absolute right-0 top-1/2 -translate-y-1/2 translate-x-8 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col gap-1\">\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"icon\"\r\n            className=\"h-7 w-7\"\r\n            onClick={() => setShowStyles(!showStyles)}\r\n            title=\"Styles\"\r\n          >\r\n            <Paintbrush className=\"h-4 w-4\" />\r\n          </Button>\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"icon\"\r\n            className=\"h-7 w-7\"\r\n            onClick={() => onDuplicate(component.id)}\r\n            title=\"Duplicate (Cmd+D)\"\r\n          >\r\n            <CopyPlus className=\"h-4 w-4\" />\r\n          </Button>\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"icon\"\r\n            className=\"h-7 w-7\"\r\n            onClick={() => copyComponent(component)}\r\n            title=\"Copy (Cmd+C)\"\r\n          >\r\n            <Copy className=\"h-4 w-4\" />\r\n          </Button>\r\n          <Button\r\n            variant=\"destructive\"\r\n            size=\"icon\"\r\n            className=\"h-7 w-7\"\r\n            onClick={() => onDelete(component.id)}\r\n            title=\"Delete (Backspace)\"\r\n          >\r\n            <Trash2 className=\"h-4 w-4\" />\r\n          </Button>\r\n        </div>\r\n        <div>\r\n          {renderComponent()}\r\n          <Collapsible open={showStyles}>\r\n            <CollapsibleContent>\r\n              <ComponentStylePanel\r\n                componentId={component.id}\r\n                styles={componentStyleStrings}\r\n                onUpdate={(styles) => onUpdateStyles(component.id, styles)}\r\n              />\r\n            </CollapsibleContent>\r\n          </Collapsible>\r\n        </div>\r\n      </div>\r\n    </ComponentContextMenu>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 8513, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/DroppableColumn.tsx"],"sourcesContent":["import { useDroppable } from \"@dnd-kit/core\";\r\nimport { SortableContext, verticalListSortingStrategy } from \"@dnd-kit/sortable\";\r\nimport { Tables } from \"@/integrations/supabase/types\";\r\nimport { DraggableComponent } from \"./DraggableComponent\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Clipboard } from \"lucide-react\";\r\nimport { useClipboard } from \"@/contexts/ClipboardContext\";\r\n\r\ntype Component = Tables<\"page_components\"> | Tables<\"widget_components\"> | Tables<\"layout_components\">;\r\n\r\ninterface DroppableColumnProps {\r\n  rowId: string;\r\n  columnIndex: number;\r\n  components: Component[];\r\n  onUpdate: (id: string, content: any) => void;\r\n  onUpdateStyles: (id: string, styles: any) => void;\r\n  onDelete: (id: string) => void;\r\n  onDuplicate: (id: string) => void;\r\n  onPaste: (rowId: string, columnIndex: number) => void;\r\n  onMoveToPosition: (id: string, position: number) => void;\r\n}\r\n\r\nexport const DroppableColumn = ({\r\n  rowId,\r\n  columnIndex,\r\n  components,\r\n  onUpdate,\r\n  onUpdateStyles,\r\n  onDelete,\r\n  onDuplicate,\r\n  onPaste,\r\n  onMoveToPosition,\r\n}: DroppableColumnProps) => {\r\n  const droppableId = `${rowId}-${columnIndex}`;\r\n  const { setNodeRef, isOver } = useDroppable({ \r\n    id: droppableId,\r\n    data: { type: \"droppable-column\", rowId, columnIndex }\r\n  });\r\n  const { copiedComponent } = useClipboard();\r\n\r\n  // Only include actual component IDs in sortable context\r\n  const sortableIds = components.map((c) => c.id);\r\n\r\n  return (\r\n    <div\r\n      ref={setNodeRef}\r\n      className={cn(\r\n        \"min-h-[200px] border-2 border-dashed rounded-lg p-4 transition-colors\",\r\n        isOver ? \"border-primary bg-primary/5\" : \"border-muted-foreground/25\"\r\n      )}\r\n    >\r\n      <SortableContext items={sortableIds} strategy={verticalListSortingStrategy}>\r\n        <div className=\"space-y-4\">\r\n          {components.length === 0 ? (\r\n            <div className=\"flex flex-col items-center justify-center h-32 text-muted-foreground text-sm gap-2\">\r\n              <p>Drag components here</p>\r\n              {copiedComponent && (\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  onClick={() => onPaste(rowId, columnIndex)}\r\n                  className=\"gap-2\"\r\n                >\r\n                  <Clipboard className=\"h-4 w-4\" />\r\n                  Paste\r\n                </Button>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <>\r\n              {components.map((component) => (\r\n            <DraggableComponent\r\n              key={component.id}\r\n              component={component}\r\n              onUpdate={onUpdate}\r\n              onUpdateStyles={onUpdateStyles}\r\n              onDelete={onDelete}\r\n              onDuplicate={onDuplicate}\r\n              totalComponents={components.length}\r\n              onMoveToPosition={onMoveToPosition}\r\n            />\r\n              ))}\r\n              {copiedComponent && (\r\n                <div className=\"flex justify-center pt-2\">\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    size=\"sm\"\r\n                    onClick={() => onPaste(rowId, columnIndex)}\r\n                    className=\"gap-2\"\r\n                  >\r\n                    <Clipboard className=\"h-4 w-4\" />\r\n                    Paste here\r\n                  </Button>\r\n                </div>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n      </SortableContext>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;AAgBO,MAAM,kBAAkB,CAAC,EAC9B,KAAK,EACL,WAAW,EACX,UAAU,EACV,QAAQ,EACR,cAAc,EACd,QAAQ,EACR,WAAW,EACX,OAAO,EACP,gBAAgB,EACK;IACrB,MAAM,cAAc,GAAG,MAAM,CAAC,EAAE,aAAa;IAC7C,MAAM,EAAE,UAAU,EAAE,MAAM,EAAE,GAAG,IAAA,2KAAY,EAAC;QAC1C,IAAI;QACJ,MAAM;YAAE,MAAM;YAAoB;YAAO;QAAY;IACvD;IACA,MAAM,EAAE,eAAe,EAAE,GAAG,IAAA,oJAAY;IAExC,wDAAwD;IACxD,MAAM,cAAc,WAAW,GAAG,CAAC,CAAC,IAAM,EAAE,EAAE;IAE9C,qBACE,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,yEACA,SAAS,gCAAgC;kBAG3C,cAAA,8OAAC,sLAAe;YAAC,OAAO;YAAa,UAAU,kMAA2B;sBACxE,cAAA,8OAAC;gBAAI,WAAU;0BACZ,WAAW,MAAM,KAAK,kBACrB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;sCAAE;;;;;;wBACF,iCACC,8OAAC,4IAAM;4BACL,SAAQ;4BACR,MAAK;4BACL,SAAS,IAAM,QAAQ,OAAO;4BAC9B,WAAU;;8CAEV,8OAAC,yNAAS;oCAAC,WAAU;;;;;;gCAAY;;;;;;;;;;;;6EAMvC;;wBACG,WAAW,GAAG,CAAC,CAAC,0BACnB,8OAAC,wKAAkB;gCAEjB,WAAW;gCACX,UAAU;gCACV,gBAAgB;gCAChB,UAAU;gCACV,aAAa;gCACb,iBAAiB,WAAW,MAAM;gCAClC,kBAAkB;+BAPb,UAAU,EAAE;;;;;wBAUhB,iCACC,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,4IAAM;gCACL,SAAQ;gCACR,MAAK;gCACL,SAAS,IAAM,QAAQ,OAAO;gCAC9B,WAAU;;kDAEV,8OAAC,yNAAS;wCAAC,WAAU;;;;;;oCAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWrD"}},
    {"offset": {"line": 8653, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/RowContextMenu.tsx"],"sourcesContent":["import { ReactNode } from \"react\";\r\nimport {\r\n  ContextMenu,\r\n  ContextMenuContent,\r\n  ContextMenuItem,\r\n  ContextMenuSeparator,\r\n  ContextMenuTrigger,\r\n} from \"@/components/ui/context-menu\";\r\nimport { Plus, Copy, Trash2, Settings } from \"lucide-react\";\r\n\r\ninterface RowContextMenuProps {\r\n  children: ReactNode;\r\n  rowId: string;\r\n  onAddRowAbove: () => void;\r\n  onAddRowBelow: () => void;\r\n  onDuplicateRow: () => void;\r\n  onDeleteRow: () => void;\r\n  onToggleProperties: () => void;\r\n}\r\n\r\nexport const RowContextMenu = ({\r\n  children,\r\n  rowId,\r\n  onAddRowAbove,\r\n  onAddRowBelow,\r\n  onDuplicateRow,\r\n  onDeleteRow,\r\n  onToggleProperties,\r\n}: RowContextMenuProps) => {\r\n  return (\r\n    <ContextMenu>\r\n      <ContextMenuTrigger asChild>\r\n        {children}\r\n      </ContextMenuTrigger>\r\n      <ContextMenuContent className=\"w-56\">\r\n        <ContextMenuItem onClick={onAddRowAbove}>\r\n          <Plus className=\"mr-2 h-4 w-4\" />\r\n          <span>Add Row Above</span>\r\n        </ContextMenuItem>\r\n        \r\n        <ContextMenuItem onClick={onAddRowBelow}>\r\n          <Plus className=\"mr-2 h-4 w-4\" />\r\n          <span>Add Row Below</span>\r\n        </ContextMenuItem>\r\n        \r\n        <ContextMenuSeparator />\r\n        \r\n        <ContextMenuItem onClick={onDuplicateRow}>\r\n          <Copy className=\"mr-2 h-4 w-4\" />\r\n          <span>Duplicate Row</span>\r\n        </ContextMenuItem>\r\n        \r\n        <ContextMenuItem onClick={onToggleProperties}>\r\n          <Settings className=\"mr-2 h-4 w-4\" />\r\n          <span>Row Properties</span>\r\n        </ContextMenuItem>\r\n        \r\n        <ContextMenuSeparator />\r\n        \r\n        <ContextMenuItem onClick={onDeleteRow} className=\"text-destructive focus:text-destructive\">\r\n          <Trash2 className=\"mr-2 h-4 w-4\" />\r\n          <span>Delete Row</span>\r\n        </ContextMenuItem>\r\n      </ContextMenuContent>\r\n    </ContextMenu>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AAOA;AAAA;AAAA;AAAA;;;;AAYO,MAAM,iBAAiB,CAAC,EAC7B,QAAQ,EACR,KAAK,EACL,aAAa,EACb,aAAa,EACb,cAAc,EACd,WAAW,EACX,kBAAkB,EACE;IACpB,qBACE,8OAAC,0JAAW;;0BACV,8OAAC,iKAAkB;gBAAC,OAAO;0BACxB;;;;;;0BAEH,8OAAC,iKAAkB;gBAAC,WAAU;;kCAC5B,8OAAC,8JAAe;wBAAC,SAAS;;0CACxB,8OAAC,0MAAI;gCAAC,WAAU;;;;;;0CAChB,8OAAC;0CAAK;;;;;;;;;;;;kCAGR,8OAAC,8JAAe;wBAAC,SAAS;;0CACxB,8OAAC,0MAAI;gCAAC,WAAU;;;;;;0CAChB,8OAAC;0CAAK;;;;;;;;;;;;kCAGR,8OAAC,mKAAoB;;;;;kCAErB,8OAAC,8JAAe;wBAAC,SAAS;;0CACxB,8OAAC,0MAAI;gCAAC,WAAU;;;;;;0CAChB,8OAAC;0CAAK;;;;;;;;;;;;kCAGR,8OAAC,8JAAe;wBAAC,SAAS;;0CACxB,8OAAC,sNAAQ;gCAAC,WAAU;;;;;;0CACpB,8OAAC;0CAAK;;;;;;;;;;;;kCAGR,8OAAC,mKAAoB;;;;;kCAErB,8OAAC,8JAAe;wBAAC,SAAS;wBAAa,WAAU;;0CAC/C,8OAAC,oNAAM;gCAAC,WAAU;;;;;;0CAClB,8OAAC;0CAAK;;;;;;;;;;;;;;;;;;;;;;;;AAKhB"}},
    {"offset": {"line": 8823, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/ColumnDivider.tsx"],"sourcesContent":["import { useState, useRef, useEffect } from \"react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface ColumnDividerProps {\r\n  onDrag: (deltaX: number) => void;\r\n  showGuides?: boolean;\r\n}\r\n\r\nconst SNAP_POINTS = [25, 33.33, 50, 66.67, 75];\r\n\r\nexport function ColumnDivider({ onDrag, showGuides = false }: ColumnDividerProps) {\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const startXRef = useRef<number>(0);\r\n\r\n  useEffect(() => {\r\n    if (!isDragging) return;\r\n\r\n    const handleMouseMove = (e: MouseEvent) => {\r\n      const deltaX = e.clientX - startXRef.current;\r\n      onDrag(deltaX);\r\n      startXRef.current = e.clientX;\r\n    };\r\n\r\n    const handleMouseUp = () => {\r\n      setIsDragging(false);\r\n      // Notify parent that dragging ended\r\n      document.dispatchEvent(new Event('columnDividerDragEnd'));\r\n    };\r\n\r\n    document.addEventListener(\"mousemove\", handleMouseMove);\r\n    document.addEventListener(\"mouseup\", handleMouseUp);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"mousemove\", handleMouseMove);\r\n      document.removeEventListener(\"mouseup\", handleMouseUp);\r\n    };\r\n  }, [isDragging, onDrag]);\r\n\r\n  const handleMouseDown = (e: React.MouseEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    setIsDragging(true);\r\n    startXRef.current = e.clientX;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {(isDragging || showGuides) && (\r\n        <div className=\"absolute inset-0 pointer-events-none z-10\">\r\n          {SNAP_POINTS.map((point) => (\r\n            <div\r\n              key={point}\r\n              className=\"absolute top-0 bottom-0 w-px bg-primary/30 border-l-2 border-dashed border-primary/50\"\r\n              style={{ left: `${point}%` }}\r\n            >\r\n              <div className=\"absolute -top-6 left-1/2 -translate-x-1/2 bg-primary text-primary-foreground text-xs px-2 py-0.5 rounded whitespace-nowrap\">\r\n                {Math.round(point)}%\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n      <div\r\n        className={cn(\r\n          \"relative w-1 cursor-col-resize group hover:bg-primary/20 transition-colors flex items-center justify-center z-20\",\r\n          isDragging && \"bg-primary/30\"\r\n        )}\r\n        onMouseDown={handleMouseDown}\r\n      >\r\n        <div className=\"absolute inset-y-0 -left-1 -right-1\" />\r\n        <div\r\n          className={cn(\r\n            \"w-1 h-12 rounded-full bg-border group-hover:bg-primary transition-colors\",\r\n            isDragging && \"bg-primary\"\r\n          )}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAOA,MAAM,cAAc;IAAC;IAAI;IAAO;IAAI;IAAO;CAAG;AAEvC,SAAS,cAAc,EAAE,MAAM,EAAE,aAAa,KAAK,EAAsB;IAC9E,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,YAAY,IAAA,+MAAM,EAAS;IAEjC,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,YAAY;QAEjB,MAAM,kBAAkB,CAAC;YACvB,MAAM,SAAS,EAAE,OAAO,GAAG,UAAU,OAAO;YAC5C,OAAO;YACP,UAAU,OAAO,GAAG,EAAE,OAAO;QAC/B;QAEA,MAAM,gBAAgB;YACpB,cAAc;YACd,oCAAoC;YACpC,SAAS,aAAa,CAAC,IAAI,MAAM;QACnC;QAEA,SAAS,gBAAgB,CAAC,aAAa;QACvC,SAAS,gBAAgB,CAAC,WAAW;QAErC,OAAO;YACL,SAAS,mBAAmB,CAAC,aAAa;YAC1C,SAAS,mBAAmB,CAAC,WAAW;QAC1C;IACF,GAAG;QAAC;QAAY;KAAO;IAEvB,MAAM,kBAAkB,CAAC;QACvB,EAAE,cAAc;QAChB,EAAE,eAAe;QACjB,cAAc;QACd,UAAU,OAAO,GAAG,EAAE,OAAO;IAC/B;IAEA,qBACE;;YACG,CAAC,cAAc,UAAU,mBACxB,8OAAC;gBAAI,WAAU;0BACZ,YAAY,GAAG,CAAC,CAAC,sBAChB,8OAAC;wBAEC,WAAU;wBACV,OAAO;4BAAE,MAAM,GAAG,MAAM,CAAC,CAAC;wBAAC;kCAE3B,cAAA,8OAAC;4BAAI,WAAU;;gCACZ,KAAK,KAAK,CAAC;gCAAO;;;;;;;uBALhB;;;;;;;;;;0BAWb,8OAAC;gBACC,WAAW,IAAA,yHAAE,EACX,oHACA,cAAc;gBAEhB,aAAa;;kCAEb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBACC,WAAW,IAAA,yHAAE,EACX,4EACA,cAAc;;;;;;;;;;;;;;AAM1B"}},
    {"offset": {"line": 8932, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/SortableRow.tsx"],"sourcesContent":["import { useSortable } from \"@dnd-kit/sortable\";\r\nimport { CSS } from \"@dnd-kit/utilities\";\r\nimport { Tables } from \"@/integrations/supabase/types\";\r\nimport { Card } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Trash2, Columns, GripVertical, Settings } from \"lucide-react\";\r\nimport { DroppableColumn } from \"./DroppableColumn\";\r\nimport { RowPropertiesPanel } from \"./RowPropertiesPanel\";\r\nimport { RowContextMenu } from \"./RowContextMenu\";\r\nimport { ColumnDivider } from \"./ColumnDivider\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { useState, useRef, useEffect, Fragment } from \"react\";\r\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from \"@/components/ui/collapsible\";\r\n\r\ntype Row = Tables<\"page_rows\"> | Tables<\"widget_rows\"> | Tables<\"layout_rows\">;\r\ntype Component = Tables<\"page_components\"> | Tables<\"widget_components\"> | Tables<\"layout_components\">;\r\n\r\ninterface SortableRowProps {\r\n  row: Row;\r\n  components: Component[];\r\n  onUpdate: (id: string, content: any) => void;\r\n  onDelete: (id: string) => void;\r\n  onDeleteRow: (rowId: string) => void;\r\n  onUpdateRowColumns: (rowId: string, columns: number) => void;\r\n  onUpdateRowStyles: (rowId: string, styles: any) => void;\r\n  onUpdateRowColumnWidths?: (rowId: string, widths: number[]) => void;\r\n  onUpdateRowResponsiveConfig?: (rowId: string, config: any) => void;\r\n  onUpdateStyles: (id: string, styles: any) => void;\r\n  onDuplicate: (id: string) => void;\r\n  onPaste: (rowId: string, columnIndex: number) => void;\r\n  onMoveToPosition: (id: string, position: number) => void;\r\n  onAddRowAbove?: (rowId: string) => void;\r\n  onAddRowBelow?: (rowId: string) => void;\r\n  onDuplicateRow?: (rowId: string) => void;\r\n}\r\n\r\nexport const SortableRow = ({\r\n  row,\r\n  components,\r\n  onUpdate,\r\n  onDelete,\r\n  onDeleteRow,\r\n  onUpdateRowColumns,\r\n  onUpdateRowStyles,\r\n  onUpdateRowColumnWidths,\r\n  onUpdateRowResponsiveConfig,\r\n  onUpdateStyles,\r\n  onDuplicate,\r\n  onPaste,\r\n  onMoveToPosition,\r\n  onAddRowAbove,\r\n  onAddRowBelow,\r\n  onDuplicateRow,\r\n}: SortableRowProps) => {\r\n  const [showProperties, setShowProperties] = useState(false);\r\n  const [isDraggingDivider, setIsDraggingDivider] = useState(false);\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n  const [localColumnWidths, setLocalColumnWidths] = useState<number[]>(\r\n    (row as any).column_widths?.length === row.columns\r\n      ? (row as any).column_widths\r\n      : Array(row.columns).fill(100 / row.columns)\r\n  );\r\n\r\n  const SNAP_THRESHOLD = 3; // Snap within 3% of target\r\n  const SNAP_POINTS = [25, 33.33, 50, 66.67, 75];\r\n\r\n  const snapToNearestPoint = (value: number): number => {\r\n    for (const snapPoint of SNAP_POINTS) {\r\n      if (Math.abs(value - snapPoint) <= SNAP_THRESHOLD) {\r\n        return snapPoint;\r\n      }\r\n    }\r\n    return value;\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleDragEnd = () => {\r\n      setIsDraggingDivider(false);\r\n    };\r\n\r\n    document.addEventListener('columnDividerDragEnd', handleDragEnd);\r\n    return () => {\r\n      document.removeEventListener('columnDividerDragEnd', handleDragEnd);\r\n    };\r\n  }, []);\r\n  const {\r\n    attributes,\r\n    listeners,\r\n    setNodeRef,\r\n    transform,\r\n    transition,\r\n    isDragging,\r\n  } = useSortable({\r\n    id: row.id,\r\n    data: { type: \"row\", row },\r\n  });\r\n\r\n  const style = {\r\n    transform: CSS.Transform.toString(transform),\r\n    transition,\r\n    opacity: isDragging ? 0.5 : 1,\r\n  };\r\n\r\n  const rowStyles = (row as any).styles || {};\r\n  const responsiveConfig = (row as any).responsive_config || {};\r\n  const rowStyleString = {\r\n    backgroundColor: rowStyles.backgroundColor,\r\n    backgroundImage: rowStyles.backgroundImage ? `url(${rowStyles.backgroundImage})` : undefined,\r\n    backgroundSize: 'cover',\r\n    backgroundPosition: 'center',\r\n    paddingTop: rowStyles.paddingTop,\r\n    paddingBottom: rowStyles.paddingBottom,\r\n    paddingLeft: rowStyles.paddingLeft,\r\n    paddingRight: rowStyles.paddingRight,\r\n    borderRadius: rowStyles.borderRadius,\r\n    boxShadow: rowStyles.boxShadow,\r\n  };\r\n\r\n  const getColumnComponents = (columnIndex: number) => {\r\n    return components\r\n      .filter((c) => c.row_id === row.id && c.column_index === columnIndex)\r\n      .sort((a, b) => a.position - b.position);\r\n  };\r\n\r\n  // Get column widths from row data or use equal widths\r\n  const columnWidths = localColumnWidths;\r\n  const hasCustomWidths = columnWidths.length === row.columns;\r\n  const stackOnMobile = responsiveConfig.mobile?.stackColumns || false;\r\n\r\n  const getColumnStyle = (index: number) => {\r\n    if (hasCustomWidths) {\r\n      return { width: `${columnWidths[index]}%` };\r\n    }\r\n    return { flex: 1 };\r\n  };\r\n\r\n  const getContainerClassName = () => {\r\n    let className = \"flex gap-4\";\r\n    if (stackOnMobile) {\r\n      className += \" flex-col md:flex-row\";\r\n    }\r\n    return className;\r\n  };\r\n\r\n  const handleDividerDrag = (columnIndex: number, deltaX: number) => {\r\n    if (!containerRef.current) return;\r\n\r\n    setIsDraggingDivider(true);\r\n\r\n    const containerWidth = containerRef.current.offsetWidth;\r\n    const deltaPercent = (deltaX / containerWidth) * 100;\r\n\r\n    const newWidths = [...localColumnWidths];\r\n\r\n    // Adjust current column and next column\r\n    let newCurrentWidth = Math.max(5, Math.min(95, newWidths[columnIndex] + deltaPercent));\r\n    let newNextWidth = Math.max(5, Math.min(95, newWidths[columnIndex + 1] - deltaPercent));\r\n\r\n    // Apply snapping to current column\r\n    const snappedCurrentWidth = snapToNearestPoint(newCurrentWidth);\r\n    if (snappedCurrentWidth !== newCurrentWidth) {\r\n      // Adjust the next column to compensate for snapping\r\n      const snapDelta = snappedCurrentWidth - newCurrentWidth;\r\n      newCurrentWidth = snappedCurrentWidth;\r\n      newNextWidth = Math.max(5, Math.min(95, newNextWidth - snapDelta));\r\n    }\r\n\r\n    // Only update if both columns are within valid range\r\n    if (newCurrentWidth >= 5 && newCurrentWidth <= 95 && newNextWidth >= 5 && newNextWidth <= 95) {\r\n      newWidths[columnIndex] = newCurrentWidth;\r\n      newWidths[columnIndex + 1] = newNextWidth;\r\n\r\n      setLocalColumnWidths(newWidths);\r\n      onUpdateRowColumnWidths?.(row.id, newWidths);\r\n    }\r\n  };\r\n\r\n  const handleDividerDragEnd = () => {\r\n    setIsDraggingDivider(false);\r\n  };\r\n\r\n  return (\r\n    <RowContextMenu\r\n      rowId={row.id}\r\n      onAddRowAbove={() => onAddRowAbove?.(row.id)}\r\n      onAddRowBelow={() => onAddRowBelow?.(row.id)}\r\n      onDuplicateRow={() => onDuplicateRow?.(row.id)}\r\n      onDeleteRow={() => onDeleteRow(row.id)}\r\n      onToggleProperties={() => setShowProperties(!showProperties)}\r\n    >\r\n      <div ref={setNodeRef} style={style}>\r\n        <Card className=\"p-6 space-y-4\" style={rowStyleString}>\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div\r\n                {...attributes}\r\n                {...listeners}\r\n                className=\"cursor-grab active:cursor-grabbing\"\r\n              >\r\n                <GripVertical className=\"h-5 w-5 text-muted-foreground\" />\r\n              </div>\r\n              <Columns className=\"h-5 w-5 text-primary\" />\r\n              <Select\r\n                value={row.columns.toString()}\r\n                onValueChange={(val) => onUpdateRowColumns(row.id, parseInt(val))}\r\n              >\r\n                <SelectTrigger className=\"w-32\">\r\n                  <SelectValue />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"1\">1 Column</SelectItem>\r\n                  <SelectItem value=\"2\">2 Columns</SelectItem>\r\n                  <SelectItem value=\"3\">3 Columns</SelectItem>\r\n                  <SelectItem value=\"4\">4 Columns</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={() => setShowProperties(!showProperties)}\r\n                className=\"gap-2\"\r\n              >\r\n                <Settings className=\"h-4 w-4\" />\r\n                {showProperties ? 'Hide' : 'Show'} Styles\r\n              </Button>\r\n              <Button variant=\"destructive\" size=\"sm\" onClick={() => onDeleteRow(row.id)} className=\"gap-2\">\r\n                <Trash2 className=\"h-4 w-4\" />\r\n                Delete Row\r\n              </Button>\r\n            </div>\r\n          </div>\r\n\r\n          <Collapsible open={showProperties}>\r\n            <CollapsibleContent>\r\n              <RowPropertiesPanel\r\n                rowId={row.id}\r\n                columns={row.columns}\r\n                styles={rowStyles}\r\n                columnWidths={columnWidths}\r\n                responsiveConfig={responsiveConfig}\r\n                onUpdate={(styles) => onUpdateRowStyles(row.id, styles)}\r\n                onUpdateColumnWidths={(widths) => onUpdateRowColumnWidths?.(row.id, widths)}\r\n                onUpdateResponsiveConfig={(config) => onUpdateRowResponsiveConfig?.(row.id, config)}\r\n              />\r\n            </CollapsibleContent>\r\n          </Collapsible>\r\n\r\n\r\n          <div ref={containerRef} className={cn(getContainerClassName(), \"relative\")}>\r\n            {Array.from({ length: row.columns }, (_, i) => (\r\n              <Fragment key={i}>\r\n                <div\r\n                  key={i}\r\n                  style={getColumnStyle(i)}\r\n                  className={stackOnMobile ? \"w-full md:w-auto\" : \"\"}\r\n                >\r\n                  <DroppableColumn\r\n                    rowId={row.id}\r\n                    columnIndex={i}\r\n                    components={getColumnComponents(i)}\r\n                    onUpdate={onUpdate}\r\n                    onUpdateStyles={onUpdateStyles}\r\n                    onDelete={onDelete}\r\n                    onDuplicate={onDuplicate}\r\n                    onPaste={onPaste}\r\n                    onMoveToPosition={onMoveToPosition}\r\n                  />\r\n                </div>\r\n                {i < row.columns - 1 && !stackOnMobile && (\r\n                  <ColumnDivider\r\n                    key={`divider-${i}`}\r\n                    onDrag={(deltaX) => handleDividerDrag(i, deltaX)}\r\n                    showGuides={isDraggingDivider}\r\n                  />\r\n                )}\r\n              </Fragment>\r\n            ))}\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    </RowContextMenu>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 9341, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/SectionTemplatesDialog.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\r\nimport { Plus, Sparkles, DollarSign, MessageSquare, Grid3x3 } from \"lucide-react\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { toast } from \"sonner\";\r\n\r\ninterface SectionTemplatesDialogProps {\r\n  onInsertTemplate: (templateData: any) => void;\r\n}\r\n\r\nconst categoryIcons = {\r\n  hero: Sparkles,\r\n  pricing: DollarSign,\r\n  testimonials: MessageSquare,\r\n  features: Grid3x3,\r\n};\r\n\r\nexport const SectionTemplatesDialog = ({ onInsertTemplate }: SectionTemplatesDialogProps) => {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const { data: templates, isLoading } = useQuery({\r\n    queryKey: [\"section-templates\"],\r\n    queryFn: async () => {\r\n      const { data, error } = await supabase\r\n        .from(\"section_templates\")\r\n        .select(\"*\")\r\n        .eq(\"is_public\", true)\r\n        .order(\"category\", { ascending: true });\r\n\r\n      if (error) throw error;\r\n      return data;\r\n    },\r\n  });\r\n\r\n  const categories = templates\r\n    ? Array.from(new Set(templates.map((t) => t.category)))\r\n    : [];\r\n\r\n  const handleInsertTemplate = (templateData: any) => {\r\n    onInsertTemplate(templateData);\r\n    setOpen(false);\r\n    toast.success(\"Section template inserted\");\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={setOpen}>\r\n      <DialogTrigger asChild>\r\n        <Button variant=\"outline\" className=\"gap-2\">\r\n          <Plus className=\"h-4 w-4\" />\r\n          Insert Section Template\r\n        </Button>\r\n      </DialogTrigger>\r\n      <DialogContent className=\"max-w-4xl max-h-[80vh]\">\r\n        <DialogHeader>\r\n          <DialogTitle>Section Templates</DialogTitle>\r\n        </DialogHeader>\r\n        \r\n        {isLoading ? (\r\n          <div className=\"text-center py-8 text-muted-foreground\">Loading templates...</div>\r\n        ) : categories.length === 0 ? (\r\n          <div className=\"text-center py-8 text-muted-foreground\">No templates available</div>\r\n        ) : (\r\n          <Tabs defaultValue={categories[0]} className=\"w-full\">\r\n            <TabsList className=\"w-full justify-start\">\r\n              {categories.map((category) => {\r\n                const Icon = categoryIcons[category as keyof typeof categoryIcons];\r\n                return (\r\n                  <TabsTrigger key={category} value={category} className=\"gap-2 capitalize\">\r\n                    {Icon && <Icon className=\"h-4 w-4\" />}\r\n                    {category}\r\n                  </TabsTrigger>\r\n                );\r\n              })}\r\n            </TabsList>\r\n\r\n            {categories.map((category) => (\r\n              <TabsContent key={category} value={category}>\r\n                <ScrollArea className=\"h-[50vh]\">\r\n                  <div className=\"grid grid-cols-2 gap-4 p-1\">\r\n                    {templates\r\n                      ?.filter((t) => t.category === category)\r\n                      .map((template) => (\r\n                        <Card key={template.id} className=\"cursor-pointer hover:border-primary transition-colors\">\r\n                          <CardHeader>\r\n                            <CardTitle className=\"text-lg\">{template.name}</CardTitle>\r\n                            {template.description && (\r\n                              <CardDescription>{template.description}</CardDescription>\r\n                            )}\r\n                          </CardHeader>\r\n                          <CardContent>\r\n                            <Button\r\n                              onClick={() => handleInsertTemplate(template.template_data)}\r\n                              className=\"w-full gap-2\"\r\n                            >\r\n                              <Plus className=\"h-4 w-4\" />\r\n                              Insert Section\r\n                            </Button>\r\n                          </CardContent>\r\n                        </Card>\r\n                      ))}\r\n                  </div>\r\n                </ScrollArea>\r\n              </TabsContent>\r\n            ))}\r\n          </Tabs>\r\n        )}\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;AAMA,MAAM,gBAAgB;IACpB,MAAM,sNAAQ;IACd,SAAS,gOAAU;IACnB,cAAc,yOAAa;IAC3B,UAAU,uNAAO;AACnB;AAEO,MAAM,yBAAyB,CAAC,EAAE,gBAAgB,EAA+B;IACtF,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IAEjC,MAAM,EAAE,MAAM,SAAS,EAAE,SAAS,EAAE,GAAG,IAAA,uLAAQ,EAAC;QAC9C,UAAU;YAAC;SAAoB;QAC/B,SAAS;YACP,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,qJAAQ,CACnC,IAAI,CAAC,qBACL,MAAM,CAAC,KACP,EAAE,CAAC,aAAa,MAChB,KAAK,CAAC,YAAY;gBAAE,WAAW;YAAK;YAEvC,IAAI,OAAO,MAAM;YACjB,OAAO;QACT;IACF;IAEA,MAAM,aAAa,YACf,MAAM,IAAI,CAAC,IAAI,IAAI,UAAU,GAAG,CAAC,CAAC,IAAM,EAAE,QAAQ,MAClD,EAAE;IAEN,MAAM,uBAAuB,CAAC;QAC5B,iBAAiB;QACjB,QAAQ;QACR,iJAAK,CAAC,OAAO,CAAC;IAChB;IAEA,qBACE,8OAAC,4IAAM;QAAC,MAAM;QAAM,cAAc;;0BAChC,8OAAC,mJAAa;gBAAC,OAAO;0BACpB,cAAA,8OAAC,4IAAM;oBAAC,SAAQ;oBAAU,WAAU;;sCAClC,8OAAC,0MAAI;4BAAC,WAAU;;;;;;wBAAY;;;;;;;;;;;;0BAIhC,8OAAC,mJAAa;gBAAC,WAAU;;kCACvB,8OAAC,kJAAY;kCACX,cAAA,8OAAC,iJAAW;sCAAC;;;;;;;;;;;oBAGd,0BACC,8OAAC;wBAAI,WAAU;kCAAyC;;;;;mEACtD,WAAW,MAAM,KAAK,kBACxB,8OAAC;wBAAI,WAAU;kCAAyC;;;;;iFAExD,8OAAC,wIAAI;wBAAC,cAAc,UAAU,CAAC,EAAE;wBAAE,WAAU;;0CAC3C,8OAAC,4IAAQ;gCAAC,WAAU;0CACjB,WAAW,GAAG,CAAC,CAAC;oCACf,MAAM,OAAO,aAAa,CAAC,SAAuC;oCAClE,qBACE,8OAAC,+IAAW;wCAAgB,OAAO;wCAAU,WAAU;;4CACpD,sBAAQ,8OAAC;gDAAK,WAAU;;;;;;4CACxB;;uCAFe;;;;;gCAKtB;;;;;;4BAGD,WAAW,GAAG,CAAC,CAAC,yBACf,8OAAC,+IAAW;oCAAgB,OAAO;8CACjC,cAAA,8OAAC,wJAAU;wCAAC,WAAU;kDACpB,cAAA,8OAAC;4CAAI,WAAU;sDACZ,WACG,OAAO,CAAC,IAAM,EAAE,QAAQ,KAAK,UAC9B,IAAI,CAAC,yBACJ,8OAAC,wIAAI;oDAAmB,WAAU;;sEAChC,8OAAC,8IAAU;;8EACT,8OAAC,6IAAS;oEAAC,WAAU;8EAAW,SAAS,IAAI;;;;;;gEAC5C,SAAS,WAAW,kBACnB,8OAAC,mJAAe;8EAAE,SAAS,WAAW;;;;;;;;;;;;sEAG1C,8OAAC,+IAAW;sEACV,cAAA,8OAAC,4IAAM;gEACL,SAAS,IAAM,qBAAqB,SAAS,aAAa;gEAC1D,WAAU;;kFAEV,8OAAC,0MAAI;wEAAC,WAAU;;;;;;oEAAY;;;;;;;;;;;;;mDAZvB,SAAS,EAAE;;;;;;;;;;;;;;;mCANd;;;;;;;;;;;;;;;;;;;;;;;AAiChC"}},
    {"offset": {"line": 9588, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/GridCanvas.tsx"],"sourcesContent":["import { DragOverlay } from \"@dnd-kit/core\";\r\nimport { SortableContext, verticalListSortingStrategy } from \"@dnd-kit/sortable\";\r\nimport { Tables } from \"@/integrations/supabase/types\";\r\nimport { SortableRow } from \"./SortableRow\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Plus } from \"lucide-react\";\r\nimport { useState } from \"react\";\r\nimport { Card } from \"@/components/ui/card\";\r\nimport { SectionTemplatesDialog } from \"./SectionTemplatesDialog\";\r\n\r\ntype Row = Tables<\"page_rows\"> | Tables<\"widget_rows\"> | Tables<\"layout_rows\">;\r\ntype Component = Tables<\"page_components\"> | Tables<\"widget_components\"> | Tables<\"layout_components\">;\r\n\r\ninterface GridCanvasProps {\r\n  rows: Row[];\r\n  components: Component[];\r\n  onUpdateComponent: (id: string, content: any) => void;\r\n  onUpdateComponentStyles: (id: string, styles: any) => void;\r\n  onDeleteComponent: (id: string) => void;\r\n  onAddRow: () => void;\r\n  onDeleteRow: (rowId: string) => void;\r\n  onUpdateRowColumns: (rowId: string, columns: number) => void;\r\n  onUpdateRowStyles: (rowId: string, styles: any) => void;\r\n  onUpdateRowColumnWidths?: (rowId: string, widths: number[]) => void;\r\n  onUpdateRowResponsiveConfig?: (rowId: string, config: any) => void;\r\n  onReorderRows: (rows: any[]) => void;\r\n  activeComponentType: string | null;\r\n  onDuplicateComponent: (id: string) => void;\r\n  onPasteComponent: (rowId: string, columnIndex: number) => void;\r\n  onInsertTemplate?: (templateData: any) => void;\r\n  onMoveComponentToPosition: (id: string, position: number) => void;\r\n  onAddRowAbove?: (rowId: string) => void;\r\n  onAddRowBelow?: (rowId: string) => void;\r\n  onDuplicateRow?: (rowId: string) => void;\r\n}\r\n\r\nexport const GridCanvas = ({\r\n  rows,\r\n  components,\r\n  onUpdateComponent,\r\n  onUpdateComponentStyles,\r\n  onDeleteComponent,\r\n  onAddRow,\r\n  onDeleteRow,\r\n  onUpdateRowColumns,\r\n  onUpdateRowStyles,\r\n  onUpdateRowColumnWidths,\r\n  onUpdateRowResponsiveConfig,\r\n  onReorderRows,\r\n  activeComponentType,\r\n  onDuplicateComponent,\r\n  onPasteComponent,\r\n  onInsertTemplate,\r\n  onMoveComponentToPosition,\r\n  onAddRowAbove,\r\n  onAddRowBelow,\r\n  onDuplicateRow,\r\n}: GridCanvasProps) => {\r\n  const [activeId, setActiveId] = useState<string | null>(null);\r\n\r\n  if (rows.length === 0) {\r\n    return (\r\n      <div className=\"text-center py-20 border-2 border-dashed border-muted-foreground/25 rounded-lg\">\r\n        <p className=\"text-muted-foreground mb-4\">Your page is empty. Add a row to get started.</p>\r\n        <Button onClick={onAddRow} className=\"gap-2\">\r\n          <Plus className=\"h-4 w-4\" />\r\n          Add First Row\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <SortableContext items={rows.map((r) => r.id)} strategy={verticalListSortingStrategy}>\r\n        <div className=\"space-y-6 max-w-7xl mx-auto\">\r\n          {rows.map((row) => (\r\n            <SortableRow\r\n              key={row.id}\r\n              row={row}\r\n              components={components}\r\n              onUpdate={onUpdateComponent}\r\n              onDelete={onDeleteComponent}\r\n              onDeleteRow={onDeleteRow}\r\n              onUpdateRowColumns={onUpdateRowColumns}\r\n              onUpdateRowStyles={onUpdateRowStyles}\r\n              onUpdateRowColumnWidths={onUpdateRowColumnWidths}\r\n              onUpdateRowResponsiveConfig={onUpdateRowResponsiveConfig}\r\n              onDuplicate={onDuplicateComponent}\r\n              onPaste={onPasteComponent}\r\n              onUpdateStyles={onUpdateComponentStyles}\r\n              onMoveToPosition={onMoveComponentToPosition}\r\n              onAddRowAbove={onAddRowAbove}\r\n              onAddRowBelow={onAddRowBelow}\r\n              onDuplicateRow={onDuplicateRow}\r\n            />\r\n          ))}\r\n          <div className=\"flex justify-center gap-2\">\r\n            {onInsertTemplate && (\r\n              <SectionTemplatesDialog onInsertTemplate={onInsertTemplate} />\r\n            )}\r\n            <Button onClick={onAddRow} variant=\"outline\" className=\"gap-2\">\r\n              <Plus className=\"h-4 w-4\" />\r\n              Add Row\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </SortableContext>\r\n\r\n      <DragOverlay>\r\n        {activeComponentType ? (\r\n          <Card className=\"p-4 opacity-80 shadow-2xl\">\r\n            <div className=\"text-center text-muted-foreground\">Adding {activeComponentType}...</div>\r\n          </Card>\r\n        ) : null}\r\n      </DragOverlay>\r\n    </>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AA4BO,MAAM,aAAa,CAAC,EACzB,IAAI,EACJ,UAAU,EACV,iBAAiB,EACjB,uBAAuB,EACvB,iBAAiB,EACjB,QAAQ,EACR,WAAW,EACX,kBAAkB,EAClB,iBAAiB,EACjB,uBAAuB,EACvB,2BAA2B,EAC3B,aAAa,EACb,mBAAmB,EACnB,oBAAoB,EACpB,gBAAgB,EAChB,gBAAgB,EAChB,yBAAyB,EACzB,aAAa,EACb,aAAa,EACb,cAAc,EACE;IAChB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAgB;IAExD,IAAI,KAAK,MAAM,KAAK,GAAG;QACrB,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAE,WAAU;8BAA6B;;;;;;8BAC1C,8OAAC,4IAAM;oBAAC,SAAS;oBAAU,WAAU;;sCACnC,8OAAC,0MAAI;4BAAC,WAAU;;;;;;wBAAY;;;;;;;;;;;;;IAKpC;IAEA,qBACE;;0BACE,8OAAC,sLAAe;gBAAC,OAAO,KAAK,GAAG,CAAC,CAAC,IAAM,EAAE,EAAE;gBAAG,UAAU,kMAA2B;0BAClF,cAAA,8OAAC;oBAAI,WAAU;;wBACZ,KAAK,GAAG,CAAC,CAAC,oBACT,8OAAC,0JAAW;gCAEV,KAAK;gCACL,YAAY;gCACZ,UAAU;gCACV,UAAU;gCACV,aAAa;gCACb,oBAAoB;gCACpB,mBAAmB;gCACnB,yBAAyB;gCACzB,6BAA6B;gCAC7B,aAAa;gCACb,SAAS;gCACT,gBAAgB;gCAChB,kBAAkB;gCAClB,eAAe;gCACf,eAAe;gCACf,gBAAgB;+BAhBX,IAAI,EAAE;;;;;sCAmBf,8OAAC;4BAAI,WAAU;;gCACZ,kCACC,8OAAC,gLAAsB;oCAAC,kBAAkB;;;;;;8CAE5C,8OAAC,4IAAM;oCAAC,SAAS;oCAAU,SAAQ;oCAAU,WAAU;;sDACrD,8OAAC,0MAAI;4CAAC,WAAU;;;;;;wCAAY;;;;;;;;;;;;;;;;;;;;;;;;0BAOpC,8OAAC,0KAAW;0BACT,oCACC,8OAAC,wIAAI;oBAAC,WAAU;8BACd,cAAA,8OAAC;wBAAI,WAAU;;4BAAoC;4BAAQ;4BAAoB;;;;;;;;;;;+DAE/E;;;;;;;;AAIZ"}}]
}