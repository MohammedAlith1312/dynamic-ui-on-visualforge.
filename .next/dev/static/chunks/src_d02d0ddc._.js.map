{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/integrations/supabase/client.ts"],"sourcesContent":["// This file is automatically generated. Do not edit it directly.\r\nimport { createClient } from '@supabase/supabase-js';\r\nimport type { Database } from './types';\r\n\r\nconst SUPABASE_URL = process.env.NEXT_PUBLIC_SUPABASE_URL || '';\r\nconst SUPABASE_PUBLISHABLE_KEY = process.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY || '';\r\n\r\n// SSR-safe storage check\r\nconst isBrowser = typeof window !== 'undefined';\r\n\r\nexport const supabase = createClient<Database>(SUPABASE_URL, SUPABASE_PUBLISHABLE_KEY, {\r\n  auth: {\r\n    storage: isBrowser ? window.localStorage : undefined,\r\n    persistSession: true,\r\n    autoRefreshToken: true,\r\n  }\r\n});"],"names":[],"mappings":";;;;AAIqB;AAJrB,iEAAiE;AACjE;;AAGA,MAAM,eAAe,gFAAwC;AAC7D,MAAM,2BAA2B,wPAAoD;AAErF,yBAAyB;AACzB,MAAM,YAAY,+CAAkB;AAE7B,MAAM,WAAW,IAAA,0MAAY,EAAW,cAAc,0BAA0B;IACrF,MAAM;QACJ,SAAS,uCAAY,OAAO,YAAY,GAAG;QAC3C,gBAAgB;QAChB,kBAAkB;IACpB;AACF"}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { Slot } from \"@radix-ui/react-slot\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\r\n        destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\r\n        outline: \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\r\n        secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-10 px-4 py-2\",\r\n        sm: \"h-9 rounded-md px-3\",\r\n        lg: \"h-11 rounded-md px-8\",\r\n        icon: \"h-10 w-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  },\r\n);\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n  asChild?: boolean;\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n    const Comp = asChild ? Slot : \"button\";\r\n    return <Comp className={cn(buttonVariants({ variant, size, className }))} ref={ref} {...props} />;\r\n  },\r\n);\r\nButton.displayName = \"Button\";\r\n\r\nexport { Button, buttonVariants };\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aAAa;YACb,SAAS;YACT,WAAW;YACX,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,2KAAgB,MAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAC9B,qBAAO,6LAAC;QAAK,WAAW,IAAA,4HAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QAAK,KAAK;QAAM,GAAG,KAAK;;;;;;AAC/F;;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst Card = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(({ className, ...props }, ref) => (\r\n  <div ref={ref} className={cn(\"rounded-lg border bg-card text-card-foreground shadow-sm\", className)} {...props} />\r\n));\r\nCard.displayName = \"Card\";\r\n\r\nconst CardHeader = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\r\n  ({ className, ...props }, ref) => (\r\n    <div ref={ref} className={cn(\"flex flex-col space-y-1.5 p-6\", className)} {...props} />\r\n  ),\r\n);\r\nCardHeader.displayName = \"CardHeader\";\r\n\r\nconst CardTitle = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLHeadingElement>>(\r\n  ({ className, ...props }, ref) => (\r\n    <h3 ref={ref} className={cn(\"text-2xl font-semibold leading-none tracking-tight\", className)} {...props} />\r\n  ),\r\n);\r\nCardTitle.displayName = \"CardTitle\";\r\n\r\nconst CardDescription = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\r\n  ({ className, ...props }, ref) => (\r\n    <p ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\r\n  ),\r\n);\r\nCardDescription.displayName = \"CardDescription\";\r\n\r\nconst CardContent = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\r\n  ({ className, ...props }, ref) => <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />,\r\n);\r\nCardContent.displayName = \"CardContent\";\r\n\r\nconst CardFooter = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\r\n  ({ className, ...props }, ref) => (\r\n    <div ref={ref} className={cn(\"flex items-center p-6 pt-0\", className)} {...props} />\r\n  ),\r\n);\r\nCardFooter.displayName = \"CardFooter\";\r\n\r\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAAuD,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC5G,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,4DAA4D;QAAa,GAAG,KAAK;;;;;;;AAEhH,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OACjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;;AAGvF,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAChC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QAAG,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,sDAAsD;QAAa,GAAG,KAAK;;;;;;;AAG3G,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OACtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QAAE,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;;AAGrF,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAClC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAAQ,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAElG,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,QACjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,8BAA8B;QAAa,GAAG,KAAK;;;;;;;AAGpF,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 204, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/ui/dialog.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\r\nimport { X } from \"lucide-react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst Dialog = DialogPrimitive.Root;\r\n\r\nconst DialogTrigger = DialogPrimitive.Trigger;\r\n\r\nconst DialogPortal = DialogPrimitive.Portal;\r\n\r\nconst DialogClose = DialogPrimitive.Close;\r\n\r\nconst DialogOverlay = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Overlay\r\n    ref={ref}\r\n    className={cn(\r\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\r\n      className,\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName;\r\n\r\nconst DialogContent = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content> & { hideClose?: boolean }\r\n>(({ className, children, hideClose, ...props }, ref) => (\r\n  <DialogPortal>\r\n    <DialogOverlay />\r\n    <DialogPrimitive.Content\r\n      ref={ref}\r\n      className={cn(\r\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      {!hideClose && (\r\n        <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none\">\r\n          <X className=\"h-4 w-4\" />\r\n          <span className=\"sr-only\">Close</span>\r\n        </DialogPrimitive.Close>\r\n      )}\r\n    </DialogPrimitive.Content>\r\n  </DialogPortal>\r\n));\r\nDialogContent.displayName = DialogPrimitive.Content.displayName;\r\n\r\nconst DialogHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div className={cn(\"flex flex-col space-y-1.5 text-center sm:text-left\", className)} {...props} />\r\n);\r\nDialogHeader.displayName = \"DialogHeader\";\r\n\r\nconst DialogFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div className={cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className)} {...props} />\r\n);\r\nDialogFooter.displayName = \"DialogFooter\";\r\n\r\nconst DialogTitle = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Title>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Title\r\n    ref={ref}\r\n    className={cn(\"text-lg font-semibold leading-none tracking-tight\", className)}\r\n    {...props}\r\n  />\r\n));\r\nDialogTitle.displayName = DialogPrimitive.Title.displayName;\r\n\r\nconst DialogDescription = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Description>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Description ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\r\n));\r\nDialogDescription.displayName = DialogPrimitive.Description.displayName;\r\n\r\nexport {\r\n  Dialog,\r\n  DialogPortal,\r\n  DialogOverlay,\r\n  DialogClose,\r\n  DialogTrigger,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogFooter,\r\n  DialogTitle,\r\n  DialogDescription,\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,SAAS,6KAAoB;AAEnC,MAAM,gBAAgB,gLAAuB;AAE7C,MAAM,eAAe,+KAAsB;AAE3C,MAAM,cAAc,8KAAqB;AAEzC,MAAM,8BAAgB,2KAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,gLAAuB;QACtB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,2KAAgB,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC/C,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,gLAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,4HAAE,EACX,4fACA;gBAED,GAAG,KAAK;;oBAER;oBACA,CAAC,2BACA,6LAAC,8KAAqB;wBAAC,WAAU;;0CAC/B,6LAAC,oMAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAMpC,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EAAE,SAAS,EAAE,GAAG,OAA6C,iBACjF,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,sDAAsD;QAAa,GAAG,KAAK;;;;;;MAD1F;AAGN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EAAE,SAAS,EAAE,GAAG,OAA6C,iBACjF,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,iEAAiE;QAAa,GAAG,KAAK;;;;;;MADrG;AAGN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,qDAAqD;QAClE,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,2KAAgB,OAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oLAA2B;QAAC,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;;AAE7G,kBAAkB,WAAW,GAAG,oLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 362, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/ui/separator.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst Separator = React.forwardRef<\r\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\r\n>(({ className, orientation = \"horizontal\", decorative = true, ...props }, ref) => (\r\n  <SeparatorPrimitive.Root\r\n    ref={ref}\r\n    decorative={decorative}\r\n    orientation={orientation}\r\n    className={cn(\"shrink-0 bg-border\", orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\", className)}\r\n    {...props}\r\n  />\r\n));\r\nSeparator.displayName = SeparatorPrimitive.Root.displayName;\r\n\r\nexport { Separator };\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,0BAAY,2KAAgB,MAGhC,CAAC,EAAE,SAAS,EAAE,cAAc,YAAY,EAAE,aAAa,IAAI,EAAE,GAAG,OAAO,EAAE,oBACzE,6LAAC,gLAAuB;QACtB,KAAK;QACL,YAAY;QACZ,aAAa;QACb,WAAW,IAAA,4HAAE,EAAC,sBAAsB,gBAAgB,eAAe,mBAAmB,kBAAkB;QACvG,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG,gLAAuB,CAAC,WAAW"}},
    {"offset": {"line": 398, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/lib/schema-service.ts"],"sourcesContent":["import { supabase } from \"@/integrations/supabase/client\";\r\n\r\n// Remote API base for testing\r\nconst REMOTE_API_BASE = \"https://apps4x-framework.azurewebsites.net/api/v1\";\r\n// Default DataAreaId for testing\r\nconst DEFAULT_DATA_AREA = \"LGE0000001\";\r\n\r\n// API Authentication Constants\r\nexport let AUTH_TOKEN = \"eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySWQiOiJhLmh5ZGVyIiwiTmFtZSI6Ikh5ZGVyIEFsaSIsIkVtYWlsIjoiaHlkZXJAZmFhenRlY2hzb2x1dGlvbnMuY29tIiwiTW9iaWxlTnVtYmVyIjoiMDk4NzY1NDMyMSIsIkNvbXBhbnlJZCI6IkxHRTAwMDAwMDEiLCJleHAiOjE3NjcwNzIyMTYsImlzcyI6ImFwcHM0eC5jb20iLCJhdWQiOiJhcHBzNHguY29tIn0.b5jc5d6zpx5_mY_fYH3oQS7_4RxMXYZyYNFTUf4Zk8Y\";\r\n\r\nexport const setAuthToken = (token: string) => {\r\n  AUTH_TOKEN = token;\r\n};\r\nconst APP_ID = \"Studio\";\r\nconst USER_ID = \"a.hyder\";\r\nconst CLIENT_PAGE = \"/LGE0000001/Studio/a530d8d753214ac7beaf6207aacbbd4c\";\r\n\r\n// Helper to get authenticated headers\r\nconst getHeaders = (extraHeaders: Record<string, string> = {}) => ({\r\n  \"Accept\": \"application/json, text/plain, */*\",\r\n  \"Authorization\": `Bearer ${AUTH_TOKEN}`,\r\n  \"appid\": APP_ID,\r\n  \"companyid\": DEFAULT_DATA_AREA,\r\n  \"user-id\": USER_ID,\r\n  \"X-Client-Page\": CLIENT_PAGE,\r\n  ...extraHeaders\r\n});\r\n\r\nconst fetchWithAuth = async (url: string, options: RequestInit = {}) => {\r\n  try {\r\n    const res = await fetch(url, options);\r\n    if (res.status === 401) {\r\n      console.error(\"Unauthorized access (401), signing out...\");\r\n      await supabase.auth.signOut();\r\n      window.location.href = \"/auth\";\r\n      throw new Error(\"Unauthorized\");\r\n    }\r\n    return res;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport interface MetaObject {\r\n  Id: string;\r\n  Type: string;\r\n  Name: string;\r\n  Status: string;\r\n  Data: string; // JSON string of EntityData\r\n  DataAreaId?: string;\r\n  RecId?: number;\r\n}\r\n\r\nexport interface EntityField {\r\n  Id: string;\r\n  Name: string;\r\n  Label: string;\r\n  DataType: string;\r\n  IsRequired?: boolean;\r\n  DefaultValue?: any;\r\n  Position?: number;\r\n  EntityId?: string;\r\n  CollectionId?: string;\r\n}\r\n\r\nexport interface EntityData {\r\n  EntityId: string;\r\n  CollectionId?: string;\r\n  Name: string;\r\n  Description: string | null;\r\n  TableName: string;\r\n  Fields: EntityField[];\r\n}\r\n\r\n// Helper to convert internal format to UI format\r\nconst mapEntity = (mo: MetaObject) => {\r\n  try {\r\n    const data: EntityData = JSON.parse(mo.Data);\r\n    return {\r\n      id: mo.Id,\r\n      name: data.TableName,\r\n      display_name: data.Name,\r\n      description: data.Description,\r\n      is_published: mo.Status === \"Published\",\r\n      dataAreaId: mo.DataAreaId,\r\n      recId: mo.RecId,\r\n      collectionId: data.CollectionId\r\n    };\r\n  } catch (e) {\r\n    console.error(\"Error parsing entity data:\", mo);\r\n    return {\r\n      id: mo.Id,\r\n      name: mo.Name,\r\n      display_name: mo.Name,\r\n      description: \"\",\r\n      is_published: mo.Status === \"Published\",\r\n      dataAreaId: mo.DataAreaId,\r\n      recId: mo.RecId,\r\n      collectionId: \"\"\r\n    };\r\n  }\r\n};\r\n\r\nexport const getEntities = async () => {\r\n  try {\r\n    const res = await fetchWithAuth(`${REMOTE_API_BASE}/metaobject/${DEFAULT_DATA_AREA}?type=Entity`, {\r\n      headers: getHeaders()\r\n    });\r\n    const data = await res.json();\r\n    // API might return a single object or an array\r\n    const metaobjects = Array.isArray(data.Data) ? data.Data : [data.Data];\r\n    const filterentity = metaobjects.filter((mo: MetaObject) => (mo.RecId ?? 0) >= 709);\r\n    return filterentity.map(mapEntity);\r\n  } catch (error) {\r\n    console.error(\"Error fetching entities:\", error);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const getEntity = async (id: string) => {\r\n  try {\r\n    // If id is numeric, it's likely a RecId, otherwise use as is\r\n    // const targetId = id === '9ca55aad170e45b9835adf7e5983161a' ? '709' : id;\r\n    let entity = id.replace(/-/g, \"\");\r\n    const query = `byobjectId?objectId=${entity}`\r\n    const res = await fetchWithAuth(`${REMOTE_API_BASE}/metaobject/${DEFAULT_DATA_AREA}/${query}`, {\r\n      headers: getHeaders()\r\n    });\r\n    const mo = await res.json();\r\n    return mapEntity(mo);\r\n  } catch (error) {\r\n    console.error(`Error fetching entity ${id}:`, error);\r\n    return null;\r\n  }\r\n};\r\n\r\nexport const getFields = async (entityId: string) => {\r\n  try {\r\n    let entity = entityId.replace(/-/g, \"\");\r\n    const query = `byobjectId?objectId=${entity}`\r\n    const res = await fetchWithAuth(`${REMOTE_API_BASE}/metaobject/${DEFAULT_DATA_AREA}/${query}`, {\r\n      headers: getHeaders()\r\n    });\r\n    const mo = await res.json();\r\n\r\n    if (!mo) return [];\r\n    const entityData: EntityData = JSON.parse(mo.Data);\r\n    return (entityData.Fields || []).map((f) => ({\r\n      id: f.Id,\r\n      entity_id: entityId,\r\n      name: f.Name,\r\n      display_name: f.Label,\r\n      field_type: f.DataType,\r\n      is_required: f.IsRequired,\r\n      default_value: f.DefaultValue,\r\n      position: f.Position,\r\n    }));\r\n  } catch (error) {\r\n    console.error(`Error fetching fields for entity ${entityId}:`, error);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const createEntity = async (entity: { name: string; display_name: string; description?: string }) => {\r\n  try {\r\n    const parentId = \"a530d8d753214ac7beaf6207aacbbd4c\";\r\n    const appId = \"a530d8d753214ac7beaf6207aacbbd4c\";\r\n    const connectorId = \"eb6e7a03f0ed4e09b259fc2abf4507e2\";\r\n\r\n    const dataObj = {\r\n      Name: entity.name,\r\n      TableName: entity.name,\r\n      Description: entity.description || entity.display_name,\r\n      Image: null,\r\n      TypeName: entity.name,\r\n      CollectionType: \"Single\",\r\n      ConnectorId: connectorId,\r\n      Fields: null,\r\n      IsWorkFlow: null,\r\n      AppId: appId\r\n    };\r\n\r\n    const payload = {\r\n      Type: \"Collection\",\r\n      Data: JSON.stringify(dataObj),\r\n      Name: entity.name,\r\n      ParentId: parentId,\r\n      ParentType: \"Apps\",\r\n      AppId: appId\r\n    };\r\n\r\n    const res = await fetchWithAuth(`${REMOTE_API_BASE}/metaobject/${DEFAULT_DATA_AREA}/create`, {\r\n      method: 'POST',\r\n      headers: getHeaders({ 'Content-Type': 'application/json' }),\r\n      body: JSON.stringify(payload)\r\n    });\r\n    return { sucess: true, res: await res.json() }\r\n  } catch (error) {\r\n    console.error(\"Error creating entity:\", error);\r\n    return { success: false, error: \"Failed to create entity\" };\r\n  }\r\n};\r\n\r\nexport const updateEntity = async (id: string, updates: any) => {\r\n  try {\r\n    const targetId = id === '9ca55aad170e45b9835adf7e5983161a' ? '709' : id;\r\n    const res = await fetchWithAuth(`${REMOTE_API_BASE}/metaobject/${DEFAULT_DATA_AREA}/${targetId}`, {\r\n      method: 'PUT',\r\n      headers: getHeaders({ 'Content-Type': 'application/json' }),\r\n      body: JSON.stringify(updates)\r\n    });\r\n    return { sucess: true, res: await res.json() }\r\n  } catch (error) {\r\n    console.error(`Error updating entity ${id}:`, error);\r\n    return { success: false, error: \"Failed to update entity\" };\r\n  }\r\n};\r\n\r\nexport const deleteEntity = async (id: string) => {\r\n  try {\r\n    const targetId = id === '9ca55aad170e45b9835adf7e5983161a' ? '709' : id;\r\n    const res = await fetchWithAuth(`${REMOTE_API_BASE}/metaobject/${DEFAULT_DATA_AREA}/${targetId}`, {\r\n      method: 'DELETE',\r\n      headers: getHeaders()\r\n    });\r\n    return await res.json();\r\n  } catch (error) {\r\n    console.error(`Error deleting entity ${id}:`, error);\r\n    return { success: false, error: \"Failed to delete entity\" };\r\n  }\r\n};\r\n\r\nexport const saveFields = async (entityId: string, fields: any[], entity: any) => {\r\n  try {\r\n    const collectionId = entity?.collectionId || \"6e8ef8e548704cfb90a01c1f597fb264\";\r\n    const remoteId = entity?.recId || (entityId === '9ca55aad170e45b9835adf7e5983161a' ? '709' : entityId);\r\n\r\n    // Fetch existing fields to identify new ones vs updates\r\n    const existingFields = await getFields(entityId);\r\n    const existingMap = new Map(existingFields.map(f => [f.id, f]));\r\n    const existingNames = new Set(existingFields.map(f => (f.name || \"\").toLowerCase()));\r\n\r\n    const toCreate = [];\r\n    const toUpdate = [];\r\n\r\n    for (const f of fields) {\r\n      if (f.id && existingMap.has(f.id)) {\r\n        // Check for changes\r\n        const existing = existingMap.get(f.id);\r\n\r\n        if (existing) {\r\n          const hasChanges =\r\n            existing.name !== f.name ||\r\n            existing.display_name !== f.display_name ||\r\n            existing.field_type !== f.field_type ||\r\n            existing.is_required !== f.is_required ||\r\n            existing.default_value !== f.default_value ||\r\n            existing.position !== f.position;\r\n\r\n          if (hasChanges) {\r\n            toUpdate.push(f);\r\n          }\r\n        }\r\n      } else {\r\n        // New field: Check name to prevent duplicates if ID is missing/temp\r\n        const fieldName = (f.name || f.Name || \"\").toLowerCase();\r\n        if (!existingNames.has(fieldName)) {\r\n          toCreate.push(f);\r\n        }\r\n      }\r\n    }\r\n\r\n    const toDelete = existingFields.filter(ef => !fields.some(f => f.name === ef.name));\r\n\r\n    const results = { success: true, creates: null, updates: null, deletes: null };\r\n\r\n    // Handle Updates\r\n    if (toUpdate.length > 0) {\r\n      const updatePayload = toUpdate.map(f => ({\r\n        Id: f.id,\r\n        Label: f.display_name || f.Label,\r\n        Name: f.name || f.Name,\r\n        DataType: f.field_type || f.DataType || \"String\",\r\n        IsRequired: f.is_required,\r\n        DefaultValue: f.default_value,\r\n        Position: f.position,\r\n        EntityId: entity?.id || entityId,\r\n        CollectionId: collectionId\r\n      }));\r\n\r\n      const res = await fetchWithAuth(`${REMOTE_API_BASE}/metaobject/${DEFAULT_DATA_AREA}/${remoteId}/fields/update`, {\r\n        method: 'PUT',\r\n        headers: getHeaders({ 'Content-Type': 'application/json' }),\r\n        body: JSON.stringify(updatePayload)\r\n      });\r\n      results.updates = await res.json();\r\n    }\r\n\r\n    // Handle Creates\r\n    if (toCreate.length > 0) {\r\n      // Filter out potential duplicates by name if we want to be extra safe, trying to respect implicit logic\r\n      // But typically we trust the list provided.\r\n      const createPayload = toCreate.map(f => ({\r\n        Label: f.display_name || f.Label,\r\n        Name: f.name || f.Name,\r\n        DataType: f.field_type || f.DataType || \"String\",\r\n        IsRequired: f.is_required,\r\n        DefaultValue: f.default_value,\r\n        Position: f.position,\r\n        EntityId: entity?.id || entityId,\r\n        CollectionId: collectionId\r\n      }));\r\n\r\n      const res = await fetchWithAuth(`${REMOTE_API_BASE}/metaobject/${DEFAULT_DATA_AREA}/${remoteId}/fields/create`, {\r\n        method: 'POST',\r\n        headers: getHeaders({ 'Content-Type': 'application/json' }),\r\n        body: JSON.stringify(createPayload)\r\n      });\r\n      results.creates = await res.json();\r\n    }\r\n\r\n    // Handle Deletes\r\n    if (toDelete.length > 0) {\r\n      const deletePayload = toDelete.map(f => f.name);\r\n\r\n      const res = await fetchWithAuth(`${REMOTE_API_BASE}/metaobject/${DEFAULT_DATA_AREA}/${remoteId}/fields/delete`, {\r\n        method: 'DELETE',\r\n        headers: getHeaders({ 'Content-Type': 'application/json' }),\r\n        body: JSON.stringify(deletePayload)\r\n      });\r\n      results.deletes = await res.json();\r\n    }\r\n\r\n    return { success: true, details: results };\r\n  } catch (error) {\r\n    console.error(`Error saving fields for entity ${entityId}:`, error);\r\n    return { success: false, error: \"Failed to save fields\" };\r\n  }\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 737, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/ui/chart.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport * as RechartsPrimitive from \"recharts\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\n// Format: { THEME_NAME: CSS_SELECTOR }\r\nconst THEMES = { light: \"\", dark: \".dark\" } as const;\r\n\r\nexport type ChartConfig = {\r\n  [k in string]: {\r\n    label?: React.ReactNode;\r\n    icon?: React.ComponentType;\r\n  } & ({ color?: string; theme?: never } | { color?: never; theme: Record<keyof typeof THEMES, string> });\r\n};\r\n\r\ntype ChartContextProps = {\r\n  config: ChartConfig;\r\n};\r\n\r\nconst ChartContext = React.createContext<ChartContextProps | null>(null);\r\n\r\nfunction useChart() {\r\n  const context = React.useContext(ChartContext);\r\n\r\n  if (!context) {\r\n    throw new Error(\"useChart must be used within a <ChartContainer />\");\r\n  }\r\n\r\n  return context;\r\n}\r\n\r\nconst ChartContainer = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.ComponentProps<\"div\"> & {\r\n    config: ChartConfig;\r\n    children: React.ComponentProps<typeof RechartsPrimitive.ResponsiveContainer>[\"children\"];\r\n  }\r\n>(({ id, className, children, config, ...props }, ref) => {\r\n  const uniqueId = React.useId();\r\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`;\r\n\r\n  return (\r\n    <ChartContext.Provider value={{ config }}>\r\n      <div\r\n        data-chart={chartId}\r\n        ref={ref}\r\n        className={cn(\r\n          \"flex w-full h-full justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\r\n          className,\r\n        )}\r\n        {...props}\r\n      >\r\n        <ChartStyle id={chartId} config={config} />\r\n        <RechartsPrimitive.ResponsiveContainer>{children}</RechartsPrimitive.ResponsiveContainer>\r\n      </div>\r\n    </ChartContext.Provider>\r\n  );\r\n});\r\nChartContainer.displayName = \"Chart\";\r\n\r\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\r\n  const colorConfig = Object.entries(config).filter(([_, config]) => config.theme || config.color);\r\n\r\n  if (!colorConfig.length) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <style\r\n      dangerouslySetInnerHTML={{\r\n        __html: Object.entries(THEMES)\r\n          .map(\r\n            ([theme, prefix]) => `\r\n${prefix} [data-chart=${id}] {\r\n${colorConfig\r\n  .map(([key, itemConfig]) => {\r\n    const color = itemConfig.theme?.[theme as keyof typeof itemConfig.theme] || itemConfig.color;\r\n    return color ? `  --color-${key}: ${color};` : null;\r\n  })\r\n  .join(\"\\n\")}\r\n}\r\n`,\r\n          )\r\n          .join(\"\\n\"),\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nconst ChartTooltip = RechartsPrimitive.Tooltip;\r\n\r\nconst ChartTooltipContent = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\r\n    React.ComponentProps<\"div\"> & {\r\n      hideLabel?: boolean;\r\n      hideIndicator?: boolean;\r\n      indicator?: \"line\" | \"dot\" | \"dashed\";\r\n      nameKey?: string;\r\n      labelKey?: string;\r\n    }\r\n>(\r\n  (\r\n    {\r\n      active,\r\n      payload,\r\n      className,\r\n      indicator = \"dot\",\r\n      hideLabel = false,\r\n      hideIndicator = false,\r\n      label,\r\n      labelFormatter,\r\n      labelClassName,\r\n      formatter,\r\n      color,\r\n      nameKey,\r\n      labelKey,\r\n    },\r\n    ref,\r\n  ) => {\r\n    const { config } = useChart();\r\n\r\n    const tooltipLabel = React.useMemo(() => {\r\n      if (hideLabel || !payload?.length) {\r\n        return null;\r\n      }\r\n\r\n      const [item] = payload;\r\n      const key = `${labelKey || item.dataKey || item.name || \"value\"}`;\r\n      const itemConfig = getPayloadConfigFromPayload(config, item, key);\r\n      const value =\r\n        !labelKey && typeof label === \"string\"\r\n          ? config[label as keyof typeof config]?.label || label\r\n          : itemConfig?.label;\r\n\r\n      if (labelFormatter) {\r\n        return <div className={cn(\"font-medium\", labelClassName)}>{labelFormatter(value, payload)}</div>;\r\n      }\r\n\r\n      if (!value) {\r\n        return null;\r\n      }\r\n\r\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>;\r\n    }, [label, labelFormatter, payload, hideLabel, labelClassName, config, labelKey]);\r\n\r\n    if (!active || !payload?.length) {\r\n      return null;\r\n    }\r\n\r\n    const nestLabel = payload.length === 1 && indicator !== \"dot\";\r\n\r\n    return (\r\n      <div\r\n        ref={ref}\r\n        className={cn(\r\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\r\n          className,\r\n        )}\r\n      >\r\n        {!nestLabel ? tooltipLabel : null}\r\n        <div className=\"grid gap-1.5\">\r\n          {payload.map((item, index) => {\r\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`;\r\n            const itemConfig = getPayloadConfigFromPayload(config, item, key);\r\n            const indicatorColor = color || item.payload.fill || item.color;\r\n\r\n            return (\r\n              <div\r\n                key={item.dataKey}\r\n                className={cn(\r\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\r\n                  indicator === \"dot\" && \"items-center\",\r\n                )}\r\n              >\r\n                {formatter && item?.value !== undefined && item.name ? (\r\n                  formatter(item.value, item.name, item, index, item.payload)\r\n                ) : (\r\n                  <>\r\n                    {itemConfig?.icon ? (\r\n                      <itemConfig.icon />\r\n                    ) : (\r\n                      !hideIndicator && (\r\n                        <div\r\n                          className={cn(\"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\", {\r\n                            \"h-2.5 w-2.5\": indicator === \"dot\",\r\n                            \"w-1\": indicator === \"line\",\r\n                            \"w-0 border-[1.5px] border-dashed bg-transparent\": indicator === \"dashed\",\r\n                            \"my-0.5\": nestLabel && indicator === \"dashed\",\r\n                          })}\r\n                          style={\r\n                            {\r\n                              \"--color-bg\": indicatorColor,\r\n                              \"--color-border\": indicatorColor,\r\n                            } as React.CSSProperties\r\n                          }\r\n                        />\r\n                      )\r\n                    )}\r\n                    <div\r\n                      className={cn(\r\n                        \"flex flex-1 justify-between leading-none\",\r\n                        nestLabel ? \"items-end\" : \"items-center\",\r\n                      )}\r\n                    >\r\n                      <div className=\"grid gap-1.5\">\r\n                        {nestLabel ? tooltipLabel : null}\r\n                        <span className=\"text-muted-foreground\">{itemConfig?.label || item.name}</span>\r\n                      </div>\r\n                      {item.value && (\r\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\r\n                          {item.value.toLocaleString()}\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  },\r\n);\r\nChartTooltipContent.displayName = \"ChartTooltip\";\r\n\r\nconst ChartLegend = RechartsPrimitive.Legend;\r\n\r\nconst ChartLegendContent = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.ComponentProps<\"div\"> &\r\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\r\n      hideIcon?: boolean;\r\n      nameKey?: string;\r\n    }\r\n>(({ className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey }, ref) => {\r\n  const { config } = useChart();\r\n\r\n  if (!payload?.length) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      className={cn(\"flex items-center justify-center gap-4\", verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\", className)}\r\n    >\r\n      {payload.map((item) => {\r\n        const key = `${nameKey || item.dataKey || \"value\"}`;\r\n        const itemConfig = getPayloadConfigFromPayload(config, item, key);\r\n\r\n        return (\r\n          <div\r\n            key={item.value}\r\n            className={cn(\"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\")}\r\n          >\r\n            {itemConfig?.icon && !hideIcon ? (\r\n              <itemConfig.icon />\r\n            ) : (\r\n              <div\r\n                className=\"h-2 w-2 shrink-0 rounded-[2px]\"\r\n                style={{\r\n                  backgroundColor: item.color,\r\n                }}\r\n              />\r\n            )}\r\n            {itemConfig?.label}\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n});\r\nChartLegendContent.displayName = \"ChartLegend\";\r\n\r\n// Helper to extract item config from a payload.\r\nfunction getPayloadConfigFromPayload(config: ChartConfig, payload: unknown, key: string) {\r\n  if (typeof payload !== \"object\" || payload === null) {\r\n    return undefined;\r\n  }\r\n\r\n  const payloadPayload =\r\n    \"payload\" in payload && typeof payload.payload === \"object\" && payload.payload !== null\r\n      ? payload.payload\r\n      : undefined;\r\n\r\n  let configLabelKey: string = key;\r\n\r\n  if (key in payload && typeof payload[key as keyof typeof payload] === \"string\") {\r\n    configLabelKey = payload[key as keyof typeof payload] as string;\r\n  } else if (\r\n    payloadPayload &&\r\n    key in payloadPayload &&\r\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\r\n  ) {\r\n    configLabelKey = payloadPayload[key as keyof typeof payloadPayload] as string;\r\n  }\r\n\r\n  return configLabelKey in config ? config[configLabelKey] : config[key as keyof typeof config];\r\n}\r\n\r\nexport { ChartContainer, ChartTooltip, ChartTooltipContent, ChartLegend, ChartLegendContent, ChartStyle };\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1075, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/public/ChartRenderer.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport {\r\n  ChartContainer,\r\n  ChartTooltip,\r\n  ChartTooltipContent,\r\n  ChartLegend,\r\n  ChartLegendContent,\r\n} from \"@/components/ui/chart\";\r\nimport {\r\n  Bar,\r\n  BarChart,\r\n  Line,\r\n  LineChart,\r\n  Area,\r\n  AreaChart,\r\n  Pie,\r\n  PieChart,\r\n  Radar,\r\n  RadarChart,\r\n  PolarGrid,\r\n  PolarAngleAxis,\r\n  PolarRadiusAxis,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Cell,\r\n} from \"recharts\";\r\n\r\ninterface ChartRendererProps {\r\n  content: {\r\n    chartType: string;\r\n    data: string;\r\n    title: string;\r\n    xAxisKey?: string;\r\n    yAxisKey?: string;\r\n    dataKeys?: string;\r\n  };\r\n}\r\n\r\nconst COLORS = [\r\n  \"hsl(var(--chart-1))\",\r\n  \"hsl(var(--chart-2))\",\r\n  \"hsl(var(--chart-3))\",\r\n  \"hsl(var(--chart-4))\",\r\n  \"hsl(var(--chart-5))\",\r\n];\r\n\r\nexport const ChartRenderer = ({ content }: ChartRendererProps) => {\r\n  let chartData: any[] = [];\r\n\r\n  try {\r\n    chartData = JSON.parse(content.data || \"[]\");\r\n  } catch (error) {\r\n    return (\r\n      <div className=\"p-4 border border-destructive/50 rounded-lg bg-destructive/10\">\r\n        <p className=\"text-destructive font-semibold\">Invalid chart data</p>\r\n        <p className=\"text-sm text-muted-foreground\">Please provide valid JSON data</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!chartData.length) {\r\n    return (\r\n      <div className=\"p-4 border border-border rounded-lg bg-muted/20\">\r\n        <p className=\"text-muted-foreground\">No chart data available</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const chartConfig = chartData.reduce((acc, item, index) => {\r\n    Object.keys(item).forEach(key => {\r\n      if (key !== content.xAxisKey && key !== \"name\" && !acc[key]) {\r\n        acc[key] = {\r\n          label: key.charAt(0).toUpperCase() + key.slice(1),\r\n          color: COLORS[Object.keys(acc).length % COLORS.length],\r\n        };\r\n      }\r\n    });\r\n    return acc;\r\n  }, {} as Record<string, { label: string; color: string }>);\r\n\r\n  const renderChart = () => {\r\n    switch (content.chartType) {\r\n      case \"bar\":\r\n        return (\r\n          <ChartContainer config={chartConfig}>\r\n            <BarChart data={chartData}>\r\n              <CartesianGrid strokeDasharray=\"3 3\" className=\"stroke-muted\" />\r\n              <XAxis\r\n                dataKey={content.xAxisKey || \"name\"}\r\n                tickLine={false}\r\n                axisLine={false}\r\n              />\r\n              <YAxis tickLine={false} axisLine={false} />\r\n              <ChartTooltip content={<ChartTooltipContent />} />\r\n              <Bar\r\n                dataKey={content.yAxisKey || \"value\"}\r\n                fill={COLORS[0]}\r\n                radius={[8, 8, 0, 0]}\r\n              />\r\n            </BarChart>\r\n          </ChartContainer>\r\n        );\r\n\r\n      case \"line\":\r\n        const lineDataKeys = (content.dataKeys || \"\").split(\",\").filter(Boolean);\r\n        return (\r\n          <ChartContainer config={chartConfig}>\r\n            <LineChart data={chartData}>\r\n              <CartesianGrid strokeDasharray=\"3 3\" className=\"stroke-muted\" />\r\n              <XAxis\r\n                dataKey={content.xAxisKey || \"month\"}\r\n                tickLine={false}\r\n                axisLine={false}\r\n              />\r\n              <YAxis tickLine={false} axisLine={false} />\r\n              <ChartTooltip content={<ChartTooltipContent />} />\r\n              <ChartLegend content={<ChartLegendContent />} />\r\n              {lineDataKeys.map((key, idx) => (\r\n                <Line\r\n                  key={key}\r\n                  type=\"monotone\"\r\n                  dataKey={key.trim()}\r\n                  stroke={COLORS[idx % COLORS.length]}\r\n                  strokeWidth={2}\r\n                  dot={false}\r\n                />\r\n              ))}\r\n            </LineChart>\r\n          </ChartContainer>\r\n        );\r\n\r\n      case \"area\":\r\n        const areaDataKeys = (content.dataKeys || \"\").split(\",\").filter(Boolean);\r\n        return (\r\n          <ChartContainer config={chartConfig}>\r\n            <AreaChart data={chartData}>\r\n              <CartesianGrid strokeDasharray=\"3 3\" className=\"stroke-muted\" />\r\n              <XAxis\r\n                dataKey={content.xAxisKey || \"time\"}\r\n                tickLine={false}\r\n                axisLine={false}\r\n              />\r\n              <YAxis tickLine={false} axisLine={false} />\r\n              <ChartTooltip content={<ChartTooltipContent />} />\r\n              {areaDataKeys.map((key, idx) => (\r\n                <Area\r\n                  key={key}\r\n                  type=\"monotone\"\r\n                  dataKey={key.trim()}\r\n                  stroke={COLORS[idx % COLORS.length]}\r\n                  fill={COLORS[idx % COLORS.length]}\r\n                  fillOpacity={0.6}\r\n                />\r\n              ))}\r\n            </AreaChart>\r\n          </ChartContainer>\r\n        );\r\n\r\n      case \"pie\":\r\n        return (\r\n          <ChartContainer config={chartConfig}>\r\n            <PieChart>\r\n              <ChartTooltip content={<ChartTooltipContent />} />\r\n              <Pie\r\n                data={chartData}\r\n                dataKey=\"value\"\r\n                nameKey=\"name\"\r\n                cx=\"50%\"\r\n                cy=\"50%\"\r\n                outerRadius={80}\r\n                label\r\n              >\r\n                {chartData.map((entry, index) => (\r\n                  <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\r\n                ))}\r\n              </Pie>\r\n            </PieChart>\r\n          </ChartContainer>\r\n        );\r\n\r\n      case \"radar\":\r\n        return (\r\n          <ChartContainer config={chartConfig}>\r\n            <RadarChart data={chartData}>\r\n              <PolarGrid className=\"stroke-muted\" />\r\n              <PolarAngleAxis dataKey=\"subject\" />\r\n              <PolarRadiusAxis />\r\n              <ChartTooltip content={<ChartTooltipContent />} />\r\n              <Radar\r\n                name=\"Score\"\r\n                dataKey=\"value\"\r\n                stroke={COLORS[0]}\r\n                fill={COLORS[0]}\r\n                fillOpacity={0.6}\r\n              />\r\n            </RadarChart>\r\n          </ChartContainer>\r\n        );\r\n\r\n      default:\r\n        return <div className=\"text-muted-foreground\">Unsupported chart type</div>;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full space-y-4\">\r\n      {content.title && (\r\n        <h3 className=\"text-xl font-semibold text-center\">{content.title}</h3>\r\n      )}\r\n      <div className=\"w-full min-h-[300px] max-h-[400px] h-[400px]\">\r\n        {renderChart()}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AATA;;;;AAwCA,MAAM,SAAS;IACb;IACA;IACA;IACA;IACA;CACD;AAEM,MAAM,gBAAgB,CAAC,EAAE,OAAO,EAAsB;IAC3D,IAAI,YAAmB,EAAE;IAEzB,IAAI;QACF,YAAY,KAAK,KAAK,CAAC,QAAQ,IAAI,IAAI;IACzC,EAAE,OAAO,OAAO;QACd,qBACE,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAE,WAAU;8BAAiC;;;;;;8BAC9C,6LAAC;oBAAE,WAAU;8BAAgC;;;;;;;;;;;;IAGnD;IAEA,IAAI,CAAC,UAAU,MAAM,EAAE;QACrB,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAE,WAAU;0BAAwB;;;;;;;;;;;IAG3C;IAEA,MAAM,cAAc,UAAU,MAAM,CAAC,CAAC,KAAK,MAAM;QAC/C,OAAO,IAAI,CAAC,MAAM,OAAO,CAAC,CAAA;YACxB,IAAI,QAAQ,QAAQ,QAAQ,IAAI,QAAQ,UAAU,CAAC,GAAG,CAAC,IAAI,EAAE;gBAC3D,GAAG,CAAC,IAAI,GAAG;oBACT,OAAO,IAAI,MAAM,CAAC,GAAG,WAAW,KAAK,IAAI,KAAK,CAAC;oBAC/C,OAAO,MAAM,CAAC,OAAO,IAAI,CAAC,KAAK,MAAM,GAAG,OAAO,MAAM,CAAC;gBACxD;YACF;QACF;QACA,OAAO;IACT,GAAG,CAAC;IAEJ,MAAM,cAAc;QAClB,OAAQ,QAAQ,SAAS;YACvB,KAAK;gBACH,qBACE,6LAAC,sJAAc;oBAAC,QAAQ;8BACtB,cAAA,6LAAC,mKAAQ;wBAAC,MAAM;;0CACd,6LAAC,iLAAa;gCAAC,iBAAgB;gCAAM,WAAU;;;;;;0CAC/C,6LAAC,iKAAK;gCACJ,SAAS,QAAQ,QAAQ,IAAI;gCAC7B,UAAU;gCACV,UAAU;;;;;;0CAEZ,6LAAC,iKAAK;gCAAC,UAAU;gCAAO,UAAU;;;;;;0CAClC,6LAAC,oJAAY;gCAAC,uBAAS,6LAAC,2JAAmB;;;;;;;;;;0CAC3C,6LAAC,6JAAG;gCACF,SAAS,QAAQ,QAAQ,IAAI;gCAC7B,MAAM,MAAM,CAAC,EAAE;gCACf,QAAQ;oCAAC;oCAAG;oCAAG;oCAAG;iCAAE;;;;;;;;;;;;;;;;;YAM9B,KAAK;gBACH,MAAM,eAAe,CAAC,QAAQ,QAAQ,IAAI,EAAE,EAAE,KAAK,CAAC,KAAK,MAAM,CAAC;gBAChE,qBACE,6LAAC,sJAAc;oBAAC,QAAQ;8BACtB,cAAA,6LAAC,qKAAS;wBAAC,MAAM;;0CACf,6LAAC,iLAAa;gCAAC,iBAAgB;gCAAM,WAAU;;;;;;0CAC/C,6LAAC,iKAAK;gCACJ,SAAS,QAAQ,QAAQ,IAAI;gCAC7B,UAAU;gCACV,UAAU;;;;;;0CAEZ,6LAAC,iKAAK;gCAAC,UAAU;gCAAO,UAAU;;;;;;0CAClC,6LAAC,oJAAY;gCAAC,uBAAS,6LAAC,2JAAmB;;;;;;;;;;0CAC3C,6LAAC,mJAAW;gCAAC,uBAAS,6LAAC,0JAAkB;;;;;;;;;;4BACxC,aAAa,GAAG,CAAC,CAAC,KAAK,oBACtB,6LAAC,+JAAI;oCAEH,MAAK;oCACL,SAAS,IAAI,IAAI;oCACjB,QAAQ,MAAM,CAAC,MAAM,OAAO,MAAM,CAAC;oCACnC,aAAa;oCACb,KAAK;mCALA;;;;;;;;;;;;;;;;YAYjB,KAAK;gBACH,MAAM,eAAe,CAAC,QAAQ,QAAQ,IAAI,EAAE,EAAE,KAAK,CAAC,KAAK,MAAM,CAAC;gBAChE,qBACE,6LAAC,sJAAc;oBAAC,QAAQ;8BACtB,cAAA,6LAAC,qKAAS;wBAAC,MAAM;;0CACf,6LAAC,iLAAa;gCAAC,iBAAgB;gCAAM,WAAU;;;;;;0CAC/C,6LAAC,iKAAK;gCACJ,SAAS,QAAQ,QAAQ,IAAI;gCAC7B,UAAU;gCACV,UAAU;;;;;;0CAEZ,6LAAC,iKAAK;gCAAC,UAAU;gCAAO,UAAU;;;;;;0CAClC,6LAAC,oJAAY;gCAAC,uBAAS,6LAAC,2JAAmB;;;;;;;;;;4BAC1C,aAAa,GAAG,CAAC,CAAC,KAAK,oBACtB,6LAAC,+JAAI;oCAEH,MAAK;oCACL,SAAS,IAAI,IAAI;oCACjB,QAAQ,MAAM,CAAC,MAAM,OAAO,MAAM,CAAC;oCACnC,MAAM,MAAM,CAAC,MAAM,OAAO,MAAM,CAAC;oCACjC,aAAa;mCALR;;;;;;;;;;;;;;;;YAYjB,KAAK;gBACH,qBACE,6LAAC,sJAAc;oBAAC,QAAQ;8BACtB,cAAA,6LAAC,mKAAQ;;0CACP,6LAAC,oJAAY;gCAAC,uBAAS,6LAAC,2JAAmB;;;;;;;;;;0CAC3C,6LAAC,yJAAG;gCACF,MAAM;gCACN,SAAQ;gCACR,SAAQ;gCACR,IAAG;gCACH,IAAG;gCACH,aAAa;gCACb,KAAK;0CAEJ,UAAU,GAAG,CAAC,CAAC,OAAO,sBACrB,6LAAC,+JAAI;wCAAuB,MAAM,MAAM,CAAC,QAAQ,OAAO,MAAM,CAAC;uCAApD,CAAC,KAAK,EAAE,OAAO;;;;;;;;;;;;;;;;;;;;;YAOtC,KAAK;gBACH,qBACE,6LAAC,sJAAc;oBAAC,QAAQ;8BACtB,cAAA,6LAAC,uKAAU;wBAAC,MAAM;;0CAChB,6LAAC,qKAAS;gCAAC,WAAU;;;;;;0CACrB,6LAAC,+KAAc;gCAAC,SAAQ;;;;;;0CACxB,6LAAC,iLAAe;;;;;0CAChB,6LAAC,oJAAY;gCAAC,uBAAS,6LAAC,2JAAmB;;;;;;;;;;0CAC3C,6LAAC,6JAAK;gCACJ,MAAK;gCACL,SAAQ;gCACR,QAAQ,MAAM,CAAC,EAAE;gCACjB,MAAM,MAAM,CAAC,EAAE;gCACf,aAAa;;;;;;;;;;;;;;;;;YAMvB;gBACE,qBAAO,6LAAC;oBAAI,WAAU;8BAAwB;;;;;;QAClD;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;YACZ,QAAQ,KAAK,kBACZ,6LAAC;gBAAG,WAAU;0BAAqC,QAAQ,KAAK;;;;;;0BAElE,6LAAC;gBAAI,WAAU;0BACZ;;;;;;;;;;;;AAIT;KAxKa"}},
    {"offset": {"line": 1530, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/ui/table.tsx"],"sourcesContent":["import * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst Table = React.forwardRef<HTMLTableElement, React.HTMLAttributes<HTMLTableElement>>(\r\n  ({ className, ...props }, ref) => (\r\n    <div className=\"relative w-full overflow-auto\">\r\n      <table ref={ref} className={cn(\"w-full caption-bottom text-sm\", className)} {...props} />\r\n    </div>\r\n  ),\r\n);\r\nTable.displayName = \"Table\";\r\n\r\nconst TableHeader = React.forwardRef<HTMLTableSectionElement, React.HTMLAttributes<HTMLTableSectionElement>>(\r\n  ({ className, ...props }, ref) => <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />,\r\n);\r\nTableHeader.displayName = \"TableHeader\";\r\n\r\nconst TableBody = React.forwardRef<HTMLTableSectionElement, React.HTMLAttributes<HTMLTableSectionElement>>(\r\n  ({ className, ...props }, ref) => (\r\n    <tbody ref={ref} className={cn(\"[&_tr:last-child]:border-0\", className)} {...props} />\r\n  ),\r\n);\r\nTableBody.displayName = \"TableBody\";\r\n\r\nconst TableFooter = React.forwardRef<HTMLTableSectionElement, React.HTMLAttributes<HTMLTableSectionElement>>(\r\n  ({ className, ...props }, ref) => (\r\n    <tfoot ref={ref} className={cn(\"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\", className)} {...props} />\r\n  ),\r\n);\r\nTableFooter.displayName = \"TableFooter\";\r\n\r\nconst TableRow = React.forwardRef<HTMLTableRowElement, React.HTMLAttributes<HTMLTableRowElement>>(\r\n  ({ className, ...props }, ref) => (\r\n    <tr\r\n      ref={ref}\r\n      className={cn(\"border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50\", className)}\r\n      {...props}\r\n    />\r\n  ),\r\n);\r\nTableRow.displayName = \"TableRow\";\r\n\r\nconst TableHead = React.forwardRef<HTMLTableCellElement, React.ThHTMLAttributes<HTMLTableCellElement>>(\r\n  ({ className, ...props }, ref) => (\r\n    <th\r\n      ref={ref}\r\n      className={cn(\r\n        \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  ),\r\n);\r\nTableHead.displayName = \"TableHead\";\r\n\r\nconst TableCell = React.forwardRef<HTMLTableCellElement, React.TdHTMLAttributes<HTMLTableCellElement>>(\r\n  ({ className, ...props }, ref) => (\r\n    <td ref={ref} className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)} {...props} />\r\n  ),\r\n);\r\nTableCell.displayName = \"TableCell\";\r\n\r\nconst TableCaption = React.forwardRef<HTMLTableCaptionElement, React.HTMLAttributes<HTMLTableCaptionElement>>(\r\n  ({ className, ...props }, ref) => (\r\n    <caption ref={ref} className={cn(\"mt-4 text-sm text-muted-foreground\", className)} {...props} />\r\n  ),\r\n);\r\nTableCaption.displayName = \"TableCaption\";\r\n\r\nexport { Table, TableHeader, TableBody, TableFooter, TableHead, TableRow, TableCell, TableCaption };\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,2KAAgB,MAC5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAM,KAAK;YAAK,WAAW,IAAA,4HAAE,EAAC,iCAAiC;YAAa,GAAG,KAAK;;;;;;;;;;;;AAI3F,MAAM,WAAW,GAAG;AAEpB,MAAM,4BAAc,2KAAgB,OAClC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAAQ,6LAAC;QAAM,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,mBAAmB;QAAa,GAAG,KAAK;;;;;;;AAE3G,YAAY,WAAW,GAAG;AAE1B,MAAM,0BAAY,2KAAgB,OAChC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QAAM,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,8BAA8B;QAAa,GAAG,KAAK;;;;;;;AAGtF,UAAU,WAAW,GAAG;AAExB,MAAM,4BAAc,2KAAgB,OAClC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QAAM,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,2DAA2D;QAAa,GAAG,KAAK;;;;;;;AAGnH,YAAY,WAAW,GAAG;AAE1B,MAAM,yBAAW,2KAAgB,OAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,+EAA+E;QAC5F,GAAG,KAAK;;;;;;;AAIf,SAAS,WAAW,GAAG;AAEvB,MAAM,0BAAY,2KAAgB,QAChC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,oGACA;QAED,GAAG,KAAK;;;;;;;AAIf,UAAU,WAAW,GAAG;AAExB,MAAM,0BAAY,2KAAgB,QAChC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QAAG,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,kDAAkD;QAAa,GAAG,KAAK;;;;;;;AAGvG,UAAU,WAAW,GAAG;AAExB,MAAM,6BAAe,2KAAgB,QACnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QAAQ,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,sCAAsC;QAAa,GAAG,KAAK;;;;;;;AAGhG,aAAa,WAAW,GAAG"}},
    {"offset": {"line": 1674, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\r\n  ({ className, type, ...props }, ref) => {\r\n    return (\r\n      <input\r\n        type={type}\r\n        className={cn(\r\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\r\n          className,\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    );\r\n  },\r\n);\r\nInput.displayName = \"Input\";\r\n\r\nexport { Input };\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,2KAAgB,MAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,IAAA,4HAAE,EACX,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 1709, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/ui/switch.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst Switch = React.forwardRef<\r\n  React.ElementRef<typeof SwitchPrimitives.Root>,\r\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\r\n>(({ className, ...props }, ref) => (\r\n  <SwitchPrimitives.Root\r\n    className={cn(\r\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50\",\r\n      className,\r\n    )}\r\n    {...props}\r\n    ref={ref}\r\n  >\r\n    <SwitchPrimitives.Thumb\r\n      className={cn(\r\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\",\r\n      )}\r\n    />\r\n  </SwitchPrimitives.Root>\r\n));\r\nSwitch.displayName = SwitchPrimitives.Root.displayName;\r\n\r\nexport { Switch };\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,uBAAS,2KAAgB,MAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,6KAAqB;QACpB,WAAW,IAAA,4HAAE,EACX,sXACA;QAED,GAAG,KAAK;QACT,KAAK;kBAEL,cAAA,6LAAC,8KAAsB;YACrB,WAAW,IAAA,4HAAE,EACX;;;;;;;;;;;;AAKR,OAAO,WAAW,GAAG,6KAAqB,CAAC,WAAW"}},
    {"offset": {"line": 1750, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/ui/select.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport * as SelectPrimitive from \"@radix-ui/react-select\";\r\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst Select = SelectPrimitive.Root;\r\n\r\nconst SelectGroup = SelectPrimitive.Group;\r\n\r\nconst SelectValue = SelectPrimitive.Value;\r\n\r\nconst SelectTrigger = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\r\n>(({ className, children, ...props }, ref) => (\r\n  <SelectPrimitive.Trigger\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\r\n      className,\r\n    )}\r\n    {...props}\r\n  >\r\n    {children}\r\n    <SelectPrimitive.Icon asChild>\r\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\r\n    </SelectPrimitive.Icon>\r\n  </SelectPrimitive.Trigger>\r\n));\r\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName;\r\n\r\nconst SelectScrollUpButton = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\r\n>(({ className, ...props }, ref) => (\r\n  <SelectPrimitive.ScrollUpButton\r\n    ref={ref}\r\n    className={cn(\"flex cursor-default items-center justify-center py-1\", className)}\r\n    {...props}\r\n  >\r\n    <ChevronUp className=\"h-4 w-4\" />\r\n  </SelectPrimitive.ScrollUpButton>\r\n));\r\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName;\r\n\r\nconst SelectScrollDownButton = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\r\n>(({ className, ...props }, ref) => (\r\n  <SelectPrimitive.ScrollDownButton\r\n    ref={ref}\r\n    className={cn(\"flex cursor-default items-center justify-center py-1\", className)}\r\n    {...props}\r\n  >\r\n    <ChevronDown className=\"h-4 w-4\" />\r\n  </SelectPrimitive.ScrollDownButton>\r\n));\r\nSelectScrollDownButton.displayName = SelectPrimitive.ScrollDownButton.displayName;\r\n\r\nconst SelectContent = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\r\n>(({ className, children, position = \"popper\", ...props }, ref) => (\r\n  <SelectPrimitive.Portal>\r\n    <SelectPrimitive.Content\r\n      ref={ref}\r\n      className={cn(\r\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n        position === \"popper\" &&\r\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\r\n        className,\r\n      )}\r\n      position={position}\r\n      {...props}\r\n    >\r\n      <SelectScrollUpButton />\r\n      <SelectPrimitive.Viewport\r\n        className={cn(\r\n          \"p-1\",\r\n          position === \"popper\" &&\r\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\",\r\n        )}\r\n      >\r\n        {children}\r\n      </SelectPrimitive.Viewport>\r\n      <SelectScrollDownButton />\r\n    </SelectPrimitive.Content>\r\n  </SelectPrimitive.Portal>\r\n));\r\nSelectContent.displayName = SelectPrimitive.Content.displayName;\r\n\r\nconst SelectLabel = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Label>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\r\n>(({ className, ...props }, ref) => (\r\n  <SelectPrimitive.Label ref={ref} className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)} {...props} />\r\n));\r\nSelectLabel.displayName = SelectPrimitive.Label.displayName;\r\n\r\nconst SelectItem = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Item>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\r\n>(({ className, children, ...props }, ref) => (\r\n  <SelectPrimitive.Item\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\r\n      className,\r\n    )}\r\n    {...props}\r\n  >\r\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n      <SelectPrimitive.ItemIndicator>\r\n        <Check className=\"h-4 w-4\" />\r\n      </SelectPrimitive.ItemIndicator>\r\n    </span>\r\n\r\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\r\n  </SelectPrimitive.Item>\r\n));\r\nSelectItem.displayName = SelectPrimitive.Item.displayName;\r\n\r\nconst SelectSeparator = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Separator>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\r\n>(({ className, ...props }, ref) => (\r\n  <SelectPrimitive.Separator ref={ref} className={cn(\"-mx-1 my-1 h-px bg-muted\", className)} {...props} />\r\n));\r\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName;\r\n\r\nexport {\r\n  Select,\r\n  SelectGroup,\r\n  SelectValue,\r\n  SelectTrigger,\r\n  SelectContent,\r\n  SelectLabel,\r\n  SelectItem,\r\n  SelectSeparator,\r\n  SelectScrollUpButton,\r\n  SelectScrollDownButton,\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAAA;AAAA;AAEA;;;;;;AAEA,MAAM,SAAS,6KAAoB;AAEnC,MAAM,cAAc,8KAAqB;AAEzC,MAAM,cAAc,8KAAqB;AAEzC,MAAM,8BAAgB,2KAAgB,MAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,gLAAuB;QACtB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,mTACA;QAED,GAAG,KAAK;;YAER;0BACD,6LAAC,6KAAoB;gBAAC,OAAO;0BAC3B,cAAA,6LAAC,sOAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;;AAI7B,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,qCAAuB,2KAAgB,CAG3C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,uLAA8B;QAC7B,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,wDAAwD;QACrE,GAAG,KAAK;kBAET,cAAA,6LAAC,gOAAS;YAAC,WAAU;;;;;;;;;;;MATnB;AAYN,qBAAqB,WAAW,GAAG,uLAA8B,CAAC,WAAW;AAE7E,MAAM,uCAAyB,2KAAgB,CAG7C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,yLAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,wDAAwD;QACrE,GAAG,KAAK;kBAET,cAAA,6LAAC,sOAAW;YAAC,WAAU;;;;;;;;;;;MATrB;AAYN,uBAAuB,WAAW,GAAG,yLAAgC,CAAC,WAAW;AAEjF,MAAM,8BAAgB,2KAAgB,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,WAAW,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACzD,6LAAC,+KAAsB;kBACrB,cAAA,6LAAC,gLAAuB;YACtB,KAAK;YACL,WAAW,IAAA,4HAAE,EACX,ucACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,6LAAC;;;;;8BACD,6LAAC,iLAAwB;oBACvB,WAAW,IAAA,4HAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,6LAAC;;;;;;;;;;;;;;;;;AAIP,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAqB;QAAC,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,0CAA0C;QAAa,GAAG,KAAK;;;;;;;AAEhH,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,6KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,6NACA;QAED,GAAG,KAAK;;0BAET,6LAAC;gBAAK,WAAU;0BACd,cAAA,6LAAC,sLAA6B;8BAC5B,cAAA,6LAAC,gNAAK;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAIrB,6LAAC,iLAAwB;0BAAE;;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,6KAAoB,CAAC,WAAW;AAEzD,MAAM,gCAAkB,2KAAgB,QAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,kLAAyB;QAAC,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,4BAA4B;QAAa,GAAG,KAAK;;;;;;;AAEtG,gBAAgB,WAAW,GAAG,kLAAyB,CAAC,WAAW"}},
    {"offset": {"line": 1972, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/ui/label.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport * as LabelPrimitive from \"@radix-ui/react-label\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst labelVariants = cva(\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\");\r\n\r\nconst Label = React.forwardRef<\r\n  React.ElementRef<typeof LabelPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> & VariantProps<typeof labelVariants>\r\n>(({ className, ...props }, ref) => (\r\n  <LabelPrimitive.Root ref={ref} className={cn(labelVariants(), className)} {...props} />\r\n));\r\nLabel.displayName = LabelPrimitive.Root.displayName;\r\n\r\nexport { Label };\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EAAC;AAE1B,MAAM,sBAAQ,2KAAgB,MAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,4KAAmB;QAAC,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,iBAAiB;QAAa,GAAG,KAAK;;;;;;;AAErF,MAAM,WAAW,GAAG,4KAAmB,CAAC,WAAW"}},
    {"offset": {"line": 2009, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/entities/FieldEditor.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useSortable } from \"@dnd-kit/sortable\";\r\nimport { CSS } from \"@dnd-kit/utilities\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Switch } from \"@/components/ui/switch\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { GripVertical, Trash2, ChevronDown, ChevronUp } from \"lucide-react\";\r\nimport { Label } from \"@/components/ui/label\";\r\n\r\nexport enum E_FieldDataType {\r\n    String = \"String\",\r\n    Interger = \"Interger\",\r\n    Date = \"Date\",\r\n    DateTime = \"DateTime\",\r\n    Decimal = \"Decimal\",\r\n    TimeSpan = \"TimeSpan\",\r\n    Image = \"Image\",\r\n    DropDown = \"DropDown\",\r\n    Relation = \"Relation\",\r\n    Boolean = \"Boolean\",\r\n    TextArea = \"TextArea\",\r\n    DBComputed = \"DBComputed\",\r\n    Formula = \"Formula\",\r\n    File = \"File\",\r\n    Time = \"Time\",\r\n    QRcode = \"QRcode\",\r\n    List = \"List\",\r\n    HTMLEditor = \"HTMLEditor\",\r\n    Button = \"Button\",\r\n    Icon = \"Icon\",\r\n    Password = \"Password\",\r\n    Int64 = \"Int64\",\r\n    Chips = \"Chips\",\r\n    ImageSlider = \"ImageSlider\",\r\n}\r\n\r\nexport interface EntityField {\r\n  id: string;\r\n  name: string;\r\n  display_name: string;\r\n  field_type: E_FieldDataType;\r\n  is_required: boolean;\r\n  default_value: string | null;\r\n}\r\n\r\ninterface FieldEditorProps {\r\n  field: EntityField;\r\n  onUpdate: (updates: Partial<EntityField>) => void;\r\n  onDelete: () => void;\r\n}\r\n\r\nconst FIELD_TYPES = Object.values(E_FieldDataType).map((type) => ({\r\n  value: type,\r\n  label: type.replace(/([A-Z])/g, ' $1').trim(), // Add space before capital letters for label\r\n}));\r\n\r\nexport const FieldEditor = ({ field, onUpdate, onDelete }: FieldEditorProps) => {\r\n  const [expanded, setExpanded] = useState(false);\r\n  const { attributes, listeners, setNodeRef, transform, transition, isDragging } = useSortable({\r\n    id: field.name,\r\n  });\r\n\r\n  const style = {\r\n    transform: CSS.Transform.toString(transform),\r\n    transition,\r\n    opacity: isDragging ? 0.5 : 1,\r\n  };\r\n\r\n  return (\r\n    <div\r\n      ref={setNodeRef}\r\n      style={style}\r\n      className=\"border rounded-lg bg-card\"\r\n    >\r\n      <div className=\"flex items-center gap-3 p-4\">     \r\n        <div className=\"flex-1 grid grid-cols-3 gap-3\">\r\n          <Input\r\n            value={field.display_name}\r\n            onChange={(e) => onUpdate({ display_name: e.target.value })}\r\n            placeholder=\"Display Name\"\r\n          />\r\n          <Input\r\n            value={field.name}\r\n            onChange={(e) => onUpdate({ name: e.target.value })}\r\n            placeholder=\"field_name\"\r\n          />\r\n          <Select value={field.field_type} onValueChange={(value) => onUpdate({ field_type: value as E_FieldDataType })}>\r\n            <SelectTrigger>\r\n              <SelectValue />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              {FIELD_TYPES.map((type) => (\r\n                <SelectItem key={type.value} value={type.value}>\r\n                  {type.label}\r\n                </SelectItem>\r\n              ))}\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n\r\n        <Button\r\n          variant=\"ghost\"\r\n          size=\"icon\"\r\n          onClick={() => setExpanded(!expanded)}\r\n        >\r\n          {expanded ? <ChevronUp className=\"h-4 w-4\" /> : <ChevronDown className=\"h-4 w-4\" />}\r\n        </Button>\r\n\r\n        <Button variant=\"ghost\" size=\"icon\" onClick={onDelete}>\r\n          <Trash2 className=\"h-4 w-4 text-destructive\" />\r\n        </Button>\r\n      </div>\r\n\r\n      {expanded && (\r\n        <div className=\"border-t p-4 space-y-4 bg-muted/30\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <Label>Required Field</Label>\r\n            <Switch\r\n              checked={field.is_required}\r\n              onCheckedChange={(checked) => onUpdate({ is_required: checked })}\r\n            />\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Label>Default Value</Label>\r\n            <Input\r\n              value={field.default_value || \"\"}\r\n              onChange={(e) => onUpdate({ default_value: e.target.value || null })}\r\n              placeholder=\"Optional default value\"\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;;;;;;;;;;;;AAEO,IAAA,AAAK,yCAAA;;;;;;;;;;;;;;;;;;;;;;;;;WAAA;;AA0CZ,MAAM,cAAc,OAAO,MAAM,CAAC,iBAAiB,GAAG,MAAC,CAAC,OAAS,CAAC;QAChE,OAAO;QACP,OAAO,KAAK,OAAO,CAAC,YAAY,OAAO,IAAI;IAC7C,CAAC;;AAEM,MAAM,cAAc,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAoB;;IACzE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,EAAE,UAAU,EAAE,SAAS,EAAE,UAAU,EAAE,SAAS,EAAE,UAAU,EAAE,UAAU,EAAE,GAAG,IAAA,qLAAW,EAAC;QAC3F,IAAI,MAAM,IAAI;IAChB;IAEA,MAAM,QAAQ;QACZ,WAAW,+KAAG,CAAC,SAAS,CAAC,QAAQ,CAAC;QAClC;QACA,SAAS,aAAa,MAAM;IAC9B;IAEA,qBACE,6LAAC;QACC,KAAK;QACL,OAAO;QACP,WAAU;;0BAEV,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,6IAAK;gCACJ,OAAO,MAAM,YAAY;gCACzB,UAAU,CAAC,IAAM,SAAS;wCAAE,cAAc,EAAE,MAAM,CAAC,KAAK;oCAAC;gCACzD,aAAY;;;;;;0CAEd,6LAAC,6IAAK;gCACJ,OAAO,MAAM,IAAI;gCACjB,UAAU,CAAC,IAAM,SAAS;wCAAE,MAAM,EAAE,MAAM,CAAC,KAAK;oCAAC;gCACjD,aAAY;;;;;;0CAEd,6LAAC,+IAAM;gCAAC,OAAO,MAAM,UAAU;gCAAE,eAAe,CAAC,QAAU,SAAS;wCAAE,YAAY;oCAAyB;;kDACzG,6LAAC,sJAAa;kDACZ,cAAA,6LAAC,oJAAW;;;;;;;;;;kDAEd,6LAAC,sJAAa;kDACX,YAAY,GAAG,CAAC,CAAC,qBAChB,6LAAC,mJAAU;gDAAkB,OAAO,KAAK,KAAK;0DAC3C,KAAK,KAAK;+CADI,KAAK,KAAK;;;;;;;;;;;;;;;;;;;;;;kCAQnC,6LAAC,+IAAM;wBACL,SAAQ;wBACR,MAAK;wBACL,SAAS,IAAM,YAAY,CAAC;kCAE3B,yBAAW,6LAAC,gOAAS;4BAAC,WAAU;;;;;qFAAe,6LAAC,sOAAW;4BAAC,WAAU;;;;;;;;;;;kCAGzE,6LAAC,+IAAM;wBAAC,SAAQ;wBAAQ,MAAK;wBAAO,SAAS;kCAC3C,cAAA,6LAAC,uNAAM;4BAAC,WAAU;;;;;;;;;;;;;;;;;YAIrB,0BACC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,6IAAK;0CAAC;;;;;;0CACP,6LAAC,+IAAM;gCACL,SAAS,MAAM,WAAW;gCAC1B,iBAAiB,CAAC,UAAY,SAAS;wCAAE,aAAa;oCAAQ;;;;;;;;;;;;kCAGlE,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,6IAAK;0CAAC;;;;;;0CACP,6LAAC,6IAAK;gCACJ,OAAO,MAAM,aAAa,IAAI;gCAC9B,UAAU,CAAC,IAAM,SAAS;wCAAE,eAAe,EAAE,MAAM,CAAC,KAAK,IAAI;oCAAK;gCAClE,aAAY;;;;;;;;;;;;;;;;;;;;;;;;AAO1B;GA9Ea;;QAEsE,qLAAW;;;MAFjF"}},
    {"offset": {"line": 2287, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst badgeVariants = cva(\r\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\r\n        secondary: \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        destructive: \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\r\n        outline: \"text-foreground\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  },\r\n);\r\n\r\nexport interface BadgeProps extends React.HTMLAttributes<HTMLDivElement>, VariantProps<typeof badgeVariants> {}\r\n\r\nfunction Badge({ className, variant, ...props }: BadgeProps) {\r\n  return <div className={cn(badgeVariants({ variant }), className)} {...props} />;\r\n}\r\n\r\nexport { Badge, badgeVariants };\r\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,WAAW;YACX,aAAa;YACb,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAKF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBAAO,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAC7E;KAFS"}},
    {"offset": {"line": 2335, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/entities/views/CardView.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { E_FieldDataType } from \"@/components/entities/FieldEditor\";\r\nimport { Card, CardContent, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Edit, Trash2, Eye, EyeOff } from \"lucide-react\";\r\n\r\n\r\n\r\nimport { EntityRecord, EntityField } from \"@/types/entity\";\r\n\r\ninterface CardLayout {\r\n  titleField: string;\r\n  subtitleField?: string;\r\n  imageField?: string;\r\n  displayFields: Array<{ fieldId: string; position: number }>;\r\n}\r\n\r\ninterface CardViewProps {\r\n  records: EntityRecord[];\r\n  fields: EntityField[];\r\n  cardLayout?: CardLayout;\r\n  onEdit: (record: EntityRecord) => void;\r\n  onDelete: (record: EntityRecord) => void;\r\n  onTogglePublish: (record: EntityRecord) => void;\r\n}\r\n\r\nexport const CardView = ({ records, fields, cardLayout, onEdit, onDelete, onTogglePublish }: CardViewProps) => {\r\n  const getFieldValue = (record: EntityRecord, fieldName: string) => {\r\n    const field = fields.find(f => f.name === fieldName);\r\n    if (!field) return null;\r\n\r\n    const value = record.data[field.name];\r\n    if (value === null || value === undefined) return null;\r\n\r\n    if (field.field_type === E_FieldDataType.Boolean) return value ? 'Yes' : 'No';\r\n    if (field.field_type === E_FieldDataType.Date) return new Date(value).toLocaleDateString();\r\n    if (field.field_type === E_FieldDataType.Image) return value;\r\n    return String(value);\r\n  };\r\n\r\n  const titleField = fields.find(f => f.name === cardLayout?.titleField) || fields[0];\r\n  const subtitleField = cardLayout?.subtitleField ? fields.find(f => f.name === cardLayout.subtitleField) : null;\r\n  const imageField = cardLayout?.imageField ? fields.find(f => f.name === cardLayout.imageField) : null;\r\n\r\n  const displayFields = cardLayout?.displayFields\r\n    ?.sort((a, b) => a.position - b.position)\r\n    .map(df => fields.find(f => f.name === df.fieldId))\r\n    .filter(Boolean) as EntityField[] || [];\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\r\n      {records.map((record) => (\r\n        <Card key={record.id} className=\"overflow-hidden\">\r\n          {imageField && getFieldValue(record, imageField.name) && (\r\n            <div className=\"w-full h-48 overflow-hidden bg-muted\">\r\n              <img\r\n                src={getFieldValue(record, imageField.name) || ''}\r\n                alt={getFieldValue(record, titleField.name) || 'Record image'}\r\n                className=\"w-full h-full object-cover\"\r\n              />\r\n            </div>\r\n          )}\r\n          <CardHeader>\r\n            <div className=\"flex items-start justify-between gap-2\">\r\n              <div className=\"flex-1 min-w-0\">\r\n                <CardTitle className=\"text-lg truncate\">\r\n                  {getFieldValue(record, titleField.name) || 'Untitled'}\r\n                </CardTitle>\r\n                {subtitleField && (\r\n                  <p className=\"text-sm text-muted-foreground mt-1 truncate\">\r\n                    {getFieldValue(record, subtitleField.name)}\r\n                  </p>\r\n                )}\r\n              </div>\r\n              <Badge variant={record.is_published ? \"default\" : \"secondary\"}>\r\n                {record.is_published ? \"Published\" : \"Draft\"}\r\n              </Badge>\r\n            </div>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"space-y-2\">\r\n              {displayFields.map((field) => {\r\n                const value = getFieldValue(record, field.name);\r\n                if (!value) return null;\r\n\r\n                return (\r\n                  <div key={field.name} className=\"text-sm\">\r\n                    <span className=\"font-medium text-muted-foreground\">{field.display_name}: </span>\r\n                    {field.field_type === E_FieldDataType.TextArea ? (\r\n                      <p className=\"line-clamp-2\">{value}</p>\r\n                    ) : (\r\n                      <span>{value}</span>\r\n                    )}\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </CardContent>\r\n          <CardFooter className=\"flex gap-2 pt-4 border-t\">\r\n            <Button variant=\"outline\" size=\"sm\" onClick={() => onEdit(record)}>\r\n              <Edit className=\"h-4 w-4\" />\r\n            </Button>\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              onClick={() => onTogglePublish(record)}\r\n            >\r\n              {record.is_published ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\r\n            </Button>\r\n            <Button variant=\"outline\" size=\"sm\" onClick={() => onDelete(record)}>\r\n              <Trash2 className=\"h-4 w-4\" />\r\n            </Button>\r\n          </CardFooter>\r\n        </Card>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2575, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/ui/scroll-area.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst ScrollArea = React.forwardRef<\r\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\r\n>(({ className, children, ...props }, ref) => (\r\n  <ScrollAreaPrimitive.Root ref={ref} className={cn(\"relative overflow-hidden\", className)} {...props}>\r\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">{children}</ScrollAreaPrimitive.Viewport>\r\n    <ScrollBar />\r\n    <ScrollAreaPrimitive.Corner />\r\n  </ScrollAreaPrimitive.Root>\r\n));\r\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName;\r\n\r\nconst ScrollBar = React.forwardRef<\r\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\r\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\r\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\r\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\r\n    ref={ref}\r\n    orientation={orientation}\r\n    className={cn(\r\n      \"flex touch-none select-none transition-colors\",\r\n      orientation === \"vertical\" && \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\r\n      orientation === \"horizontal\" && \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\r\n      className,\r\n    )}\r\n    {...props}\r\n  >\r\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\r\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\r\n));\r\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName;\r\n\r\nexport { ScrollArea, ScrollBar };\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,2BAAa,2KAAgB,MAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,qLAAwB;QAAC,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,4BAA4B;QAAa,GAAG,KAAK;;0BACjG,6LAAC,yLAA4B;gBAAC,WAAU;0BAAmC;;;;;;0BAC3E,6LAAC;;;;;0BACD,6LAAC,uLAA0B;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,qLAAwB,CAAC,WAAW;AAE7D,MAAM,0BAAY,2KAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,cAAc,UAAU,EAAE,GAAG,OAAO,EAAE,oBACpD,6LAAC,oMAAuC;QACtC,KAAK;QACL,aAAa;QACb,WAAW,IAAA,4HAAE,EACX,iDACA,gBAAgB,cAAc,sDAC9B,gBAAgB,gBAAgB,wDAChC;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,gMAAmC;YAAC,WAAU;;;;;;;;;;;MAf7C;AAkBN,UAAU,WAAW,GAAG,oMAAuC,CAAC,WAAW"}},
    {"offset": {"line": 2651, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/entities/views/KanbanView.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useMemo } from \"react\";\r\nimport { E_FieldDataType } from \"@/components/entities/FieldEditor\";\r\nimport { Card, CardContent, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Edit, Trash2, Eye, EyeOff } from \"lucide-react\";\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\r\n\r\n\r\n\r\nimport { EntityRecord, EntityField } from \"@/types/entity\";\r\n\r\ninterface CardLayout {\r\n  titleField: string;\r\n  subtitleField?: string;\r\n  displayFields: Array<{ fieldId: string; position: number }>;\r\n}\r\n\r\ninterface KanbanConfig {\r\n  groupByField: string;\r\n  cardLayout: CardLayout;\r\n}\r\n\r\ninterface KanbanViewProps {\r\n  records: EntityRecord[];\r\n  fields: EntityField[];\r\n  kanbanConfig?: KanbanConfig;\r\n  onEdit: (record: EntityRecord) => void;\r\n  onDelete: (record: EntityRecord) => void;\r\n  onTogglePublish: (record: EntityRecord) => void;\r\n}\r\n\r\nexport const KanbanView = ({ records, fields, kanbanConfig, onEdit, onDelete, onTogglePublish }: KanbanViewProps) => {\r\n  const getFieldValue = (record: EntityRecord, fieldId: string) => {\r\n    const field = fields.find(f => f.id === fieldId);\r\n    if (!field) return null;\r\n\r\n    const value = record.data[field.name];\r\n    if (value === null || value === undefined) return null;\r\n\r\n    if (field.field_type === E_FieldDataType.Boolean) return value ? 'Yes' : 'No';\r\n    if (field.field_type === E_FieldDataType.Date) return new Date(value).toLocaleDateString();\r\n    return String(value);\r\n  };\r\n\r\n  const groupByField = fields.find(f => f.id === kanbanConfig?.groupByField);\r\n  const titleField = fields.find(f => f.id === kanbanConfig?.cardLayout.titleField) || fields[0];\r\n  const subtitleField = kanbanConfig?.cardLayout.subtitleField\r\n    ? fields.find(f => f.id === kanbanConfig.cardLayout.subtitleField)\r\n    : null;\r\n\r\n  const displayFields = kanbanConfig?.cardLayout.displayFields\r\n    ?.sort((a, b) => a.position - b.position)\r\n    .map(df => fields.find(f => f.id === df.fieldId))\r\n    .filter(Boolean) as EntityField[] || [];\r\n\r\n  const groupedRecords = useMemo(() => {\r\n    if (!groupByField) return { 'All Records': records };\r\n\r\n    const groups: Record<string, EntityRecord[]> = {};\r\n    records.forEach(record => {\r\n      const groupValue = record.data[groupByField.name] || 'Uncategorized';\r\n      if (!groups[groupValue]) {\r\n        groups[groupValue] = [];\r\n      }\r\n      groups[groupValue].push(record);\r\n    });\r\n    return groups;\r\n  }, [records, groupByField]);\r\n\r\n  if (!kanbanConfig || !groupByField) {\r\n    return (\r\n      <div className=\"text-center py-12 text-muted-foreground\">\r\n        Please configure the Kanban view by selecting a grouping field in View Options.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex gap-4 overflow-x-auto pb-4\">\r\n      {Object.entries(groupedRecords).map(([groupName, groupRecords]) => (\r\n        <div key={groupName} className=\"flex-shrink-0 w-80\">\r\n          <div className=\"bg-muted/50 rounded-lg p-4\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h3 className=\"font-semibold\">{groupName}</h3>\r\n              <Badge variant=\"secondary\">{groupRecords.length}</Badge>\r\n            </div>\r\n            <ScrollArea className=\"h-[calc(100vh-16rem)]\">\r\n              <div className=\"space-y-3 pr-4\">\r\n                {groupRecords.map((record) => (\r\n                  <Card key={record.id}>\r\n                    <CardHeader className=\"pb-3\">\r\n                      <div className=\"flex items-start justify-between gap-2\">\r\n                        <CardTitle className=\"text-base truncate\">\r\n                          {getFieldValue(record, titleField.id) || 'Untitled'}\r\n                        </CardTitle>\r\n                        <Badge variant={record.is_published ? \"default\" : \"secondary\"} className=\"flex-shrink-0\">\r\n                          {record.is_published ? \"Published\" : \"Draft\"}\r\n                        </Badge>\r\n                      </div>\r\n                      {subtitleField && (\r\n                        <p className=\"text-sm text-muted-foreground truncate\">\r\n                          {getFieldValue(record, subtitleField.id)}\r\n                        </p>\r\n                      )}\r\n                    </CardHeader>\r\n                    <CardContent className=\"pb-3\">\r\n                      <div className=\"space-y-1\">\r\n                        {displayFields.map((field) => {\r\n                          const value = getFieldValue(record, field.id);\r\n                          if (!value) return null;\r\n\r\n                          return (\r\n                            <div key={field.id} className=\"text-sm\">\r\n                              <span className=\"font-medium text-muted-foreground\">{field.display_name}: </span>\r\n                              {field.field_type === E_FieldDataType.TextArea ? (\r\n                                <p className=\"line-clamp-1\">{value}</p>\r\n                              ) : (\r\n                                <span>{value}</span>\r\n                              )}\r\n                            </div>\r\n                          );\r\n                        })}\r\n                      </div>\r\n                    </CardContent>\r\n                    <CardFooter className=\"flex gap-2 pt-3 border-t\">\r\n                      <Button variant=\"ghost\" size=\"sm\" onClick={() => onEdit(record)}>\r\n                        <Edit className=\"h-3 w-3\" />\r\n                      </Button>\r\n                      <Button\r\n                        variant=\"ghost\"\r\n                        size=\"sm\"\r\n                        onClick={() => onTogglePublish(record)}\r\n                      >\r\n                        {record.is_published ? <EyeOff className=\"h-3 w-3\" /> : <Eye className=\"h-3 w-3\" />}\r\n                      </Button>\r\n                      <Button variant=\"ghost\" size=\"sm\" onClick={() => onDelete(record)}>\r\n                        <Trash2 className=\"h-3 w-3\" />\r\n                      </Button>\r\n                    </CardFooter>\r\n                  </Card>\r\n                ))}\r\n              </div>\r\n            </ScrollArea>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2962, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/entities/views/GalleryView.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { E_FieldDataType } from \"@/components/entities/FieldEditor\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Edit, Trash2, Eye, EyeOff } from \"lucide-react\";\r\n\r\n\r\n\r\nimport { EntityRecord, EntityField } from \"@/types/entity\";\r\n\r\ninterface GalleryConfig {\r\n  imageField: string;\r\n  titleField: string;\r\n  subtitleField?: string;\r\n}\r\n\r\ninterface GalleryViewProps {\r\n  records: EntityRecord[];\r\n  fields: EntityField[];\r\n  galleryConfig?: GalleryConfig;\r\n  onEdit: (record: EntityRecord) => void;\r\n  onDelete: (record: EntityRecord) => void;\r\n  onTogglePublish: (record: EntityRecord) => void;\r\n}\r\n\r\nexport const GalleryView = ({ records, fields, galleryConfig, onEdit, onDelete, onTogglePublish }: GalleryViewProps) => {\r\n  const getFieldValue = (record: EntityRecord, fieldName: string) => {\r\n    const field = fields.find(f => f.name === fieldName);\r\n    if (!field) return null;\r\n    return record.data[field.name];\r\n  };\r\n\r\n  const imageField = fields.find(f => f.name === galleryConfig?.imageField);\r\n  const titleField = fields.find(f => f.name === galleryConfig?.titleField) || fields[0];\r\n  const subtitleField = galleryConfig?.subtitleField ? fields.find(f => f.name === galleryConfig.subtitleField) : null;\r\n\r\n  if (!galleryConfig || !imageField) {\r\n    return (\r\n      <div className=\"text-center py-12 text-muted-foreground\">\r\n        Please configure the Gallery view by selecting an image field in View Options.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4\">\r\n      {records.map((record) => {\r\n        const imageUrl = getFieldValue(record, imageField.name);\r\n        const title = getFieldValue(record, titleField.name) || 'Untitled';\r\n        const subtitle = subtitleField ? getFieldValue(record, subtitleField.name) : null;\r\n\r\n        return (\r\n          <div key={record.id} className=\"group relative aspect-square rounded-lg overflow-hidden bg-muted\">\r\n            {imageUrl ? (\r\n              <img\r\n                src={imageUrl}\r\n                alt={title}\r\n                className=\"w-full h-full object-cover transition-transform group-hover:scale-105\"\r\n              />\r\n            ) : (\r\n              <div className=\"w-full h-full flex items-center justify-center text-muted-foreground\">\r\n                No Image\r\n              </div>\r\n            )}\r\n            <div className=\"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity\">\r\n              <div className=\"absolute bottom-0 left-0 right-0 p-4 text-white\">\r\n                <div className=\"flex items-start justify-between mb-2\">\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <h3 className=\"font-semibold truncate\">{title}</h3>\r\n                    {subtitle && (\r\n                      <p className=\"text-sm text-white/80 truncate\">{subtitle}</p>\r\n                    )}\r\n                  </div>\r\n                  <Badge variant={record.is_published ? \"default\" : \"secondary\"}>\r\n                    {record.is_published ? \"Published\" : \"Draft\"}\r\n                  </Badge>\r\n                </div>\r\n                <div className=\"flex gap-2\">\r\n                  <Button variant=\"secondary\" size=\"sm\" onClick={() => onEdit(record)}>\r\n                    <Edit className=\"h-3 w-3\" />\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"secondary\"\r\n                    size=\"sm\"\r\n                    onClick={() => onTogglePublish(record)}\r\n                  >\r\n                    {record.is_published ? <EyeOff className=\"h-3 w-3\" /> : <Eye className=\"h-3 w-3\" />}\r\n                  </Button>\r\n                  <Button variant=\"secondary\" size=\"sm\" onClick={() => onDelete(record)}>\r\n                    <Trash2 className=\"h-3 w-3\" />\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AALA;;;;;AA0BO,MAAM,cAAc,CAAC,EAAE,OAAO,EAAE,MAAM,EAAE,aAAa,EAAE,MAAM,EAAE,QAAQ,EAAE,eAAe,EAAoB;IACjH,MAAM,gBAAgB,CAAC,QAAsB;QAC3C,MAAM,QAAQ,OAAO,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK;QAC1C,IAAI,CAAC,OAAO,OAAO;QACnB,OAAO,OAAO,IAAI,CAAC,MAAM,IAAI,CAAC;IAChC;IAEA,MAAM,aAAa,OAAO,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK,eAAe;IAC9D,MAAM,aAAa,OAAO,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK,eAAe,eAAe,MAAM,CAAC,EAAE;IACtF,MAAM,gBAAgB,eAAe,gBAAgB,OAAO,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK,cAAc,aAAa,IAAI;IAEhH,IAAI,CAAC,iBAAiB,CAAC,YAAY;QACjC,qBACE,6LAAC;YAAI,WAAU;sBAA0C;;;;;;IAI7D;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACZ,QAAQ,GAAG,CAAC,CAAC;YACZ,MAAM,WAAW,cAAc,QAAQ,WAAW,IAAI;YACtD,MAAM,QAAQ,cAAc,QAAQ,WAAW,IAAI,KAAK;YACxD,MAAM,WAAW,gBAAgB,cAAc,QAAQ,cAAc,IAAI,IAAI;YAE7E,qBACE,6LAAC;gBAAoB,WAAU;;oBAC5B,yBACC,6LAAC;wBACC,KAAK;wBACL,KAAK;wBACL,WAAU;;;;;iFAGZ,6LAAC;wBAAI,WAAU;kCAAuE;;;;;;kCAIxF,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAG,WAAU;8DAA0B;;;;;;gDACvC,0BACC,6LAAC;oDAAE,WAAU;8DAAkC;;;;;;;;;;;;sDAGnD,6LAAC,6IAAK;4CAAC,SAAS,OAAO,YAAY,GAAG,YAAY;sDAC/C,OAAO,YAAY,GAAG,cAAc;;;;;;;;;;;;8CAGzC,6LAAC;oCAAI,WAAU;;sDACb,6LAAC,+IAAM;4CAAC,SAAQ;4CAAY,MAAK;4CAAK,SAAS,IAAM,OAAO;sDAC1D,cAAA,6LAAC,sNAAI;gDAAC,WAAU;;;;;;;;;;;sDAElB,6LAAC,+IAAM;4CACL,SAAQ;4CACR,MAAK;4CACL,SAAS,IAAM,gBAAgB;sDAE9B,OAAO,YAAY,iBAAG,6LAAC,uNAAM;gDAAC,WAAU;;;;;yGAAe,6LAAC,0MAAG;gDAAC,WAAU;;;;;;;;;;;sDAEzE,6LAAC,+IAAM;4CAAC,SAAQ;4CAAY,MAAK;4CAAK,SAAS,IAAM,SAAS;sDAC5D,cAAA,6LAAC,uNAAM;gDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eArClB,OAAO,EAAE;;;;;QA4CvB;;;;;;AAGN;KA1Ea"}},
    {"offset": {"line": 3166, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/entities/views/ListView.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { E_FieldDataType } from \"@/components/entities/FieldEditor\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Edit, Trash2, Eye, EyeOff } from \"lucide-react\";\r\n\r\n\r\n\r\nimport { EntityRecord, EntityField } from \"@/types/entity\";\r\n\r\ninterface ListConfig {\r\n  titleField: string;\r\n  subtitleField?: string;\r\n  displayFields: Array<{ fieldId: string; position: number }>;\r\n}\r\n\r\ninterface ListViewProps {\r\n  records: EntityRecord[];\r\n  fields: EntityField[];\r\n  listConfig?: ListConfig;\r\n  onEdit: (record: EntityRecord) => void;\r\n  onDelete: (record: EntityRecord) => void;\r\n  onTogglePublish: (record: EntityRecord) => void;\r\n}\r\n\r\nexport const ListView = ({ records, fields, listConfig, onEdit, onDelete, onTogglePublish }: ListViewProps) => {\r\n  const getFieldValue = (record: EntityRecord, fieldName: string) => {\r\n    const field = fields.find(f => f.name === fieldName);\r\n    if (!field) return null;\r\n\r\n    const value = record.data[field.name];\r\n    if (value === null || value === undefined) return null;\r\n\r\n    if (field.field_type === E_FieldDataType.Boolean) return value ? 'Yes' : 'No';\r\n    if (field.field_type === E_FieldDataType.Date || field.field_type === E_FieldDataType.DateTime) return new Date(value).toLocaleDateString();\r\n    return String(value);\r\n  };\r\n\r\n  const titleField = fields.find(f => f.name === listConfig?.titleField) || fields[0];\r\n  const subtitleField = listConfig?.subtitleField ? fields.find(f => f.name === listConfig.subtitleField) : null;\r\n\r\n  const displayFields = listConfig?.displayFields\r\n    ?.sort((a, b) => a.position - b.position)\r\n    .map(df => fields.find(f => f.name === df.fieldId))\r\n    .filter(Boolean) as EntityField[] || [];\r\n\r\n  return (\r\n    <div className=\"space-y-2\">\r\n      {records.map((record) => (\r\n        <div\r\n          key={record.id}\r\n          className=\"flex items-center gap-4 p-4 rounded-lg border bg-card hover:bg-accent/50 transition-colors\"\r\n        >\r\n          <div className=\"flex-1 min-w-0\">\r\n            <div className=\"flex items-center gap-2 mb-1\">\r\n              <h3 className=\"font-semibold truncate\">\r\n                {getFieldValue(record, titleField.name) || 'Untitled'}\r\n              </h3>\r\n              <Badge variant={record.is_published ? \"default\" : \"secondary\"}>\r\n                {record.is_published ? \"Published\" : \"Draft\"}\r\n              </Badge>\r\n            </div>\r\n            {subtitleField && (\r\n              <p className=\"text-sm text-muted-foreground mb-2 truncate\">\r\n                {getFieldValue(record, subtitleField.name)}\r\n              </p>\r\n            )}\r\n            <div className=\"flex flex-wrap gap-x-4 gap-y-1 text-sm\">\r\n              {displayFields.map((field) => {\r\n                const value = getFieldValue(record, field.name);\r\n                if (!value) return null;\r\n\r\n                return (\r\n                  <div key={field.name} className=\"text-muted-foreground\">\r\n                    <span className=\"font-medium\">{field.display_name}:</span>{' '}\r\n                    {field.field_type === E_FieldDataType.TextArea ? (\r\n                      <p className=\"line-clamp-1\">{value}</p>\r\n                    ) : (\r\n                      <span>{value}</span>\r\n                    )}\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n          <div className=\"flex gap-2 flex-shrink-0\">\r\n            <Button variant=\"ghost\" size=\"sm\" onClick={() => onEdit(record)}>\r\n              <Edit className=\"h-4 w-4\" />\r\n            </Button>\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              onClick={() => onTogglePublish(record)}\r\n            >\r\n              {record.is_published ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\r\n            </Button>\r\n            <Button variant=\"ghost\" size=\"sm\" onClick={() => onDelete(record)}>\r\n              <Trash2 className=\"h-4 w-4\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AALA;;;;;;AA0BO,MAAM,WAAW,CAAC,EAAE,OAAO,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM,EAAE,QAAQ,EAAE,eAAe,EAAiB;IACxG,MAAM,gBAAgB,CAAC,QAAsB;QAC3C,MAAM,QAAQ,OAAO,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK;QAC1C,IAAI,CAAC,OAAO,OAAO;QAEnB,MAAM,QAAQ,OAAO,IAAI,CAAC,MAAM,IAAI,CAAC;QACrC,IAAI,UAAU,QAAQ,UAAU,WAAW,OAAO;QAElD,IAAI,MAAM,UAAU,KAAK,mKAAe,CAAC,OAAO,EAAE,OAAO,QAAQ,QAAQ;QACzE,IAAI,MAAM,UAAU,KAAK,mKAAe,CAAC,IAAI,IAAI,MAAM,UAAU,KAAK,mKAAe,CAAC,QAAQ,EAAE,OAAO,IAAI,KAAK,OAAO,kBAAkB;QACzI,OAAO,OAAO;IAChB;IAEA,MAAM,aAAa,OAAO,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK,YAAY,eAAe,MAAM,CAAC,EAAE;IACnF,MAAM,gBAAgB,YAAY,gBAAgB,OAAO,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK,WAAW,aAAa,IAAI;IAE1G,MAAM,gBAAgB,YAAY,eAC9B,KAAK,CAAC,GAAG,IAAM,EAAE,QAAQ,GAAG,EAAE,QAAQ,EACvC,IAAI,CAAA,KAAM,OAAO,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK,GAAG,OAAO,GAChD,OAAO,YAA6B,EAAE;IAEzC,qBACE,6LAAC;QAAI,WAAU;kBACZ,QAAQ,GAAG,CAAC,CAAC,uBACZ,6LAAC;gBAEC,WAAU;;kCAEV,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAG,WAAU;kDACX,cAAc,QAAQ,WAAW,IAAI,KAAK;;;;;;kDAE7C,6LAAC,6IAAK;wCAAC,SAAS,OAAO,YAAY,GAAG,YAAY;kDAC/C,OAAO,YAAY,GAAG,cAAc;;;;;;;;;;;;4BAGxC,+BACC,6LAAC;gCAAE,WAAU;0CACV,cAAc,QAAQ,cAAc,IAAI;;;;;;0CAG7C,6LAAC;gCAAI,WAAU;0CACZ,cAAc,GAAG,CAAC,CAAC;oCAClB,MAAM,QAAQ,cAAc,QAAQ,MAAM,IAAI;oCAC9C,IAAI,CAAC,OAAO,OAAO;oCAEnB,qBACE,6LAAC;wCAAqB,WAAU;;0DAC9B,6LAAC;gDAAK,WAAU;;oDAAe,MAAM,YAAY;oDAAC;;;;;;;4CAAS;4CAC1D,MAAM,UAAU,KAAK,mKAAe,CAAC,QAAQ,iBAC5C,6LAAC;gDAAE,WAAU;0DAAgB;;;;;yGAE7B,6LAAC;0DAAM;;;;;;;uCALD,MAAM,IAAI;;;;;gCASxB;;;;;;;;;;;;kCAGJ,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,+IAAM;gCAAC,SAAQ;gCAAQ,MAAK;gCAAK,SAAS,IAAM,OAAO;0CACtD,cAAA,6LAAC,sNAAI;oCAAC,WAAU;;;;;;;;;;;0CAElB,6LAAC,+IAAM;gCACL,SAAQ;gCACR,MAAK;gCACL,SAAS,IAAM,gBAAgB;0CAE9B,OAAO,YAAY,iBAAG,6LAAC,uNAAM;oCAAC,WAAU;;;;;6FAAe,6LAAC,0MAAG;oCAAC,WAAU;;;;;;;;;;;0CAEzE,6LAAC,+IAAM;gCAAC,SAAQ;gCAAQ,MAAK;gCAAK,SAAS,IAAM,SAAS;0CACxD,cAAA,6LAAC,uNAAM;oCAAC,WAAU;;;;;;;;;;;;;;;;;;eA/CjB,OAAO,EAAE;;;;;;;;;;AAsDxB;KA/Ea"}},
    {"offset": {"line": 3375, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/entities/views/TimelineView.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useMemo } from \"react\";\r\nimport { E_FieldDataType } from \"@/components/entities/FieldEditor\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Edit, Trash2, Eye, EyeOff } from \"lucide-react\";\r\n\r\n\r\n\r\nimport { EntityRecord, EntityField } from \"@/types/entity\";\r\n\r\ninterface TimelineConfig {\r\n  dateField: string;\r\n  titleField: string;\r\n  descriptionField?: string;\r\n}\r\n\r\ninterface TimelineViewProps {\r\n  records: EntityRecord[];\r\n  fields: EntityField[];\r\n  timelineConfig?: TimelineConfig;\r\n  onEdit: (record: EntityRecord) => void;\r\n  onDelete: (record: EntityRecord) => void;\r\n  onTogglePublish: (record: EntityRecord) => void;\r\n}\r\n\r\nexport const TimelineView = ({ records, fields, timelineConfig, onEdit, onDelete, onTogglePublish }: TimelineViewProps) => {\r\n  const getFieldValue = (record: EntityRecord, fieldId: string) => {\r\n    const field = fields.find(f => f.id === fieldId);\r\n    if (!field) return null;\r\n    return record.data[field.name];\r\n  };\r\n\r\n  const dateField = fields.find(f => f.id === timelineConfig?.dateField);\r\n  const titleField = fields.find(f => f.id === timelineConfig?.titleField) || fields[0];\r\n  const descriptionField = timelineConfig?.descriptionField\r\n    ? fields.find(f => f.id === timelineConfig.descriptionField)\r\n    : null;\r\n\r\n  const sortedRecords = useMemo(() => {\r\n    if (!dateField) return records;\r\n\r\n    return [...records].sort((a, b) => {\r\n      const dateA = new Date(a.data[dateField.name] || a.created_at).getTime();\r\n      const dateB = new Date(b.data[dateField.name] || b.created_at).getTime();\r\n      return dateB - dateA; // Most recent first\r\n    });\r\n  }, [records, dateField]);\r\n\r\n  if (!timelineConfig || !dateField) {\r\n    return (\r\n      <div className=\"text-center py-12 text-muted-foreground\">\r\n        Please configure the Timeline view by selecting a date field in View Options.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto\">\r\n      <div className=\"relative\">\r\n        {/* Vertical line */}\r\n        <div className=\"absolute left-8 top-0 bottom-0 w-0.5 bg-border\" />\r\n\r\n        <div className=\"space-y-8\">\r\n          {sortedRecords.map((record, index) => {\r\n            const date = getFieldValue(record, dateField.id);\r\n            const title = getFieldValue(record, titleField.id) || 'Untitled';\r\n            const description = descriptionField ? getFieldValue(record, descriptionField.id) : null;\r\n            const formattedDate = date ? new Date(date).toLocaleDateString('en-US', {\r\n              year: 'numeric',\r\n              month: 'long',\r\n              day: 'numeric'\r\n            }) : 'No date';\r\n\r\n            return (\r\n              <div key={record.id} className=\"relative pl-16\">\r\n                {/* Timeline dot */}\r\n                <div className=\"absolute left-6 w-5 h-5 rounded-full bg-primary border-4 border-background\" />\r\n\r\n                <div className=\"rounded-lg border bg-card p-6\">\r\n                  <div className=\"flex items-start justify-between gap-4 mb-2\">\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"flex items-center gap-2 mb-1\">\r\n                        <h3 className=\"font-semibold text-lg\">{title}</h3>\r\n                        <Badge variant={record.is_published ? \"default\" : \"secondary\"}>\r\n                          {record.is_published ? \"Published\" : \"Draft\"}\r\n                        </Badge>\r\n                      </div>\r\n                      <p className=\"text-sm text-muted-foreground\">{formattedDate}</p>\r\n                    </div>\r\n                    <div className=\"flex gap-2\">\r\n                      <Button variant=\"ghost\" size=\"sm\" onClick={() => onEdit(record)}>\r\n                        <Edit className=\"h-4 w-4\" />\r\n                      </Button>\r\n                      <Button\r\n                        variant=\"ghost\"\r\n                        size=\"sm\"\r\n                        onClick={() => onTogglePublish(record)}\r\n                      >\r\n                        {record.is_published ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\r\n                      </Button>\r\n                      <Button variant=\"ghost\" size=\"sm\" onClick={() => onDelete(record)}>\r\n                        <Trash2 className=\"h-4 w-4\" />\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                  {description && (\r\n                    <p className=\"text-muted-foreground\">{description}</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;;;AANA;;;;;AA2BO,MAAM,eAAe,CAAC,EAAE,OAAO,EAAE,MAAM,EAAE,cAAc,EAAE,MAAM,EAAE,QAAQ,EAAE,eAAe,EAAqB;;IACpH,MAAM,gBAAgB,CAAC,QAAsB;QAC3C,MAAM,QAAQ,OAAO,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;QACxC,IAAI,CAAC,OAAO,OAAO;QACnB,OAAO,OAAO,IAAI,CAAC,MAAM,IAAI,CAAC;IAChC;IAEA,MAAM,YAAY,OAAO,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,gBAAgB;IAC5D,MAAM,aAAa,OAAO,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,gBAAgB,eAAe,MAAM,CAAC,EAAE;IACrF,MAAM,mBAAmB,gBAAgB,mBACrC,OAAO,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,eAAe,gBAAgB,IACzD;IAEJ,MAAM,gBAAgB,IAAA,wKAAO;+CAAC;YAC5B,IAAI,CAAC,WAAW,OAAO;YAEvB,OAAO;mBAAI;aAAQ,CAAC,IAAI;uDAAC,CAAC,GAAG;oBAC3B,MAAM,QAAQ,IAAI,KAAK,EAAE,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,OAAO;oBACtE,MAAM,QAAQ,IAAI,KAAK,EAAE,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,OAAO;oBACtE,OAAO,QAAQ,OAAO,oBAAoB;gBAC5C;;QACF;8CAAG;QAAC;QAAS;KAAU;IAEvB,IAAI,CAAC,kBAAkB,CAAC,WAAW;QACjC,qBACE,6LAAC;YAAI,WAAU;sBAA0C;;;;;;IAI7D;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BAEb,6LAAC;oBAAI,WAAU;;;;;;8BAEf,6LAAC;oBAAI,WAAU;8BACZ,cAAc,GAAG,CAAC,CAAC,QAAQ;wBAC1B,MAAM,OAAO,cAAc,QAAQ,UAAU,EAAE;wBAC/C,MAAM,QAAQ,cAAc,QAAQ,WAAW,EAAE,KAAK;wBACtD,MAAM,cAAc,mBAAmB,cAAc,QAAQ,iBAAiB,EAAE,IAAI;wBACpF,MAAM,gBAAgB,OAAO,IAAI,KAAK,MAAM,kBAAkB,CAAC,SAAS;4BACtE,MAAM;4BACN,OAAO;4BACP,KAAK;wBACP,KAAK;wBAEL,qBACE,6LAAC;4BAAoB,WAAU;;8CAE7B,6LAAC;oCAAI,WAAU;;;;;;8CAEf,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAI,WAAU;;8EACb,6LAAC;oEAAG,WAAU;8EAAyB;;;;;;8EACvC,6LAAC,6IAAK;oEAAC,SAAS,OAAO,YAAY,GAAG,YAAY;8EAC/C,OAAO,YAAY,GAAG,cAAc;;;;;;;;;;;;sEAGzC,6LAAC;4DAAE,WAAU;sEAAiC;;;;;;;;;;;;8DAEhD,6LAAC;oDAAI,WAAU;;sEACb,6LAAC,+IAAM;4DAAC,SAAQ;4DAAQ,MAAK;4DAAK,SAAS,IAAM,OAAO;sEACtD,cAAA,6LAAC,sNAAI;gEAAC,WAAU;;;;;;;;;;;sEAElB,6LAAC,+IAAM;4DACL,SAAQ;4DACR,MAAK;4DACL,SAAS,IAAM,gBAAgB;sEAE9B,OAAO,YAAY,iBAAG,6LAAC,uNAAM;gEAAC,WAAU;;;;;yHAAe,6LAAC,0MAAG;gEAAC,WAAU;;;;;;;;;;;sEAEzE,6LAAC,+IAAM;4DAAC,SAAQ;4DAAQ,MAAK;4DAAK,SAAS,IAAM,SAAS;sEACxD,cAAA,6LAAC,uNAAM;gEAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;wCAIvB,6BACC,6LAAC;4CAAE,WAAU;sDAAyB;;;;;;;;;;;;;2BAhClC,OAAO,EAAE;;;;;oBAqCvB;;;;;;;;;;;;;;;;;AAKV;GA3Fa;KAAA"}},
    {"offset": {"line": 3630, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/entities/views/CalendarView.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useMemo, useState } from \"react\";\r\nimport { E_FieldDataType } from \"@/components/entities/FieldEditor\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { ChevronLeft, ChevronRight, Edit, Trash2, Eye, EyeOff } from \"lucide-react\";\r\nimport { Card, CardContent } from \"@/components/ui/card\";\r\n\r\n\r\n\r\nimport { EntityRecord, EntityField } from \"@/types/entity\";\r\n\r\ninterface CalendarConfig {\r\n  dateField: string;\r\n  titleField: string;\r\n}\r\n\r\ninterface CalendarViewProps {\r\n  records: EntityRecord[];\r\n  fields: EntityField[];\r\n  calendarConfig?: CalendarConfig;\r\n  onEdit: (record: EntityRecord) => void;\r\n  onDelete: (record: EntityRecord) => void;\r\n  onTogglePublish: (record: EntityRecord) => void;\r\n}\r\n\r\nexport const CalendarView = ({ records, fields, calendarConfig, onEdit, onDelete, onTogglePublish }: CalendarViewProps) => {\r\n  const [currentDate, setCurrentDate] = useState(new Date());\r\n\r\n  const getFieldValue = (record: EntityRecord, fieldId: string) => {\r\n    const field = fields.find(f => f.id === fieldId);\r\n    if (!field) return null;\r\n    return record.data[field.name];\r\n  };\r\n\r\n  const dateField = fields.find(f => f.id === calendarConfig?.dateField);\r\n  const titleField = fields.find(f => f.id === calendarConfig?.titleField) || fields[0];\r\n\r\n  const recordsByDate = useMemo(() => {\r\n    if (!dateField) return {};\r\n\r\n    const map: Record<string, EntityRecord[]> = {};\r\n    records.forEach(record => {\r\n      const date = record.data[dateField.name];\r\n      if (date) {\r\n        const dateKey = new Date(date).toDateString();\r\n        if (!map[dateKey]) map[dateKey] = [];\r\n        map[dateKey].push(record);\r\n      }\r\n    });\r\n    return map;\r\n  }, [records, dateField]);\r\n\r\n  const getDaysInMonth = (date: Date) => {\r\n    const year = date.getFullYear();\r\n    const month = date.getMonth();\r\n    const firstDay = new Date(year, month, 1);\r\n    const lastDay = new Date(year, month + 1, 0);\r\n    const daysInMonth = lastDay.getDate();\r\n    const startingDayOfWeek = firstDay.getDay();\r\n\r\n    return { daysInMonth, startingDayOfWeek, year, month };\r\n  };\r\n\r\n  const { daysInMonth, startingDayOfWeek, year, month } = getDaysInMonth(currentDate);\r\n\r\n  const previousMonth = () => {\r\n    setCurrentDate(new Date(year, month - 1, 1));\r\n  };\r\n\r\n  const nextMonth = () => {\r\n    setCurrentDate(new Date(year, month + 1, 1));\r\n  };\r\n\r\n  if (!calendarConfig || !dateField) {\r\n    return (\r\n      <div className=\"text-center py-12 text-muted-foreground\">\r\n        Please configure the Calendar view by selecting a date field in View Options.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n    \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n  const dayNames = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\n\r\n  const days = [];\r\n  for (let i = 0; i < startingDayOfWeek; i++) {\r\n    days.push(<div key={`empty-${i}`} className=\"min-h-32 p-2 border bg-muted/30\" />);\r\n  }\r\n\r\n  for (let day = 1; day <= daysInMonth; day++) {\r\n    const date = new Date(year, month, day);\r\n    const dateKey = date.toDateString();\r\n    const dayRecords = recordsByDate[dateKey] || [];\r\n\r\n    days.push(\r\n      <div key={day} className=\"min-h-32 p-2 border bg-card hover:bg-accent/50 transition-colors\">\r\n        <div className=\"font-medium text-sm mb-2\">{day}</div>\r\n        <div className=\"space-y-1\">\r\n          {dayRecords.slice(0, 3).map(record => {\r\n            const title = getFieldValue(record, titleField.id) || 'Untitled';\r\n            return (\r\n              <div\r\n                key={record.id}\r\n                className=\"text-xs p-1 rounded bg-primary/10 border border-primary/20 cursor-pointer hover:bg-primary/20 transition-colors truncate\"\r\n                onClick={() => onEdit(record)}\r\n                title={title}\r\n              >\r\n                {title}\r\n              </div>\r\n            );\r\n          })}\r\n          {dayRecords.length > 3 && (\r\n            <div className=\"text-xs text-muted-foreground\">\r\n              +{dayRecords.length - 3} more\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <h2 className=\"text-2xl font-bold\">\r\n          {monthNames[month]} {year}\r\n        </h2>\r\n        <div className=\"flex gap-2\">\r\n          <Button variant=\"outline\" size=\"sm\" onClick={previousMonth}>\r\n            <ChevronLeft className=\"h-4 w-4\" />\r\n          </Button>\r\n          <Button variant=\"outline\" size=\"sm\" onClick={nextMonth}>\r\n            <ChevronRight className=\"h-4 w-4\" />\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-7 gap-0 border rounded-lg overflow-hidden\">\r\n        {dayNames.map(day => (\r\n          <div key={day} className=\"p-2 text-center font-semibold bg-muted border-b\">\r\n            {day}\r\n          </div>\r\n        ))}\r\n        {days}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3895, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/entities/views/GanttView.tsx"],"sourcesContent":["import { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Edit, Eye, EyeOff, Trash2 } from \"lucide-react\";\r\nimport { format, differenceInDays, startOfMonth, endOfMonth, eachMonthOfInterval, isWithinInterval, parseISO, addDays } from \"date-fns\";\r\nimport { useMemo, useState, useCallback } from \"react\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { E_FieldDataType } from \"@/components/entities/FieldEditor\";\r\nimport { toast } from \"sonner\";\r\n\r\n\r\n\r\nimport { EntityRecord, EntityField } from \"@/types/entity\";\r\n\r\ninterface GanttConfig {\r\n  startDateField: string;\r\n  endDateField: string;\r\n  titleField: string;\r\n  groupByField?: string;\r\n  colorByField?: string;\r\n  dependenciesField?: string;\r\n  progressField?: string;\r\n}\r\n\r\ninterface GanttViewProps {\r\n  records: EntityRecord[];\r\n  fields: EntityField[];\r\n  ganttConfig?: GanttConfig;\r\n  entityId: string;\r\n  onEdit: (record: EntityRecord) => void;\r\n  onDelete: (record: EntityRecord) => void;\r\n  onTogglePublish: (record: EntityRecord) => void;\r\n}\r\n\r\nconst STATUS_COLORS: Record<string, string> = {\r\n  'planned': 'bg-blue-500',\r\n  'in progress': 'bg-yellow-500',\r\n  'completed': 'bg-green-500',\r\n  'on hold': 'bg-gray-500',\r\n  'cancelled': 'bg-red-500',\r\n};\r\n\r\nconst PRIORITY_COLORS: Record<string, string> = {\r\n  'low': 'bg-blue-400',\r\n  'medium': 'bg-yellow-500',\r\n  'high': 'bg-orange-500',\r\n  'critical': 'bg-red-600',\r\n};\r\n\r\nexport const GanttView = ({\r\n  records,\r\n  fields,\r\n  ganttConfig,\r\n  entityId,\r\n  onEdit,\r\n  onDelete,\r\n  onTogglePublish,\r\n}: GanttViewProps) => {\r\n  const [draggingRecord, setDraggingRecord] = useState<{ id: string; startX: number; initialLeft: number } | null>(null);\r\n  const [dragOffset, setDragOffset] = useState(0);\r\n  const getFieldValue = (record: EntityRecord, fieldId: string) => {\r\n    const field = fields.find(f => f.id === fieldId);\r\n    if (!field) return '';\r\n    return record.data[field.name] || '';\r\n  };\r\n\r\n  const ganttData = useMemo(() => {\r\n    if (!ganttConfig?.startDateField || !ganttConfig?.endDateField || !ganttConfig?.titleField) {\r\n      return null;\r\n    }\r\n\r\n    const validRecords = records.filter(record => {\r\n      const startDate = getFieldValue(record, ganttConfig.startDateField);\r\n      const endDate = getFieldValue(record, ganttConfig.endDateField);\r\n      return startDate && endDate;\r\n    });\r\n\r\n    if (validRecords.length === 0) return null;\r\n\r\n    // Parse dates and find timeline range\r\n    const parsedRecords = validRecords.map(record => {\r\n      const startDate = parseISO(getFieldValue(record, ganttConfig.startDateField));\r\n      const endDate = parseISO(getFieldValue(record, ganttConfig.endDateField));\r\n      return { record, startDate, endDate };\r\n    });\r\n\r\n    const allDates = parsedRecords.flatMap(r => [r.startDate, r.endDate]);\r\n    const minDate = new Date(Math.min(...allDates.map(d => d.getTime())));\r\n    const maxDate = new Date(Math.max(...allDates.map(d => d.getTime())));\r\n\r\n    const months = eachMonthOfInterval({ start: startOfMonth(minDate), end: endOfMonth(maxDate) });\r\n    const totalDays = differenceInDays(endOfMonth(maxDate), startOfMonth(minDate));\r\n\r\n    // Group records if groupByField is specified\r\n    const grouped: Record<string, typeof parsedRecords> = {};\r\n    if (ganttConfig.groupByField) {\r\n      parsedRecords.forEach(item => {\r\n        const groupValue = getFieldValue(item.record, ganttConfig.groupByField!) || 'Ungrouped';\r\n        if (!grouped[groupValue]) grouped[groupValue] = [];\r\n        grouped[groupValue].push(item);\r\n      });\r\n    } else {\r\n      grouped['All Tasks'] = parsedRecords;\r\n    }\r\n\r\n    return {\r\n      grouped,\r\n      months,\r\n      minDate: startOfMonth(minDate),\r\n      maxDate: endOfMonth(maxDate),\r\n      totalDays,\r\n    };\r\n  }, [records, fields, ganttConfig]);\r\n\r\n  if (!ganttConfig?.startDateField || !ganttConfig?.endDateField || !ganttConfig?.titleField) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64 text-muted-foreground\">\r\n        <div className=\"text-center\">\r\n          <p className=\"text-lg font-medium\">Gantt view not configured</p>\r\n          <p className=\"text-sm mt-2\">Please configure start date, end date, and title fields in View Options</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!ganttData) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64 text-muted-foreground\">\r\n        <div className=\"text-center\">\r\n          <p className=\"text-lg font-medium\">No records with valid dates</p>\r\n          <p className=\"text-sm mt-2\">Add records with both start and end dates to see the Gantt chart</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const getBarColor = (record: EntityRecord) => {\r\n    if (!ganttConfig.colorByField) return 'bg-primary';\r\n\r\n    const colorValue = getFieldValue(record, ganttConfig.colorByField).toLowerCase();\r\n    return STATUS_COLORS[colorValue] || PRIORITY_COLORS[colorValue] || 'bg-primary';\r\n  };\r\n\r\n  const getBarPosition = (startDate: Date, endDate: Date) => {\r\n    const daysFromStart = differenceInDays(startDate, ganttData.minDate);\r\n    const duration = differenceInDays(endDate, startDate) + 1;\r\n    const left = (daysFromStart / ganttData.totalDays) * 100;\r\n    const width = (duration / ganttData.totalDays) * 100;\r\n    return { left: `${left}%`, width: `${width}%` };\r\n  };\r\n\r\n  const handleBarMouseDown = useCallback((e: React.MouseEvent, record: EntityRecord, currentLeft: number) => {\r\n    e.preventDefault();\r\n    setDraggingRecord({ id: record.id, startX: e.clientX, initialLeft: currentLeft });\r\n  }, []);\r\n\r\n  const handleMouseMove = useCallback((e: MouseEvent) => {\r\n    if (!draggingRecord || !ganttData) return;\r\n\r\n    const deltaX = e.clientX - draggingRecord.startX;\r\n    setDragOffset(deltaX);\r\n  }, [draggingRecord, ganttData]);\r\n\r\n  const handleMouseUp = useCallback(async () => {\r\n    if (!draggingRecord || !ganttData || !ganttConfig) {\r\n      setDraggingRecord(null);\r\n      setDragOffset(0);\r\n      return;\r\n    }\r\n\r\n    const record = records.find(r => r.id === draggingRecord.id);\r\n    if (!record) {\r\n      setDraggingRecord(null);\r\n      setDragOffset(0);\r\n      return;\r\n    }\r\n\r\n    // Calculate new dates based on drag offset\r\n    const containerWidth = document.querySelector('.gantt-timeline')?.clientWidth || 1000;\r\n    const pixelsPerDay = containerWidth / ganttData.totalDays;\r\n    const daysMoved = Math.round(dragOffset / pixelsPerDay);\r\n\r\n    if (daysMoved !== 0) {\r\n      const startDateField = fields.find(f => f.id === ganttConfig.startDateField);\r\n      const endDateField = fields.find(f => f.id === ganttConfig.endDateField);\r\n\r\n      if (startDateField && endDateField) {\r\n        const oldStartDate = parseISO(record.data[startDateField.name]);\r\n        const oldEndDate = parseISO(record.data[endDateField.name]);\r\n\r\n        const newStartDate = addDays(oldStartDate, daysMoved);\r\n        const newEndDate = addDays(oldEndDate, daysMoved);\r\n\r\n        // Update the record in the database\r\n        const updatedData = {\r\n          ...record.data,\r\n          [startDateField.name]: format(newStartDate, 'yyyy-MM-dd'),\r\n          [endDateField.name]: format(newEndDate, 'yyyy-MM-dd'),\r\n        };\r\n\r\n        const { error } = await supabase\r\n          .from('entity_records')\r\n          .update({ data: updatedData })\r\n          .eq('id', record.id);\r\n\r\n        if (error) {\r\n          toast.error('Failed to update task dates');\r\n          console.error(error);\r\n        } else {\r\n          toast.success('Task dates updated');\r\n        }\r\n      }\r\n    }\r\n\r\n    setDraggingRecord(null);\r\n    setDragOffset(0);\r\n  }, [draggingRecord, dragOffset, ganttData, ganttConfig, records, fields]);\r\n\r\n  // Attach mouse event listeners\r\n  useState(() => {\r\n    if (draggingRecord) {\r\n      document.addEventListener('mousemove', handleMouseMove);\r\n      document.addEventListener('mouseup', handleMouseUp);\r\n      return () => {\r\n        document.removeEventListener('mousemove', handleMouseMove);\r\n        document.removeEventListener('mouseup', handleMouseUp);\r\n      };\r\n    }\r\n  });\r\n\r\n  const getDependencies = useCallback((record: EntityRecord): string[] => {\r\n    if (!ganttConfig?.dependenciesField) return [];\r\n    const field = fields.find(f => f.id === ganttConfig.dependenciesField);\r\n    if (!field) return [];\r\n\r\n    const deps = record.data[field.name];\r\n    if (!deps) return [];\r\n    if (Array.isArray(deps)) return deps;\r\n    if (typeof deps === 'string') {\r\n      try {\r\n        const parsed = JSON.parse(deps);\r\n        return Array.isArray(parsed) ? parsed : [];\r\n      } catch {\r\n        return deps.split(',').map(d => d.trim()).filter(Boolean);\r\n      }\r\n    }\r\n    return [];\r\n  }, [ganttConfig, fields]);\r\n\r\n  const getProgress = useCallback((record: EntityRecord): number => {\r\n    if (!ganttConfig?.progressField) return 0;\r\n    const field = fields.find(f => f.id === ganttConfig.progressField);\r\n    if (!field) return 0;\r\n\r\n    const progress = record.data[field.name];\r\n    const num = Number(progress);\r\n    return isNaN(num) ? 0 : Math.max(0, Math.min(100, num));\r\n  }, [ganttConfig, fields]);\r\n\r\n  const recordPositions = useMemo(() => {\r\n    if (!ganttData) return new Map();\r\n\r\n    const positions = new Map<string, { top: number; left: number; width: number }>();\r\n    let currentTop = 0;\r\n    const rowHeight = 48; // 32px bar + 16px gap\r\n\r\n    Object.entries(ganttData.grouped).forEach(([groupName, items]) => {\r\n      if (ganttConfig?.groupByField) {\r\n        currentTop += 40; // Group header height\r\n      }\r\n\r\n      items.forEach(({ record, startDate, endDate }) => {\r\n        const position = getBarPosition(startDate, endDate);\r\n        const leftPercent = parseFloat(position.left);\r\n        const widthPercent = parseFloat(position.width);\r\n\r\n        positions.set(record.id, {\r\n          top: currentTop,\r\n          left: leftPercent,\r\n          width: widthPercent,\r\n        });\r\n\r\n        currentTop += rowHeight;\r\n      });\r\n    });\r\n\r\n    return positions;\r\n  }, [ganttData, ganttConfig, getBarPosition]);\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"overflow-x-auto border rounded-lg relative\">\r\n        <div className=\"min-w-[800px] gantt-timeline\">{ganttData && ganttConfig?.dependenciesField && (\r\n          <svg\r\n            className=\"absolute inset-0 pointer-events-none z-0\"\r\n            style={{ width: '100%', height: '100%' }}\r\n          >\r\n            {Object.entries(ganttData.grouped).flatMap(([, items]) =>\r\n              items.flatMap(({ record }) => {\r\n                const deps = getDependencies(record);\r\n                const fromPos = recordPositions.get(record.id);\r\n                if (!fromPos || deps.length === 0) return [];\r\n\r\n                return deps.map(depId => {\r\n                  const toPos = recordPositions.get(depId);\r\n                  if (!toPos) return null;\r\n\r\n                  const x1 = fromPos.left + '%';\r\n                  const y1 = fromPos.top + 16;\r\n                  const x2 = toPos.left + toPos.width + '%';\r\n                  const y2 = toPos.top + 16;\r\n\r\n                  return (\r\n                    <g key={`${record.id}-${depId}`}>\r\n                      <defs>\r\n                        <marker\r\n                          id={`arrowhead-${record.id}-${depId}`}\r\n                          markerWidth=\"10\"\r\n                          markerHeight=\"10\"\r\n                          refX=\"9\"\r\n                          refY=\"3\"\r\n                          orient=\"auto\"\r\n                        >\r\n                          <polygon points=\"0 0, 10 3, 0 6\" fill=\"hsl(var(--muted-foreground))\" />\r\n                        </marker>\r\n                      </defs>\r\n                      <line\r\n                        x1={x1}\r\n                        y1={y1}\r\n                        x2={x2}\r\n                        y2={y2}\r\n                        stroke=\"hsl(var(--muted-foreground))\"\r\n                        strokeWidth=\"2\"\r\n                        markerEnd={`url(#arrowhead-${record.id}-${depId})`}\r\n                        strokeDasharray=\"4\"\r\n                      />\r\n                    </g>\r\n                  );\r\n                }).filter(Boolean);\r\n              })\r\n            )}\r\n          </svg>\r\n        )}\r\n          {/* Timeline Header */}\r\n          <div className=\"bg-muted/50 border-b sticky top-0 z-10\">\r\n            <div className=\"flex\">\r\n              <div className=\"w-64 p-3 border-r font-semibold\">Task</div>\r\n              <div className=\"flex-1 flex\">\r\n                {ganttData.months.map((month, idx) => {\r\n                  const monthStart = startOfMonth(month);\r\n                  const monthEnd = endOfMonth(month);\r\n                  const daysInMonth = differenceInDays(monthEnd, monthStart) + 1;\r\n                  const width = (daysInMonth / ganttData.totalDays) * 100;\r\n\r\n                  return (\r\n                    <div\r\n                      key={idx}\r\n                      className=\"border-r px-2 py-3 text-center text-sm font-medium\"\r\n                      style={{ width: `${width}%` }}\r\n                    >\r\n                      {format(month, 'MMM yyyy')}\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Gantt Rows */}\r\n          <div className=\"divide-y\">\r\n            {Object.entries(ganttData.grouped).map(([groupName, items]) => (\r\n              <div key={groupName}>\r\n                {ganttConfig.groupByField && (\r\n                  <div className=\"bg-muted/30 px-3 py-2 font-semibold text-sm border-b\">\r\n                    {groupName}\r\n                  </div>\r\n                )}\r\n                {items.map(({ record, startDate, endDate }) => {\r\n                  const title = getFieldValue(record, ganttConfig.titleField);\r\n                  let position = getBarPosition(startDate, endDate);\r\n                  const barColor = getBarColor(record);\r\n                  const progress = getProgress(record);\r\n\r\n                  // Apply drag offset if this record is being dragged\r\n                  if (draggingRecord?.id === record.id && ganttData) {\r\n                    const containerWidth = 1000; // approximate\r\n                    const pixelsPerDay = containerWidth / ganttData.totalDays;\r\n                    const daysMoved = dragOffset / pixelsPerDay;\r\n                    const percentMoved = (daysMoved / ganttData.totalDays) * 100;\r\n\r\n                    const currentLeft = parseFloat(position.left);\r\n                    position = {\r\n                      ...position,\r\n                      left: `${currentLeft + percentMoved}%`\r\n                    };\r\n                  }\r\n\r\n                  return (\r\n                    <div key={record.id} className=\"flex hover:bg-muted/30 transition-colors group\">\r\n                      <div className=\"w-64 p-3 border-r flex items-center justify-between\">\r\n                        <div className=\"flex-1 min-w-0\">\r\n                          <div className=\"font-medium truncate\">{title}</div>\r\n                          <Badge\r\n                            variant={record.is_published ? \"default\" : \"secondary\"}\r\n                            className=\"mt-1 text-xs\"\r\n                          >\r\n                            {record.is_published ? \"Published\" : \"Draft\"}\r\n                          </Badge>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex-1 relative p-3 z-10\">\r\n                        {/* Timeline grid lines */}\r\n                        <div className=\"absolute inset-0 flex\">\r\n                          {ganttData.months.map((month, idx) => {\r\n                            const monthStart = startOfMonth(month);\r\n                            const monthEnd = endOfMonth(month);\r\n                            const daysInMonth = differenceInDays(monthEnd, monthStart) + 1;\r\n                            const width = (daysInMonth / ganttData.totalDays) * 100;\r\n\r\n                            return (\r\n                              <div\r\n                                key={idx}\r\n                                className=\"border-r border-border/30\"\r\n                                style={{ width: `${width}%` }}\r\n                              />\r\n                            );\r\n                          })}\r\n                        </div>\r\n\r\n                        {/* Gantt Bar */}\r\n                        <div\r\n                          className=\"absolute top-1/2 -translate-y-1/2 h-8 cursor-move select-none\"\r\n                          style={position}\r\n                          onMouseDown={(e) => handleBarMouseDown(e, record, parseFloat(position.left))}\r\n                        >\r\n                          <div\r\n                            className={`h-full rounded-md ${barColor} border-2 border-background shadow-sm hover:shadow-md transition-shadow relative flex items-center px-2 text-white text-xs font-medium overflow-hidden`}\r\n                            title={`${title}\\n${format(startDate, 'MMM d')} - ${format(endDate, 'MMM d, yyyy')}${progress > 0 ? `\\n${progress}% complete` : ''}`}\r\n                          >\r\n                            {/* Progress indicator */}\r\n                            {progress > 0 && (\r\n                              <div\r\n                                className=\"absolute inset-0 bg-white/30 rounded-l-md transition-all\"\r\n                                style={{ width: `${progress}%` }}\r\n                              />\r\n                            )}\r\n                            <span className=\"truncate relative z-10\">{title}</span>\r\n                            {progress > 0 && (\r\n                              <span className=\"ml-auto relative z-10 text-[10px] font-bold\">{progress}%</span>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* Action Buttons */}\r\n                        <div className=\"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1 bg-background/95 p-1 rounded-md shadow-lg border\">\r\n                          <Button\r\n                            variant=\"ghost\"\r\n                            size=\"sm\"\r\n                            onClick={() => onEdit(record)}\r\n                            className=\"h-7 px-2\"\r\n                          >\r\n                            <Edit className=\"h-3 w-3\" />\r\n                          </Button>\r\n                          <Button\r\n                            variant=\"ghost\"\r\n                            size=\"sm\"\r\n                            onClick={() => onTogglePublish(record)}\r\n                            className=\"h-7 px-2\"\r\n                          >\r\n                            {record.is_published ? (\r\n                              <EyeOff className=\"h-3 w-3\" />\r\n                            ) : (\r\n                              <Eye className=\"h-3 w-3\" />\r\n                            )}\r\n                          </Button>\r\n                          <Button\r\n                            variant=\"ghost\"\r\n                            size=\"sm\"\r\n                            onClick={() => onDelete(record)}\r\n                            className=\"h-7 px-2 text-destructive hover:text-destructive\"\r\n                          >\r\n                            <Trash2 className=\"h-3 w-3\" />\r\n                          </Button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4650, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/datasource/adapters/EntityAdapter.ts"],"sourcesContent":["import { supabase } from \"@/integrations/supabase/client\";\r\nimport { getEntity, getFields } from \"@/lib/schema-service\";\r\nimport { E_FieldDataType } from \"@/components/entities/FieldEditor\";\r\n\r\nexport interface FieldInfo {\r\n  id: string;\r\n  name: string;\r\n  display_name: string;\r\n  field_type: E_FieldDataType;\r\n}\r\n\r\nexport interface DataRecord {\r\n  id: string;\r\n  data: Record<string, any>;\r\n  is_published?: boolean;\r\n  created_at?: string;\r\n}\r\n\r\nexport interface DataSourceResult {\r\n  data: DataRecord[];\r\n  fields: FieldInfo[];\r\n}\r\n\r\nexport const fetchEntityData = async (entityId: string): Promise<DataSourceResult> => {\r\n  // Load schema from JSON instead of Supabase\r\n  const entityData = await getEntity(entityId);\r\n  const fieldsData = await getFields(entityId);\r\n\r\n  if (!entityData) {\r\n    throw new Error(`Failed to load entity: Entity not found in schema`);\r\n  }\r\n\r\n  // Load actual records from Supabase\r\n  const { data: recordsRes, error: recordsError } = await supabase\r\n    .from(\"entity_records\")\r\n    .select(\"*\")\r\n    .eq(\"entity_id\", entityId)\r\n    .eq(\"is_published\", true)\r\n    .order(\"created_at\", { ascending: false });\r\n\r\n  if (recordsError) {\r\n    throw new Error(`Failed to load records: ${recordsError.message}`);\r\n  }\r\n\r\n  const fields = (fieldsData || []).map(field => ({\r\n    id: field.id,\r\n    name: field.name,\r\n    display_name: field.display_name,\r\n    field_type: field.field_type as E_FieldDataType,\r\n  }));\r\n\r\n  const data = (recordsRes || []).map(record => ({\r\n    id: record.id,\r\n    data: record.data as Record<string, any>,\r\n    is_published: record.is_published || undefined,\r\n    created_at: record.created_at || undefined,\r\n  }));\r\n\r\n  return { data, fields };\r\n};\r\n\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAsBO,MAAM,kBAAkB,OAAO;IACpC,4CAA4C;IAC5C,MAAM,aAAa,MAAM,IAAA,+IAAS,EAAC;IACnC,MAAM,aAAa,MAAM,IAAA,+IAAS,EAAC;IAEnC,IAAI,CAAC,YAAY;QACf,MAAM,IAAI,MAAM,CAAC,iDAAiD,CAAC;IACrE;IAEA,oCAAoC;IACpC,MAAM,EAAE,MAAM,UAAU,EAAE,OAAO,YAAY,EAAE,GAAG,MAAM,wJAAQ,CAC7D,IAAI,CAAC,kBACL,MAAM,CAAC,KACP,EAAE,CAAC,aAAa,UAChB,EAAE,CAAC,gBAAgB,MACnB,KAAK,CAAC,cAAc;QAAE,WAAW;IAAM;IAE1C,IAAI,cAAc;QAChB,MAAM,IAAI,MAAM,CAAC,wBAAwB,EAAE,aAAa,OAAO,EAAE;IACnE;IAEA,MAAM,SAAS,CAAC,cAAc,EAAE,EAAE,GAAG,CAAC,CAAA,QAAS,CAAC;YAC9C,IAAI,MAAM,EAAE;YACZ,MAAM,MAAM,IAAI;YAChB,cAAc,MAAM,YAAY;YAChC,YAAY,MAAM,UAAU;QAC9B,CAAC;IAED,MAAM,OAAO,CAAC,cAAc,EAAE,EAAE,GAAG,CAAC,CAAA,SAAU,CAAC;YAC7C,IAAI,OAAO,EAAE;YACb,MAAM,OAAO,IAAI;YACjB,cAAc,OAAO,YAAY,IAAI;YACrC,YAAY,OAAO,UAAU,IAAI;QACnC,CAAC;IAED,OAAO;QAAE;QAAM;IAAO;AACxB"}},
    {"offset": {"line": 4696, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/datasource/adapters/QueryAdapter.ts"],"sourcesContent":["import { supabase } from \"@/integrations/supabase/client\";\r\nimport type { FieldInfo, DataRecord, DataSourceResult } from \"./EntityAdapter\";\r\nimport { E_FieldDataType } from \"@/components/entities/FieldEditor\";\r\n\r\nexport const fetchQueryData = async (queryId: string): Promise<DataSourceResult> => {\r\n  // Execute query via edge function\r\n  const { data, error: funcError } = await supabase.functions.invoke('execute-query', {\r\n    body: { queryId }\r\n  });\r\n\r\n  if (funcError) {\r\n    throw new Error(`Failed to execute query: ${funcError.message}`);\r\n  }\r\n\r\n  if (!data.success) {\r\n    throw new Error(data.error || \"Failed to execute query\");\r\n  }\r\n\r\n  const results = data.data || [];\r\n  const settings = data.settings || {};\r\n\r\n  // Extract fields from first result or from query settings\r\n  let fields: FieldInfo[] = [];\r\n\r\n  if (results.length > 0) {\r\n    // Infer fields from result structure\r\n    const firstResult = results[0];\r\n    fields = Object.keys(firstResult).map((key, index) => ({\r\n      id: `field-${index}`,\r\n      name: key,\r\n      display_name: key.charAt(0).toUpperCase() + key.slice(1).replace(/_/g, ' '),\r\n      field_type: inferFieldType(firstResult[key]),\r\n    }));\r\n  } else if (settings.selected_fields) {\r\n    // Use fields from query settings if available\r\n    fields = settings.selected_fields.map((field: any, index: number) => ({\r\n      id: `field-${index}`,\r\n      name: field.name || field.field_name || `field_${index}`,\r\n      display_name: field.display_name || field.name || field.field_name || `Field ${index + 1}`,\r\n      field_type: inferFieldType(null),\r\n    }));\r\n  }\r\n\r\n  // Transform results to DataRecord format\r\n  const dataRecords: DataRecord[] = results.map((row: any, index: number) => ({\r\n    id: row.id || `record-${index}`,\r\n    data: row,\r\n    is_published: true,\r\n    created_at: row.created_at || new Date().toISOString(),\r\n  }));\r\n\r\n  return { data: dataRecords, fields };\r\n};\r\n\r\nfunction inferFieldType(value: any): E_FieldDataType {\r\n  if (value === null || value === undefined) return E_FieldDataType.String;\r\n\r\n  if (typeof value === 'boolean') return E_FieldDataType.Boolean;\r\n  if (typeof value === 'number') {\r\n    return Number.isInteger(value) ? E_FieldDataType.Interger : E_FieldDataType.Decimal;\r\n  }\r\n  if (typeof value === 'string') {\r\n    // Check if it's a date\r\n    if (/^\\d{4}-\\d{2}-\\d{2}/.test(value) || !isNaN(Date.parse(value))) {\r\n      return E_FieldDataType.Date;\r\n    }\r\n    // Check if it's a URL\r\n    if (/^https?:\\/\\//.test(value)) {\r\n      // Check if it's an image URL\r\n      if (/\\.(jpg|jpeg|png|gif|webp|svg)$/i.test(value)) {\r\n        return E_FieldDataType.Image;\r\n      }\r\n      return E_FieldDataType.String;\r\n    }\r\n    // Check if it's long text\r\n    if (value.length > 100) {\r\n      return E_FieldDataType.TextArea;\r\n    }\r\n    return E_FieldDataType.String;\r\n  }\r\n\r\n  return E_FieldDataType.String;\r\n}\r\n\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;AAEO,MAAM,iBAAiB,OAAO;IACnC,kCAAkC;IAClC,MAAM,EAAE,IAAI,EAAE,OAAO,SAAS,EAAE,GAAG,MAAM,wJAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,iBAAiB;QAClF,MAAM;YAAE;QAAQ;IAClB;IAEA,IAAI,WAAW;QACb,MAAM,IAAI,MAAM,CAAC,yBAAyB,EAAE,UAAU,OAAO,EAAE;IACjE;IAEA,IAAI,CAAC,KAAK,OAAO,EAAE;QACjB,MAAM,IAAI,MAAM,KAAK,KAAK,IAAI;IAChC;IAEA,MAAM,UAAU,KAAK,IAAI,IAAI,EAAE;IAC/B,MAAM,WAAW,KAAK,QAAQ,IAAI,CAAC;IAEnC,0DAA0D;IAC1D,IAAI,SAAsB,EAAE;IAE5B,IAAI,QAAQ,MAAM,GAAG,GAAG;QACtB,qCAAqC;QACrC,MAAM,cAAc,OAAO,CAAC,EAAE;QAC9B,SAAS,OAAO,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC,KAAK,QAAU,CAAC;gBACrD,IAAI,CAAC,MAAM,EAAE,OAAO;gBACpB,MAAM;gBACN,cAAc,IAAI,MAAM,CAAC,GAAG,WAAW,KAAK,IAAI,KAAK,CAAC,GAAG,OAAO,CAAC,MAAM;gBACvE,YAAY,eAAe,WAAW,CAAC,IAAI;YAC7C,CAAC;IACH,OAAO,IAAI,SAAS,eAAe,EAAE;QACnC,8CAA8C;QAC9C,SAAS,SAAS,eAAe,CAAC,GAAG,CAAC,CAAC,OAAY,QAAkB,CAAC;gBACpE,IAAI,CAAC,MAAM,EAAE,OAAO;gBACpB,MAAM,MAAM,IAAI,IAAI,MAAM,UAAU,IAAI,CAAC,MAAM,EAAE,OAAO;gBACxD,cAAc,MAAM,YAAY,IAAI,MAAM,IAAI,IAAI,MAAM,UAAU,IAAI,CAAC,MAAM,EAAE,QAAQ,GAAG;gBAC1F,YAAY,eAAe;YAC7B,CAAC;IACH;IAEA,yCAAyC;IACzC,MAAM,cAA4B,QAAQ,GAAG,CAAC,CAAC,KAAU,QAAkB,CAAC;YAC1E,IAAI,IAAI,EAAE,IAAI,CAAC,OAAO,EAAE,OAAO;YAC/B,MAAM;YACN,cAAc;YACd,YAAY,IAAI,UAAU,IAAI,IAAI,OAAO,WAAW;QACtD,CAAC;IAED,OAAO;QAAE,MAAM;QAAa;IAAO;AACrC;AAEA,SAAS,eAAe,KAAU;IAChC,IAAI,UAAU,QAAQ,UAAU,WAAW,OAAO,mKAAe,CAAC,MAAM;IAExE,IAAI,OAAO,UAAU,WAAW,OAAO,mKAAe,CAAC,OAAO;IAC9D,IAAI,OAAO,UAAU,UAAU;QAC7B,OAAO,OAAO,SAAS,CAAC,SAAS,mKAAe,CAAC,QAAQ,GAAG,mKAAe,CAAC,OAAO;IACrF;IACA,IAAI,OAAO,UAAU,UAAU;QAC7B,uBAAuB;QACvB,IAAI,qBAAqB,IAAI,CAAC,UAAU,CAAC,MAAM,KAAK,KAAK,CAAC,SAAS;YACjE,OAAO,mKAAe,CAAC,IAAI;QAC7B;QACA,sBAAsB;QACtB,IAAI,eAAe,IAAI,CAAC,QAAQ;YAC9B,6BAA6B;YAC7B,IAAI,kCAAkC,IAAI,CAAC,QAAQ;gBACjD,OAAO,mKAAe,CAAC,KAAK;YAC9B;YACA,OAAO,mKAAe,CAAC,MAAM;QAC/B;QACA,0BAA0B;QAC1B,IAAI,MAAM,MAAM,GAAG,KAAK;YACtB,OAAO,mKAAe,CAAC,QAAQ;QACjC;QACA,OAAO,mKAAe,CAAC,MAAM;IAC/B;IAEA,OAAO,mKAAe,CAAC,MAAM;AAC/B"}},
    {"offset": {"line": 4785, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/datasource/adapters/ApiAdapter.ts"],"sourcesContent":["import { supabase } from \"@/integrations/supabase/client\";\r\nimport type { FieldInfo, DataRecord, DataSourceResult } from \"./EntityAdapter\";\r\nimport { E_FieldDataType } from \"@/components/entities/FieldEditor\";\r\n\r\nexport const fetchApiData = async (requestId: string): Promise<DataSourceResult> => {\r\n  // Execute API request via edge function\r\n  const { data, error: funcError } = await supabase.functions.invoke('execute-api-request', {\r\n    body: { requestId }\r\n  });\r\n\r\n  if (funcError) {\r\n    throw new Error(`Failed to execute API request: ${funcError.message}`);\r\n  }\r\n\r\n  if (!data.success) {\r\n    throw new Error(data.error || \"Failed to execute API request\");\r\n  }\r\n\r\n  // Parse response body\r\n  let responseData: any = data.body;\r\n\r\n  // Handle different response formats\r\n  if (typeof responseData === 'string') {\r\n    try {\r\n      responseData = JSON.parse(responseData);\r\n    } catch {\r\n      throw new Error(\"API response is not valid JSON\");\r\n    }\r\n  }\r\n\r\n  // Handle different response structures\r\n  let records: any[] = [];\r\n\r\n  if (Array.isArray(responseData)) {\r\n    records = responseData;\r\n  } else if (responseData && typeof responseData === 'object') {\r\n    // Check common patterns\r\n    if (Array.isArray(responseData.data)) {\r\n      records = responseData.data;\r\n    } else if (Array.isArray(responseData.results)) {\r\n      records = responseData.results;\r\n    } else if (Array.isArray(responseData.items)) {\r\n      records = responseData.items;\r\n    } else if (Array.isArray(responseData.records)) {\r\n      records = responseData.records;\r\n    } else {\r\n      // Single object - wrap in array\r\n      records = [responseData];\r\n    }\r\n  }\r\n\r\n  // Extract fields from first record\r\n  let fields: FieldInfo[] = [];\r\n\r\n  if (records.length > 0) {\r\n    const firstRecord = records[0];\r\n    fields = Object.keys(firstRecord).map((key, index) => ({\r\n      id: `field-${index}`,\r\n      name: key,\r\n      display_name: key.charAt(0).toUpperCase() + key.slice(1).replace(/_/g, ' ').replace(/([A-Z])/g, ' $1').trim(),\r\n      field_type: inferFieldType(firstRecord[key]),\r\n    }));\r\n  }\r\n\r\n  // Transform to DataRecord format\r\n  const dataRecords: DataRecord[] = records.map((record: any, index: number) => ({\r\n    id: record.id || record._id || `api-record-${index}`,\r\n    data: record,\r\n    is_published: true,\r\n    created_at: record.created_at || record.createdAt || new Date().toISOString(),\r\n  }));\r\n\r\n  return { data: dataRecords, fields };\r\n};\r\n\r\nfunction inferFieldType(value: any): E_FieldDataType {\r\n  if (value === null || value === undefined) return E_FieldDataType.String;\r\n\r\n  if (typeof value === 'boolean') return E_FieldDataType.Boolean;\r\n  if (typeof value === 'number') {\r\n    return Number.isInteger(value) ? E_FieldDataType.Interger : E_FieldDataType.Decimal;\r\n  }\r\n  if (typeof value === 'string') {\r\n    // Check if it's a date\r\n    if (/^\\d{4}-\\d{2}-\\d{2}/.test(value) || !isNaN(Date.parse(value))) {\r\n      return E_FieldDataType.Date;\r\n    }\r\n    // Check if it's a URL\r\n    if (/^https?:\\/\\//.test(value)) {\r\n      // Check if it's an image URL\r\n      if (/\\.(jpg|jpeg|png|gif|webp|svg)$/i.test(value)) {\r\n        return E_FieldDataType.Image;\r\n      }\r\n      return E_FieldDataType.String; // No specific URL type in enum, fallback to String or check if you want HTMLEditor\r\n    }\r\n\r\n    // Check if it's long text\r\n    if (value.length > 100) {\r\n      return E_FieldDataType.TextArea;\r\n    }\r\n    return E_FieldDataType.String;\r\n  }\r\n\r\n  return E_FieldDataType.String;\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4894, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/public/DatasourceRenderer.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect, useMemo } from \"react\";\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\r\nimport { CardView } from \"@/components/entities/views/CardView\";\r\nimport { KanbanView } from \"@/components/entities/views/KanbanView\";\r\nimport { GalleryView } from \"@/components/entities/views/GalleryView\";\r\nimport { ListView } from \"@/components/entities/views/ListView\";\r\nimport { TimelineView } from \"@/components/entities/views/TimelineView\";\r\nimport { CalendarView } from \"@/components/entities/views/CalendarView\";\r\nimport { GanttView } from \"@/components/entities/views/GanttView\";\r\nimport { fetchEntityData } from \"@/components/datasource/adapters/EntityAdapter\";\r\nimport { fetchQueryData } from \"@/components/datasource/adapters/QueryAdapter\";\r\nimport { fetchApiData } from \"@/components/datasource/adapters/ApiAdapter\";\r\nimport type { FieldInfo, DataRecord } from \"@/components/datasource/adapters/EntityAdapter\";\r\nimport { E_FieldDataType } from \"@/components/entities/FieldEditor\";\r\n\r\ninterface DatasourceRendererProps {\r\n  content?: {\r\n    dataSourceType?: 'entity' | 'query' | 'api';\r\n    entityId?: string;\r\n    queryId?: string;\r\n    apiRequestId?: string;\r\n    viewType?: 'table' | 'card' | 'kanban' | 'gallery' | 'list' | 'timeline' | 'calendar' | 'gantt';\r\n    viewOptions?: {\r\n      visibleColumns?: string[];\r\n      sortField?: string | null;\r\n      sortOrder?: 'asc' | 'desc';\r\n      filters?: Array<{ field: string; operator: string; value: string }>;\r\n      cardLayout?: any;\r\n      kanbanConfig?: any;\r\n      galleryConfig?: any;\r\n      listConfig?: any;\r\n      timelineConfig?: any;\r\n      calendarConfig?: any;\r\n      ganttConfig?: any;\r\n    };\r\n  };\r\n}\r\n\r\nimport { EntityRecord, EntityField } from \"@/types/entity\";\r\n\r\nexport const DatasourceRenderer = ({ content }: DatasourceRendererProps) => {\r\n  const [data, setData] = useState<DataRecord[]>([]);\r\n  const [fields, setFields] = useState<FieldInfo[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  // Handle content that might be a JSON string or nested object\r\n  let normalizedContent = content;\r\n  if (typeof content === 'string') {\r\n    try {\r\n      normalizedContent = JSON.parse(content);\r\n    } catch {\r\n      normalizedContent = {};\r\n    }\r\n  }\r\n\r\n  // Handle nested content structure (in case it was saved incorrectly)\r\n  if (normalizedContent && typeof normalizedContent === 'object' && 'content' in normalizedContent && Object.keys(normalizedContent).length === 1) {\r\n    normalizedContent = (normalizedContent as any).content;\r\n  }\r\n\r\n  // Provide default values if content is missing or incomplete\r\n  const safeContent = {\r\n    dataSourceType: normalizedContent?.dataSourceType || 'entity',\r\n    entityId: normalizedContent?.entityId,\r\n    queryId: normalizedContent?.queryId,\r\n    apiRequestId: normalizedContent?.apiRequestId,\r\n    viewType: normalizedContent?.viewType || 'table',\r\n    viewOptions: {\r\n      visibleColumns: normalizedContent?.viewOptions?.visibleColumns || [],\r\n      sortField: normalizedContent?.viewOptions?.sortField || null,\r\n      sortOrder: (normalizedContent?.viewOptions?.sortOrder || 'asc') as 'asc' | 'desc',\r\n      filters: normalizedContent?.viewOptions?.filters || [],\r\n      cardLayout: normalizedContent?.viewOptions?.cardLayout,\r\n      kanbanConfig: normalizedContent?.viewOptions?.kanbanConfig,\r\n      galleryConfig: normalizedContent?.viewOptions?.galleryConfig,\r\n      listConfig: normalizedContent?.viewOptions?.listConfig,\r\n      timelineConfig: normalizedContent?.viewOptions?.timelineConfig,\r\n      calendarConfig: normalizedContent?.viewOptions?.calendarConfig,\r\n      ganttConfig: normalizedContent?.viewOptions?.ganttConfig,\r\n    },\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadDataSource();\r\n  }, [safeContent.dataSourceType, safeContent.entityId, safeContent.queryId, safeContent.apiRequestId]);\r\n\r\n  const loadDataSource = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      let result;\r\n\r\n      // Check which data source type is configured and has an ID\r\n      if (safeContent.dataSourceType === 'entity') {\r\n        if (!safeContent.entityId) {\r\n          setError(\"Please select an entity in the component editor.\");\r\n          setLoading(false);\r\n          return;\r\n        }\r\n        result = await fetchEntityData(safeContent.entityId);\r\n      } else if (safeContent.dataSourceType === 'query') {\r\n        if (!safeContent.queryId) {\r\n          setError(\"Please select a query in the component editor.\");\r\n          setLoading(false);\r\n          return;\r\n        }\r\n        result = await fetchQueryData(safeContent.queryId);\r\n      } else if (safeContent.dataSourceType === 'api') {\r\n        if (!safeContent.apiRequestId) {\r\n          setError(\"Please select an API request in the component editor.\");\r\n          setLoading(false);\r\n          return;\r\n        }\r\n        result = await fetchApiData(safeContent.apiRequestId);\r\n      } else {\r\n        setError(\"Please configure the data source type in the component editor.\");\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      setData(result.data);\r\n      setFields(result.fields);\r\n    } catch (err: any) {\r\n      console.error(\"Error loading data source:\", err);\r\n      setError(err.message || \"Failed to load data\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Convert FieldInfo to EntityField\r\n  const entityFields: EntityField[] = fields.map(f => ({\r\n    id: f.id,\r\n    name: f.name,\r\n    display_name: f.display_name,\r\n    field_type: f.field_type,\r\n  }));\r\n\r\n  // Convert DataRecord to EntityRecord\r\n  const entityRecords: EntityRecord[] = data.map(record => ({\r\n    id: record.id,\r\n    data: record.data,\r\n    is_published: record.is_published ?? true,\r\n    created_at: record.created_at || new Date().toISOString(),\r\n  }));\r\n\r\n  // Apply filters\r\n  const filteredRecords = useMemo(() => {\r\n    if (!safeContent.viewOptions.filters || safeContent.viewOptions.filters.length === 0) {\r\n      return entityRecords;\r\n    }\r\n\r\n    return entityRecords.filter(record => {\r\n      return safeContent.viewOptions.filters.every(filter => {\r\n        const field = fields.find(f => f.id === filter.field || f.name === filter.field);\r\n        if (!field) return true;\r\n\r\n        const value = record.data[field.name];\r\n        const filterValue = filter.value;\r\n\r\n        switch (filter.operator) {\r\n          case 'equals':\r\n            return String(value) === filterValue;\r\n          case 'contains':\r\n            return String(value).toLowerCase().includes(filterValue.toLowerCase());\r\n          case 'greater_than':\r\n            return Number(value) > Number(filterValue);\r\n          case 'less_than':\r\n            return Number(value) < Number(filterValue);\r\n          default:\r\n            return true;\r\n        }\r\n      });\r\n    });\r\n  }, [entityRecords, safeContent.viewOptions.filters, fields]);\r\n\r\n  // Apply sorting\r\n  const sortedRecords = useMemo(() => {\r\n    if (!safeContent.viewOptions.sortField) {\r\n      return filteredRecords;\r\n    }\r\n\r\n    const field = fields.find(f => f.id === safeContent.viewOptions.sortField || f.name === safeContent.viewOptions.sortField);\r\n    if (!field) return filteredRecords;\r\n\r\n    const sorted = [...filteredRecords].sort((a, b) => {\r\n      const aValue = a.data[field.name];\r\n      const bValue = b.data[field.name];\r\n\r\n      if (aValue === null || aValue === undefined) return 1;\r\n      if (bValue === null || bValue === undefined) return -1;\r\n\r\n      if ([E_FieldDataType.Interger, E_FieldDataType.Decimal, E_FieldDataType.Int64].includes(field.field_type)) {\r\n        return (Number(aValue) - Number(bValue)) * (safeContent.viewOptions.sortOrder === 'asc' ? 1 : -1);\r\n      }\r\n\r\n      if ([E_FieldDataType.Date, E_FieldDataType.DateTime].includes(field.field_type)) {\r\n        const aDate = new Date(aValue).getTime();\r\n        const bDate = new Date(bValue).getTime();\r\n        return (aDate - bDate) * (safeContent.viewOptions.sortOrder === 'asc' ? 1 : -1);\r\n      }\r\n\r\n      return String(aValue).localeCompare(String(bValue)) * (safeContent.viewOptions.sortOrder === 'asc' ? 1 : -1);\r\n    });\r\n\r\n    return sorted;\r\n  }, [filteredRecords, safeContent.viewOptions.sortField, safeContent.viewOptions.sortOrder, fields]);\r\n\r\n  // Get visible fields for table view\r\n  const visibleFields = useMemo(() => {\r\n    if (safeContent.viewOptions.visibleColumns.length === 0) {\r\n      return entityFields;\r\n    }\r\n    return entityFields.filter(f => safeContent.viewOptions.visibleColumns.includes(f.id));\r\n  }, [entityFields, safeContent.viewOptions.visibleColumns]);\r\n\r\n  // No-op handlers for public view (no edit/delete)\r\n  const noopHandlers = {\r\n    onEdit: () => { },\r\n    onDelete: () => { },\r\n    onTogglePublish: () => { },\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"text-muted-foreground p-4\">Loading data...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"text-destructive p-4\">Error: {error}</div>;\r\n  }\r\n\r\n  if (sortedRecords.length === 0) {\r\n    return <div className=\"text-muted-foreground p-4\">No data available</div>;\r\n  }\r\n\r\n  const viewType = safeContent.viewType || 'table';\r\n  const commonProps = {\r\n    records: sortedRecords,\r\n    fields: entityFields,\r\n    ...noopHandlers,\r\n  };\r\n\r\n  switch (viewType) {\r\n    case 'card':\r\n      return <CardView {...commonProps} cardLayout={safeContent.viewOptions.cardLayout} />;\r\n\r\n    case 'kanban':\r\n      return <KanbanView {...commonProps} kanbanConfig={safeContent.viewOptions.kanbanConfig} />;\r\n\r\n    case 'gallery':\r\n      return <GalleryView {...commonProps} galleryConfig={safeContent.viewOptions.galleryConfig} />;\r\n\r\n    case 'list':\r\n      return <ListView {...commonProps} listConfig={safeContent.viewOptions.listConfig} />;\r\n\r\n    case 'timeline':\r\n      return <TimelineView {...commonProps} timelineConfig={safeContent.viewOptions.timelineConfig} />;\r\n\r\n    case 'calendar':\r\n      return <CalendarView {...commonProps} calendarConfig={safeContent.viewOptions.calendarConfig} />;\r\n\r\n    case 'gantt':\r\n      return <GanttView {...commonProps} ganttConfig={safeContent.viewOptions.ganttConfig} entityId={safeContent.entityId || ''} />;\r\n\r\n    case 'table':\r\n    default:\r\n      return (\r\n        <div className=\"overflow-x-auto\">\r\n          <Table>\r\n            <TableHeader>\r\n              <TableRow>\r\n                {visibleFields.map((field) => (\r\n                  <TableHead key={field.id} className=\"min-w-[150px]\">\r\n                    {field.display_name}\r\n                  </TableHead>\r\n                ))}\r\n              </TableRow>\r\n            </TableHeader>\r\n            <TableBody>\r\n              {sortedRecords.map((record) => (\r\n                <TableRow key={record.id}>\r\n                  {visibleFields.map((field) => (\r\n                    <TableCell key={field.id} className=\"max-w-xs\">\r\n                      <div className=\"truncate\">\r\n                        {renderFieldValue(record.data[field.name], field.field_type)}\r\n                      </div>\r\n                    </TableCell>\r\n                  ))}\r\n                </TableRow>\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n        </div>\r\n      );\r\n  }\r\n};\r\n\r\nfunction renderFieldValue(value: any, fieldType: EntityField['field_type']): string {\r\n  if (value === null || value === undefined) return \"-\";\r\n\r\n  if (fieldType === E_FieldDataType.Boolean) return value ? 'Yes' : 'No';\r\n  if (fieldType === E_FieldDataType.Date || fieldType === E_FieldDataType.DateTime) {\r\n    try {\r\n      return new Date(value).toLocaleDateString();\r\n    } catch {\r\n      return String(value);\r\n    }\r\n  }\r\n  if (fieldType === E_FieldDataType.Image) return String(value);\r\n\r\n  return String(value);\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5329, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/public/ComponentRenderer.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { Tables } from \"@/integrations/supabase/types\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { getEntity, getFields } from \"@/lib/schema-service\";\r\nimport { Card, CardHeader, CardContent } from \"@/components/ui/card\";\r\nimport { ChartRenderer } from \"./ChartRenderer\";\r\nimport { DatasourceRenderer } from \"./DatasourceRenderer\";\r\n\r\ntype Component =\r\n  | Tables<\"page_components\">\r\n  | Tables<\"layout_components\">\r\n  | Tables<\"widget_components\">;\r\n\r\ninterface ComponentRendererProps {\r\n  component: Component;\r\n}\r\n\r\nexport const ComponentRenderer = ({ component }: ComponentRendererProps) => {\r\n  if (!component) {\r\n    console.error(\"ComponentRenderer received undefined component\");\r\n    return null;\r\n  }\r\n\r\n  let { component_type, content } = component;\r\n\r\n  if (!component_type) {\r\n    console.error(\"Component missing component_type:\", component);\r\n    return null;\r\n  }\r\n\r\n  // Handle malformed content with nested 'content' property\r\n  if (content && typeof content === 'object' && 'content' in content && Object.keys(content).length === 1) {\r\n    content = content.content as any;\r\n  }\r\n\r\n  switch (component_type) {\r\n    case \"heading\": {\r\n      const { text, level } = content as { text: string; level: string };\r\n      const Tag = level as keyof JSX.IntrinsicElements;\r\n      const styles = {\r\n        h1: \"text-4xl font-bold\",\r\n        h2: \"text-3xl font-bold\",\r\n        h3: \"text-2xl font-semibold\",\r\n      };\r\n      return <Tag className={styles[level as keyof typeof styles]}>{text}</Tag>;\r\n    }\r\n\r\n    case \"text\":\r\n    case \"paragraph\": {\r\n      const { text } = content as { text: string };\r\n      return <p className=\"text-base leading-relaxed whitespace-pre-wrap\">{text}</p>;\r\n    }\r\n\r\n    case \"image\": {\r\n      const { url, alt } = content as { url: string; alt: string };\r\n      if (!url) return null;\r\n      return <img src={url} alt={alt} className=\"w-full max-w-2xl rounded-lg shadow-[var(--shadow-medium)]\" />;\r\n    }\r\n\r\n    case \"button\": {\r\n      const { text, link } = content as { text: string; link: string };\r\n      return (\r\n        <Button asChild>\r\n          <a href={link || \"#\"}>{text}</a>\r\n        </Button>\r\n      );\r\n    }\r\n\r\n    case \"link\": {\r\n      const { text, url } = content as { text: string; url: string };\r\n      return (\r\n        <a href={url || \"#\"} className=\"text-primary hover:underline\">\r\n          {text}\r\n        </a>\r\n      );\r\n    }\r\n\r\n    case \"video\": {\r\n      const { url } = content as { url: string };\r\n      if (!url) return null;\r\n\r\n      // Extract video ID from YouTube or Vimeo URL\r\n      let embedUrl = \"\";\r\n      if (url.includes(\"youtube.com\") || url.includes(\"youtu.be\")) {\r\n        const videoId = url.includes(\"youtu.be\")\r\n          ? url.split(\"/\").pop()\r\n          : new URLSearchParams(new URL(url).search).get(\"v\");\r\n        embedUrl = `https://www.youtube.com/embed/${videoId}`;\r\n      } else if (url.includes(\"vimeo.com\")) {\r\n        const videoId = url.split(\"/\").pop();\r\n        embedUrl = `https://player.vimeo.com/video/${videoId}`;\r\n      }\r\n\r\n      if (!embedUrl) return <p className=\"text-muted-foreground\">Invalid video URL</p>;\r\n\r\n      return (\r\n        <div className=\"aspect-video w-full max-w-2xl\">\r\n          <iframe\r\n            src={embedUrl}\r\n            className=\"w-full h-full rounded-lg\"\r\n            allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n            allowFullScreen\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    case \"divider\": {\r\n      return <Separator className=\"my-4\" />;\r\n    }\r\n\r\n    case \"spacer\": {\r\n      const { height } = content as { height: string };\r\n      const heights = {\r\n        small: \"h-5\",\r\n        medium: \"h-10\",\r\n        large: \"h-20\",\r\n      };\r\n      return <div className={heights[height as keyof typeof heights] || heights.medium} />;\r\n    }\r\n\r\n    case \"quote\": {\r\n      const { text, author } = content as { text: string; author: string };\r\n      return (\r\n        <blockquote className=\"border-l-4 border-primary pl-4 italic\">\r\n          <p className=\"text-lg\">{text}</p>\r\n          {author && <footer className=\"mt-2 text-sm text-muted-foreground\"> {author}</footer>}\r\n        </blockquote>\r\n      );\r\n    }\r\n\r\n    case \"list\": {\r\n      const { items, type } = content as { items: string; type: string };\r\n      const listItems = items.split(\"\\n\").filter((item) => item.trim());\r\n      const Tag = type === \"numbered\" ? \"ol\" : \"ul\";\r\n      const className = type === \"numbered\" ? \"list-decimal list-inside space-y-1\" : \"list-disc list-inside space-y-1\";\r\n      return (\r\n        <Tag className={className}>\r\n          {listItems.map((item, i) => (\r\n            <li key={i}>{item}</li>\r\n          ))}\r\n        </Tag>\r\n      );\r\n    }\r\n\r\n    case \"code\": {\r\n      const { code, language } = content as { code: string; language: string };\r\n      return (\r\n        <div className=\"relative\">\r\n          {language && (\r\n            <div className=\"absolute top-2 right-2 text-xs text-muted-foreground bg-muted px-2 py-1 rounded\">\r\n              {language}\r\n            </div>\r\n          )}\r\n          <pre className=\"bg-muted p-4 rounded-lg overflow-x-auto\">\r\n            <code className=\"text-sm font-mono\">{code}</code>\r\n          </pre>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    case \"entity-list\": {\r\n      return <EntityListRenderer content={content} />;\r\n    }\r\n\r\n    case \"entity-detail\": {\r\n      return <EntityDetailRenderer content={content} />;\r\n    }\r\n\r\n    case \"query\": {\r\n      return <QueryRenderer content={content} />;\r\n    }\r\n\r\n    case \"datasource\": {\r\n      if (!content || typeof content !== 'object') {\r\n        return (\r\n          <div className=\"p-4 border border-dashed border-muted-foreground/30 rounded-lg bg-muted/20\">\r\n            <p className=\"text-sm text-muted-foreground\">Data Source component not configured. Please configure it in the editor.</p>\r\n          </div>\r\n        );\r\n      }\r\n      return <DatasourceRenderer content={content as any} />;\r\n    }\r\n\r\n    case \"chart\": {\r\n      return <ChartRenderer content={content as any} />;\r\n    }\r\n\r\n    case \"tabs\": {\r\n      const { tabs } = content as { tabs: Array<{ id: string; label: string; content: string }> };\r\n      return (\r\n        <div className=\"w-full\">\r\n          <div className=\"border-b border-border mb-4\">\r\n            <div className=\"flex gap-4\">\r\n              {tabs?.map((tab, idx) => (\r\n                <button\r\n                  key={tab.id}\r\n                  className={`px-4 py-2 font-medium ${idx === 0 ? 'border-b-2 border-primary' : 'text-muted-foreground'}`}\r\n                >\r\n                  {tab.label}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n          <div className=\"p-4\">\r\n            {tabs?.[0]?.content || \"No content\"}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    case \"accordion\": {\r\n      const { items } = content as { items: Array<{ id: string; title: string; content: string }> };\r\n      return (\r\n        <div className=\"space-y-2\">\r\n          {items?.map((item) => (\r\n            <Card key={item.id}>\r\n              <CardHeader>\r\n                <h3 className=\"font-semibold\">{item.title}</h3>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <p className=\"text-sm text-muted-foreground\">{item.content}</p>\r\n              </CardContent>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    case \"card\": {\r\n      const { title, description, imageUrl, buttonText, buttonLink } = content as {\r\n        title: string;\r\n        description: string;\r\n        imageUrl: string;\r\n        buttonText: string;\r\n        buttonLink: string;\r\n      };\r\n      return (\r\n        <Card>\r\n          {imageUrl && (\r\n            <img src={imageUrl} alt={title} className=\"w-full h-48 object-cover rounded-t-lg\" />\r\n          )}\r\n          <CardHeader>\r\n            <h3 className=\"text-xl font-semibold\">{title}</h3>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <p className=\"text-muted-foreground mb-4\">{description}</p>\r\n            {buttonText && (\r\n              <Button asChild>\r\n                <a href={buttonLink || \"#\"}>{buttonText}</a>\r\n              </Button>\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n      );\r\n    }\r\n\r\n    case \"form-input\":\r\n    case \"form-textarea\":\r\n    case \"form-select\":\r\n    case \"form-checkbox\":\r\n    case \"form-submit\": {\r\n      return (\r\n        <div className=\"p-4 border border-dashed border-muted-foreground/30 rounded-lg\">\r\n          <p className=\"text-sm text-muted-foreground\">Form component (preview not available)</p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    default:\r\n      console.error(\"Unknown component type:\", component_type, component);\r\n      return (\r\n        <div className=\"p-4 border border-dashed border-muted-foreground/30 rounded-lg bg-muted/20\">\r\n          <p className=\"text-sm text-muted-foreground\">Unknown component type: {component_type}</p>\r\n        </div>\r\n      );\r\n  }\r\n};\r\n\r\n// Entity List Renderer Component\r\nconst EntityListRenderer = ({ content }: { content: any }) => {\r\n  const [records, setRecords] = useState<any[]>([]);\r\n  const [fields, setFields] = useState<any[]>([]);\r\n  const [entity, setEntity] = useState<any>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadEntityData();\r\n  }, [content.entityId]);\r\n\r\n  const loadEntityData = async () => {\r\n    if (!content.entityId) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Load schema from JSON instead of Supabase\r\n      const entityData = await getEntity(content.entityId);\r\n      const fieldsData = await getFields(content.entityId);\r\n\r\n      // Load actual records from Supabase\r\n      const { data: recordsData, error: recordsError } = await supabase\r\n        .from(\"entity_records\")\r\n        .select(\"*\")\r\n        .eq(\"entity_id\", content.entityId)\r\n        .eq(\"is_published\", true)\r\n        .order(\"created_at\", { ascending: content.sortOrder !== \"asc\" })\r\n        .limit(content.limit || 10);\r\n\r\n      if (recordsError) throw recordsError;\r\n\r\n      setEntity(entityData);\r\n      setFields(fieldsData || []);\r\n      setRecords(recordsData || []);\r\n    } catch (error) {\r\n      console.error(\"Error loading entity data:\", error);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  if (loading) return <div className=\"text-muted-foreground\">Loading...</div>;\r\n  if (!entity) return <div className=\"text-muted-foreground\">Entity not found</div>;\r\n  if (records.length === 0) return <div className=\"text-muted-foreground\">No records available</div>;\r\n\r\n  const displayFields = fields.filter(f => (content.fields || []).includes(f.name));\r\n\r\n  if (content.displayStyle === \"table\") {\r\n    return (\r\n      <div className=\"overflow-x-auto\">\r\n        <table className=\"w-full border-collapse\">\r\n          <thead>\r\n            <tr className=\"border-b\">\r\n              {displayFields.map((field) => (\r\n                <th key={field.id} className=\"text-left p-3 font-semibold\">\r\n                  {field.display_name}\r\n                </th>\r\n              ))}\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {records.map((record) => (\r\n              <tr key={record.id} className=\"border-b\">\r\n                {displayFields.map((field) => (\r\n                  <td key={field.id} className=\"p-3\">\r\n                    {renderFieldValue(record.data[field.name], field.field_type)}\r\n                  </td>\r\n                ))}\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (content.displayStyle === \"list\") {\r\n    return (\r\n      <div className=\"space-y-4\">\r\n        {records.map((record) => (\r\n          <Card key={record.id} className=\"p-4\">\r\n            {displayFields.map((field) => (\r\n              <div key={field.id} className=\"mb-2\">\r\n                <span className=\"font-semibold\">{field.display_name}: </span>\r\n                <span>{renderFieldValue(record.data[field.name], field.field_type)}</span>\r\n              </div>\r\n            ))}\r\n          </Card>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Grid layout (default)\r\n  return (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n      {records.map((record) => (\r\n        <Card key={record.id} className=\"p-6\">\r\n          {displayFields.map((field) => (\r\n            <div key={field.id} className=\"mb-3\">\r\n              <div className=\"text-sm font-semibold text-muted-foreground mb-1\">\r\n                {field.display_name}\r\n              </div>\r\n              <div className=\"text-base\">\r\n                {renderFieldValue(record.data[field.name], field.field_type)}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </Card>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Entity Detail Renderer Component\r\nconst EntityDetailRenderer = ({ content }: { content: any }) => {\r\n  const [record, setRecord] = useState<any>(null);\r\n  const [fields, setFields] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadRecordData();\r\n  }, [content.entityId, content.recordId]);\r\n\r\n  const loadRecordData = async () => {\r\n    if (!content.entityId || !content.recordId) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Load schema from JSON instead of Supabase\r\n      const fieldsData = await getFields(content.entityId);\r\n\r\n      // Load actual record from Supabase\r\n      const { data: recordData, error: recordError } = await supabase\r\n        .from(\"entity_records\")\r\n        .select(\"*\")\r\n        .eq(\"id\", content.recordId)\r\n        .eq(\"is_published\", true)\r\n        .single();\r\n\r\n      if (recordError) throw recordError;\r\n\r\n      setFields(fieldsData || []);\r\n      setRecord(recordData);\r\n    } catch (error) {\r\n      console.error(\"Error loading record:\", error);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  if (loading) return <div className=\"text-muted-foreground\">Loading...</div>;\r\n  if (!record) return <div className=\"text-muted-foreground\">Record not found</div>;\r\n\r\n  const displayFields = fields.filter(f => (content.fields || []).includes(f.name));\r\n\r\n  if (content.layout === \"horizontal\") {\r\n    return (\r\n      <div className=\"flex flex-wrap gap-6\">\r\n        {displayFields.map((field) => (\r\n          <div key={field.id} className=\"flex-1 min-w-[200px]\">\r\n            <div className=\"text-sm font-semibold text-muted-foreground mb-1\">\r\n              {field.display_name}\r\n            </div>\r\n            <div className=\"text-base\">\r\n              {renderFieldValue(record.data[field.name], field.field_type)}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Vertical layout (default)\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {displayFields.map((field) => (\r\n        <div key={field.id}>\r\n          <div className=\"text-sm font-semibold text-muted-foreground mb-1\">\r\n            {field.display_name}\r\n          </div>\r\n          <div className=\"text-base\">\r\n            {renderFieldValue(record.data[field.name], field.field_type)}\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Query Renderer Component\r\nconst QueryRenderer = ({ content }: { content: any }) => {\r\n  const [results, setResults] = useState<any[]>([]);\r\n  const [settings, setSettings] = useState<any>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    executeQuery();\r\n  }, [content.queryId]);\r\n\r\n  const executeQuery = async () => {\r\n    if (!content.queryId) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const { data, error: funcError } = await supabase.functions.invoke('execute-query', {\r\n        body: { queryId: content.queryId }\r\n      });\r\n\r\n      if (funcError) throw funcError;\r\n\r\n      if (data.success) {\r\n        setResults(data.data || []);\r\n        setSettings(data.settings);\r\n      } else {\r\n        setError(data.error || \"Failed to execute query\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error executing query:\", err);\r\n      setError(\"Failed to load query results\");\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  if (loading) return <div className=\"text-muted-foreground\">Loading query results...</div>;\r\n  if (error) return <div className=\"text-destructive\">{error}</div>;\r\n  if (!settings) return <div className=\"text-muted-foreground\">Query not found</div>;\r\n  if (results.length === 0) return <div className=\"text-muted-foreground\">No results found</div>;\r\n\r\n  const displayStyle = settings.display_style || 'table';\r\n  const showRowNumbers = settings.show_row_numbers || false;\r\n\r\n  if (displayStyle === \"table\") {\r\n    const headers = Object.keys(results[0] || {});\r\n\r\n    return (\r\n      <div className=\"overflow-x-auto\">\r\n        <table className=\"w-full border-collapse\">\r\n          <thead>\r\n            <tr className=\"border-b\">\r\n              {showRowNumbers && <th className=\"text-left p-3 font-semibold\">#</th>}\r\n              {headers.map((header) => (\r\n                <th key={header} className=\"text-left p-3 font-semibold\">\r\n                  {header}\r\n                </th>\r\n              ))}\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {results.map((row, idx) => (\r\n              <tr key={idx} className=\"border-b\">\r\n                {showRowNumbers && <td className=\"p-3 text-muted-foreground\">{idx + 1}</td>}\r\n                {headers.map((header) => (\r\n                  <td key={header} className=\"p-3\">\r\n                    {row[header] !== null && row[header] !== undefined ? String(row[header]) : \"-\"}\r\n                  </td>\r\n                ))}\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (displayStyle === \"list\") {\r\n    return (\r\n      <div className=\"space-y-4\">\r\n        {results.map((row, idx) => (\r\n          <Card key={idx} className=\"p-4\">\r\n            {showRowNumbers && <div className=\"text-sm text-muted-foreground mb-2\">#{idx + 1}</div>}\r\n            {Object.entries(row).map(([key, value]) => (\r\n              <div key={key} className=\"mb-2\">\r\n                <span className=\"font-semibold\">{key}: </span>\r\n                <span>{value !== null && value !== undefined ? String(value) : \"-\"}</span>\r\n              </div>\r\n            ))}\r\n          </Card>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Grid layout\r\n  return (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n      {results.map((row, idx) => (\r\n        <Card key={idx} className=\"p-6\">\r\n          {showRowNumbers && <div className=\"text-sm text-muted-foreground mb-3\">#{idx + 1}</div>}\r\n          {Object.entries(row).map(([key, value]) => (\r\n            <div key={key} className=\"mb-3\">\r\n              <div className=\"text-sm font-semibold text-muted-foreground mb-1\">\r\n                {key}\r\n              </div>\r\n              <div className=\"text-base\">\r\n                {value !== null && value !== undefined ? String(value) : \"-\"}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </Card>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Helper function to render field values based on type\r\nconst renderFieldValue = (value: any, fieldType: string) => {\r\n  if (value === null || value === undefined || value === \"\") return \"-\";\r\n\r\n  switch (fieldType) {\r\n    case \"image\":\r\n      return <img src={value} alt=\"\" className=\"max-w-full h-auto rounded\" />;\r\n    case \"url\":\r\n      return <a href={value} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-primary hover:underline\">{value}</a>;\r\n    case \"boolean\":\r\n      return value === \"true\" || value === true ? \"Yes\" : \"No\";\r\n    case \"longtext\":\r\n      return <div className=\"whitespace-pre-wrap\">{value}</div>;\r\n    case \"date\":\r\n      return new Date(value).toLocaleDateString();\r\n    default:\r\n      return String(value);\r\n  }\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6512, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/ui/tabs.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst Tabs = TabsPrimitive.Root;\r\n\r\nconst TabsList = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.List>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.List\r\n    ref={ref}\r\n    className={cn(\r\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\r\n      className,\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nTabsList.displayName = TabsPrimitive.List.displayName;\r\n\r\nconst TabsTrigger = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.Trigger\r\n    ref={ref}\r\n    className={cn(\r\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\r\n      className,\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName;\r\n\r\nconst TabsContent = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.Content\r\n    ref={ref}\r\n    className={cn(\r\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\r\n      className,\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nTabsContent.displayName = TabsPrimitive.Content.displayName;\r\n\r\nexport { Tabs, TabsList, TabsTrigger, TabsContent };\r\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,OAAO,2KAAkB;AAE/B,MAAM,yBAAW,2KAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,2KAAkB;QACjB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,8FACA;QAED,GAAG,KAAK;;;;;;;AAGb,SAAS,WAAW,GAAG,2KAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,uYACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,mIACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW"}},
    {"offset": {"line": 6579, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/ResponsiveControls.tsx"],"sourcesContent":["import { Tabs, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport { Monitor, Tablet, Smartphone } from \"lucide-react\";\r\n\r\nexport type Breakpoint = \"desktop\" | \"tablet\" | \"mobile\";\r\n\r\ninterface ResponsiveControlsProps {\r\n  currentBreakpoint: Breakpoint;\r\n  onBreakpointChange: (breakpoint: Breakpoint) => void;\r\n}\r\n\r\nexport const ResponsiveControls = ({\r\n  currentBreakpoint,\r\n  onBreakpointChange,\r\n}: ResponsiveControlsProps) => {\r\n  return (\r\n    <Tabs value={currentBreakpoint} onValueChange={(v) => onBreakpointChange(v as Breakpoint)}>\r\n      <TabsList>\r\n        <TabsTrigger value=\"desktop\" className=\"gap-2\">\r\n          <Monitor className=\"h-4 w-4\" />\r\n          Desktop\r\n        </TabsTrigger>\r\n        <TabsTrigger value=\"tablet\" className=\"gap-2\">\r\n          <Tablet className=\"h-4 w-4\" />\r\n          Tablet\r\n        </TabsTrigger>\r\n        <TabsTrigger value=\"mobile\" className=\"gap-2\">\r\n          <Smartphone className=\"h-4 w-4\" />\r\n          Mobile\r\n        </TabsTrigger>\r\n      </TabsList>\r\n    </Tabs>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AAAA;;;;AASO,MAAM,qBAAqB,CAAC,EACjC,iBAAiB,EACjB,kBAAkB,EACM;IACxB,qBACE,6LAAC,2IAAI;QAAC,OAAO;QAAmB,eAAe,CAAC,IAAM,mBAAmB;kBACvE,cAAA,6LAAC,+IAAQ;;8BACP,6LAAC,kJAAW;oBAAC,OAAM;oBAAU,WAAU;;sCACrC,6LAAC,sNAAO;4BAAC,WAAU;;;;;;wBAAY;;;;;;;8BAGjC,6LAAC,kJAAW;oBAAC,OAAM;oBAAS,WAAU;;sCACpC,6LAAC,mNAAM;4BAAC,WAAU;;;;;;wBAAY;;;;;;;8BAGhC,6LAAC,kJAAW;oBAAC,OAAM;oBAAS,WAAU;;sCACpC,6LAAC,+NAAU;4BAAC,WAAU;;;;;;wBAAY;;;;;;;;;;;;;;;;;;AAM5C;KAtBa"}},
    {"offset": {"line": 6673, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/DeviceFrame.tsx"],"sourcesContent":["import { Breakpoint } from \"./ResponsiveControls\";\r\n\r\ninterface DeviceFrameProps {\r\n  breakpoint: Breakpoint;\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport const DeviceFrame = ({ breakpoint, children }: DeviceFrameProps) => {\r\n  if (breakpoint === \"desktop\") {\r\n    return <div className=\"w-full h-full\">{children}</div>;\r\n  }\r\n\r\n  const isMobile = breakpoint === \"mobile\";\r\n  const width = isMobile ? 375 : 768;\r\n  const height = isMobile ? 667 : 1024;\r\n  \r\n  const frameStyles = isMobile\r\n    ? \"mx-auto border-8 border-gray-800 rounded-[2.5rem] shadow-2xl relative bg-gray-800\"\r\n    : \"mx-auto border-8 border-gray-700 rounded-[2rem] shadow-2xl relative bg-gray-700\";\r\n\r\n  const notchStyles = isMobile\r\n    ? \"absolute top-0 left-1/2 -translate-x-1/2 w-40 h-6 bg-gray-800 rounded-b-3xl z-10\"\r\n    : \"absolute top-0 left-1/2 -translate-x-1/2 w-20 h-1 bg-gray-700 rounded-b-lg z-10\";\r\n\r\n  return (\r\n    <div className=\"py-8 px-4\">\r\n      <div className={frameStyles} style={{ width: `${width}px` }}>\r\n        <div className={notchStyles}>\r\n          {isMobile && (\r\n            <div className=\"absolute top-2 left-1/2 -translate-x-1/2 w-16 h-1 bg-gray-900 rounded-full\" />\r\n          )}\r\n        </div>\r\n        \r\n        <div \r\n          className=\"bg-white rounded-[1.75rem] overflow-auto custom-scrollbar\" \r\n          style={{\r\n            height: `${height}px`,\r\n            maxHeight: `${height}px`\r\n          }}\r\n        >\r\n          {children}\r\n        </div>\r\n        \r\n        {isMobile && (\r\n          <div className=\"absolute bottom-2 left-1/2 -translate-x-1/2 w-12 h-12 border-2 border-gray-900 rounded-full\" />\r\n        )}\r\n      </div>\r\n      \r\n      <style>{`\r\n        .custom-scrollbar::-webkit-scrollbar {\r\n          width: 8px;\r\n          height: 8px;\r\n        }\r\n        \r\n        .custom-scrollbar::-webkit-scrollbar-track {\r\n          background: transparent;\r\n          margin: 1.75rem;\r\n        }\r\n        \r\n        .custom-scrollbar::-webkit-scrollbar-thumb {\r\n          background: rgba(156, 163, 175, 0.5);\r\n          border-radius: 10px;\r\n        }\r\n        \r\n        .custom-scrollbar::-webkit-scrollbar-thumb:hover {\r\n          background: rgba(107, 114, 128, 0.7);\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;;AAOO,MAAM,cAAc,CAAC,EAAE,UAAU,EAAE,QAAQ,EAAoB;IACpE,IAAI,eAAe,WAAW;QAC5B,qBAAO,6LAAC;YAAI,WAAU;sBAAiB;;;;;;IACzC;IAEA,MAAM,WAAW,eAAe;IAChC,MAAM,QAAQ,WAAW,MAAM;IAC/B,MAAM,SAAS,WAAW,MAAM;IAEhC,MAAM,cAAc,WAChB,sFACA;IAEJ,MAAM,cAAc,WAChB,qFACA;IAEJ,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAW;gBAAa,OAAO;oBAAE,OAAO,GAAG,MAAM,EAAE,CAAC;gBAAC;;kCACxD,6LAAC;wBAAI,WAAW;kCACb,0BACC,6LAAC;4BAAI,WAAU;;;;;;;;;;;kCAInB,6LAAC;wBACC,WAAU;wBACV,OAAO;4BACL,QAAQ,GAAG,OAAO,EAAE,CAAC;4BACrB,WAAW,GAAG,OAAO,EAAE,CAAC;wBAC1B;kCAEC;;;;;;oBAGF,0BACC,6LAAC;wBAAI,WAAU;;;;;;;;;;;;0BAInB,6LAAC;0BAAO,CAAC;;;;;;;;;;;;;;;;;;;MAmBT,CAAC;;;;;;;;;;;;AAGP;KA/Da"}},
    {"offset": {"line": 6786, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/PagePreviewModal.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { Dialog, DialogContent, DialogTitle } from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { X } from \"lucide-react\";\r\nimport { ComponentRenderer } from \"@/components/public/ComponentRenderer\";\r\nimport { Tables } from \"@/integrations/supabase/types\";\r\nimport { ResponsiveControls, Breakpoint } from \"./ResponsiveControls\";\r\nimport { DeviceFrame } from \"./DeviceFrame\";\r\n\r\ninterface PagePreviewModalProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  page: Tables<\"pages\"> | null;\r\n  rows: Tables<\"page_rows\">[];\r\n  components: Tables<\"page_components\">[];\r\n  layout: Tables<\"layouts\"> | null;\r\n  layoutRows: Tables<\"layout_rows\">[];\r\n  layoutComponents: Tables<\"layout_components\">[];\r\n  widgetData: Map<string, { rows: any[]; components: any[] }>;\r\n}\r\n\r\nexport const PagePreviewModal = ({ \r\n  open, \r\n  onOpenChange, \r\n  page,\r\n  rows,\r\n  components,\r\n  layout,\r\n  layoutRows,\r\n  layoutComponents,\r\n  widgetData\r\n}: PagePreviewModalProps) => {\r\n  const [currentBreakpoint, setCurrentBreakpoint] = useState<Breakpoint>(\"desktop\");\r\n\r\n  const handleFullscreen = () => {\r\n    const url = `/p/${page?.slug}`;\r\n    window.open(url, '_blank');\r\n  };\r\n\r\n  const renderWidgetContent = (widgetId: string) => {\r\n    const widget = widgetData.get(widgetId);\r\n    if (!widget) {\r\n      return (\r\n        <div className=\"p-4 border border-dashed border-muted-foreground/30 rounded-lg\">\r\n          <p className=\"text-sm text-muted-foreground\">Widget not found</p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return widget.rows\r\n      .sort((a, b) => a.position - b.position)\r\n      .map((row) => {\r\n        const rowComponents = widget.components\r\n          .filter((c: any) => c.row_id === row.id)\r\n          .sort((a: any, b: any) => a.position - b.position);\r\n\r\n        const columnComponents: any[] = Array.from(\r\n          { length: row.columns },\r\n          () => []\r\n        );\r\n\r\n        rowComponents.forEach((comp: any) => {\r\n          if (comp.column_index < row.columns) {\r\n            columnComponents[comp.column_index].push(comp);\r\n          }\r\n        });\r\n\r\n        return (\r\n          <div\r\n            key={row.id}\r\n            className=\"grid gap-4\"\r\n            style={{ gridTemplateColumns: `repeat(${row.columns}, 1fr)` }}\r\n          >\r\n            {columnComponents.map((colComps, colIndex) => (\r\n              <div key={colIndex} className=\"space-y-4\">\r\n                {colComps.map((component: any) => (\r\n                  <ComponentRenderer key={component.id} component={component} />\r\n                ))}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        );\r\n      });\r\n  };\r\n\r\n  const renderContent = (contentRows: any[], contentComponents: any[]) => {\r\n    return contentRows\r\n      .sort((a, b) => a.position - b.position)\r\n      .map((row) => {\r\n        const rowComponents = contentComponents\r\n          .filter((c) => c.row_id === row.id)\r\n          .sort((a, b) => a.position - b.position);\r\n\r\n        const columnComponents: typeof rowComponents[] = Array.from(\r\n          { length: row.columns },\r\n          () => []\r\n        );\r\n\r\n        rowComponents.forEach((comp) => {\r\n          if (comp.column_index < row.columns) {\r\n            columnComponents[comp.column_index].push(comp);\r\n          }\r\n        });\r\n\r\n        return (\r\n          <div\r\n            key={row.id}\r\n            className=\"grid gap-4\"\r\n            style={{ gridTemplateColumns: `repeat(${row.columns}, 1fr)` }}\r\n          >\r\n            {columnComponents.map((colComps, colIndex) => (\r\n              <div key={colIndex} className=\"space-y-4\">\r\n                {colComps.map((component) => {\r\n                  // Handle page-content placeholder in layout\r\n                  if (component.component_type === \"page-content\") {\r\n                    return (\r\n                      <div key={component.id} className=\"w-full\">\r\n                        {renderContent(rows, components)}\r\n                      </div>\r\n                    );\r\n                  }\r\n                  \r\n                  // Render widget instances\r\n                  if (\"is_widget_instance\" in component && component.is_widget_instance && component.widget_id) {\r\n                    return (\r\n                      <div key={component.id}>\r\n                        {renderWidgetContent(component.widget_id)}\r\n                      </div>\r\n                    );\r\n                  }\r\n                  \r\n                  return <ComponentRenderer key={component.id} component={component} />;\r\n                })}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        );\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"max-w-[95vw] max-h-[90vh] p-0 gap-0\" hideClose>\r\n        <DialogTitle className=\"sr-only\">Page Preview: {page?.title}</DialogTitle>\r\n        <div className=\"flex items-center justify-between border-b px-4 py-3 bg-card\">\r\n          <h2 className=\"text-lg font-semibold\" aria-hidden=\"true\">Page Preview: {page?.title}</h2>\r\n          <div className=\"flex items-center gap-4\">\r\n            <ResponsiveControls \r\n              currentBreakpoint={currentBreakpoint}\r\n              onBreakpointChange={setCurrentBreakpoint}\r\n            />\r\n            <Button variant=\"ghost\" size=\"icon\" onClick={() => onOpenChange(false)}>\r\n              <X className=\"h-4 w-4\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex-1 overflow-auto bg-background\">\r\n          <DeviceFrame breakpoint={currentBreakpoint}>\r\n            <div className=\"min-h-full\">\r\n              {layout ? (\r\n                // Render with layout\r\n                renderContent(layoutRows, layoutComponents)\r\n              ) : (\r\n                // Render page content only\r\n                <div className=\"max-w-7xl mx-auto px-4 py-8\">\r\n                  {renderContent(rows, components)}\r\n                </div>\r\n              )}\r\n              {rows.length === 0 && (\r\n                <p className=\"text-center text-muted-foreground py-12\">\r\n                  No content yet. Add rows and components to see the preview.\r\n                </p>\r\n              )}\r\n            </div>\r\n          </DeviceFrame>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7065, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/admin/PageList.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { Tables } from \"@/integrations/supabase/types\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Edit, Trash2, Eye, EyeOff, Monitor } from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { PagePreviewModal } from \"@/components/editor/PagePreviewModal\";\r\n\r\ntype Page = Tables<\"pages\">;\r\ntype PageRow = Tables<\"page_rows\">;\r\ntype PageComponent = Tables<\"page_components\">;\r\ntype Layout = Tables<\"layouts\">;\r\ntype LayoutRow = Tables<\"layout_rows\">;\r\ntype LayoutComponent = Tables<\"layout_components\">;\r\n\r\ninterface PageListProps {\r\n  onCreatePage: () => void;\r\n}\r\n\r\nexport const PageList = ({ onCreatePage }: PageListProps) => {\r\n  const router = useRouter();\r\n  const [pages, setPages] = useState<Page[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [previewPage, setPreviewPage] = useState<Page | null>(null);\r\n  const [previewRows, setPreviewRows] = useState<PageRow[]>([]);\r\n  const [previewComponents, setPreviewComponents] = useState<PageComponent[]>([]);\r\n  const [previewLayout, setPreviewLayout] = useState<Layout | null>(null);\r\n  const [previewLayoutRows, setPreviewLayoutRows] = useState<LayoutRow[]>([]);\r\n  const [previewLayoutComponents, setPreviewLayoutComponents] = useState<LayoutComponent[]>([]);\r\n  const [widgetData, setWidgetData] = useState<Map<string, { rows: any[]; components: any[] }>>(new Map());\r\n\r\n  const handlePreview = async (page: Page) => {\r\n    const { data: rows } = await supabase\r\n      .from(\"page_rows\")\r\n      .select(\"*\")\r\n      .eq(\"page_id\", page.id)\r\n      .order(\"position\");\r\n\r\n    const { data: components } = await supabase\r\n      .from(\"page_components\")\r\n      .select(\"*\")\r\n      .eq(\"page_id\", page.id)\r\n      .order(\"position\");\r\n\r\n    let layout = null;\r\n    let layoutRows: LayoutRow[] = [];\r\n    let layoutComponents: LayoutComponent[] = [];\r\n\r\n    if (page.layout_id) {\r\n      const { data: layoutData } = await supabase\r\n        .from(\"layouts\")\r\n        .select(\"*\")\r\n        .eq(\"id\", page.layout_id)\r\n        .single();\r\n\r\n      if (layoutData) {\r\n        layout = layoutData;\r\n\r\n        const { data: lRows } = await supabase\r\n          .from(\"layout_rows\")\r\n          .select(\"*\")\r\n          .eq(\"layout_id\", page.layout_id)\r\n          .order(\"position\");\r\n\r\n        const { data: lComponents } = await supabase\r\n          .from(\"layout_components\")\r\n          .select(\"*\")\r\n          .eq(\"layout_id\", page.layout_id)\r\n          .order(\"position\");\r\n\r\n        layoutRows = lRows || [];\r\n        layoutComponents = lComponents || [];\r\n      }\r\n    }\r\n\r\n    // Fetch widget data for all widget instances\r\n    const widgetInstances = (components || []).filter((c): c is PageComponent & { widget_id: string } =>\r\n      Boolean(c.is_widget_instance && c.widget_id)\r\n    );\r\n    const widgetDataMap = new Map();\r\n\r\n    for (const instance of widgetInstances) {\r\n      if (!widgetDataMap.has(instance.widget_id)) {\r\n        const { data: widgetRows } = await supabase\r\n          .from(\"widget_rows\")\r\n          .select(\"*\")\r\n          .eq(\"widget_id\", instance.widget_id)\r\n          .order(\"position\");\r\n\r\n        const { data: widgetComponents } = await supabase\r\n          .from(\"widget_components\")\r\n          .select(\"*\")\r\n          .eq(\"widget_id\", instance.widget_id)\r\n          .order(\"position\");\r\n\r\n        widgetDataMap.set(instance.widget_id, {\r\n          rows: widgetRows || [],\r\n          components: widgetComponents || []\r\n        });\r\n      }\r\n    }\r\n\r\n    setPreviewPage(page);\r\n    setPreviewRows(rows || []);\r\n    setPreviewComponents(components || []);\r\n    setPreviewLayout(layout);\r\n    setPreviewLayoutRows(layoutRows);\r\n    setPreviewLayoutComponents(layoutComponents);\r\n    setWidgetData(widgetDataMap);\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadPages();\r\n  }, []);\r\n\r\n  const loadPages = async () => {\r\n    const { data, error } = await supabase\r\n      .from(\"pages\")\r\n      .select(\"*\")\r\n      .order(\"created_at\", { ascending: false });\r\n\r\n    if (error) {\r\n      toast.error(\"Failed to load pages\");\r\n      return;\r\n    }\r\n\r\n    setPages(data || []);\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleDelete = async (id: string) => {\r\n    if (!confirm(\"Are you sure you want to delete this page?\")) return;\r\n\r\n    const { error } = await supabase.from(\"pages\").delete().eq(\"id\", id);\r\n\r\n    if (error) {\r\n      toast.error(\"Failed to delete page\");\r\n      return;\r\n    }\r\n\r\n    setPages(pages.filter((p) => p.id !== id));\r\n    toast.success(\"Page deleted\");\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"text-center py-8\">Loading pages...</div>;\r\n  }\r\n\r\n  if (pages.length === 0) {\r\n    return (\r\n      <Card className=\"text-center py-12\">\r\n        <CardContent>\r\n          <h3 className=\"text-lg font-medium mb-2\">No pages yet</h3>\r\n          <p className=\"text-muted-foreground mb-6\">Create your first page to get started</p>\r\n          <Button onClick={onCreatePage}>Create Page</Button>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\r\n      {pages.map((page) => (\r\n        <Card key={page.id} className=\"hover:shadow-[var(--shadow-medium)] transition-shadow\">\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center justify-between\">\r\n              <span className=\"truncate\">{page.title}</span>\r\n              {page.is_published ? (\r\n                <Eye className=\"h-4 w-4 text-green-500 flex-shrink-0\" />\r\n              ) : (\r\n                <EyeOff className=\"h-4 w-4 text-muted-foreground flex-shrink-0\" />\r\n              )}\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <p className=\"text-sm text-muted-foreground mb-4\">/{page.slug}</p>\r\n            <div className=\"flex gap-2\">\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={() => handlePreview(page)}\r\n                className=\"gap-2\"\r\n              >\r\n                <Monitor className=\"h-3 w-3\" />\r\n              </Button>\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={() => router.push(`/admin/editor/${page.id}`)}\r\n                className=\"flex-1 gap-2\"\r\n              >\r\n                <Edit className=\"h-3 w-3\" />\r\n                Edit\r\n              </Button>\r\n              <Button\r\n                variant=\"destructive\"\r\n                size=\"sm\"\r\n                onClick={() => handleDelete(page.id)}\r\n                className=\"gap-2\"\r\n              >\r\n                <Trash2 className=\"h-3 w-3\" />\r\n              </Button>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      ))}\r\n\r\n      <PagePreviewModal\r\n        open={!!previewPage}\r\n        onOpenChange={(open) => !open && setPreviewPage(null)}\r\n        page={previewPage}\r\n        rows={previewRows}\r\n        components={previewComponents}\r\n        layout={previewLayout}\r\n        layoutRows={previewLayoutRows}\r\n        layoutComponents={previewLayoutComponents}\r\n        widgetData={widgetData}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7385, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/admin/CreatePageDialog.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { toast } from \"sonner\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\ninterface CreatePageDialogProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n}\r\n\r\nexport const CreatePageDialog = ({ open, onOpenChange }: CreatePageDialogProps) => {\r\n  const router = useRouter();\r\n  const [title, setTitle] = useState(\"\");\r\n  const [slug, setSlug] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleTitleChange = (value: string) => {\r\n    setTitle(value);\r\n    // Auto-generate slug from title\r\n    const generatedSlug = value\r\n      .toLowerCase()\r\n      .replace(/[^a-z0-9]+/g, \"-\")\r\n      .replace(/^-|-$/g, \"\");\r\n    setSlug(generatedSlug);\r\n  };\r\n\r\n  const handleCreate = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    const { data: { user } } = await supabase.auth.getUser();\r\n    if (!user) {\r\n      toast.error(\"You must be logged in\");\r\n      return;\r\n    }\r\n\r\n    const { data, error } = await supabase\r\n      .from(\"pages\")\r\n      .insert({\r\n        title,\r\n        slug,\r\n        user_id: user.id,\r\n      })\r\n      .select()\r\n      .single();\r\n\r\n    setLoading(false);\r\n\r\n    if (error) {\r\n      if (error.code === \"23505\") {\r\n        toast.error(\"A page with this slug already exists\");\r\n      } else {\r\n        toast.error(\"Failed to create page\");\r\n      }\r\n      return;\r\n    }\r\n\r\n    toast.success(\"Page created!\");\r\n    onOpenChange(false);\r\n    setTitle(\"\");\r\n    setSlug(\"\");\r\n    router.push(`/admin/editor/${data.id}`);\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent>\r\n        <DialogHeader>\r\n          <DialogTitle>Create New Page</DialogTitle>\r\n        </DialogHeader>\r\n        <form onSubmit={handleCreate} className=\"space-y-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"title\">Page Title</Label>\r\n            <Input\r\n              id=\"title\"\r\n              placeholder=\"About Us\"\r\n              value={title}\r\n              onChange={(e) => handleTitleChange(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"slug\">URL Slug</Label>\r\n            <Input\r\n              id=\"slug\"\r\n              placeholder=\"about-us\"\r\n              value={slug}\r\n              onChange={(e) => setSlug(e.target.value)}\r\n              required\r\n            />\r\n            <p className=\"text-xs text-muted-foreground\">\r\n              This will be the page URL: /page/{slug || \"your-slug\"}\r\n            </p>\r\n          </div>\r\n          <Button type=\"submit\" className=\"w-full\" disabled={loading}>\r\n            {loading ? \"Creating...\" : \"Create Page\"}\r\n          </Button>\r\n        </form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AAOO,MAAM,mBAAmB,CAAC,EAAE,IAAI,EAAE,YAAY,EAAyB;;IAC5E,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,MAAM,oBAAoB,CAAC;QACzB,SAAS;QACT,gCAAgC;QAChC,MAAM,gBAAgB,MACnB,WAAW,GACX,OAAO,CAAC,eAAe,KACvB,OAAO,CAAC,UAAU;QACrB,QAAQ;IACV;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,WAAW;QAEX,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,wJAAQ,CAAC,IAAI,CAAC,OAAO;QACtD,IAAI,CAAC,MAAM;YACT,oJAAK,CAAC,KAAK,CAAC;YACZ;QACF;QAEA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,wJAAQ,CACnC,IAAI,CAAC,SACL,MAAM,CAAC;YACN;YACA;YACA,SAAS,KAAK,EAAE;QAClB,GACC,MAAM,GACN,MAAM;QAET,WAAW;QAEX,IAAI,OAAO;YACT,IAAI,MAAM,IAAI,KAAK,SAAS;gBAC1B,oJAAK,CAAC,KAAK,CAAC;YACd,OAAO;gBACL,oJAAK,CAAC,KAAK,CAAC;YACd;YACA;QACF;QAEA,oJAAK,CAAC,OAAO,CAAC;QACd,aAAa;QACb,SAAS;QACT,QAAQ;QACR,OAAO,IAAI,CAAC,CAAC,cAAc,EAAE,KAAK,EAAE,EAAE;IACxC;IAEA,qBACE,6LAAC,+IAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,6LAAC,sJAAa;;8BACZ,6LAAC,qJAAY;8BACX,cAAA,6LAAC,oJAAW;kCAAC;;;;;;;;;;;8BAEf,6LAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACtC,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,6IAAK;oCAAC,SAAQ;8CAAQ;;;;;;8CACvB,6LAAC,6IAAK;oCACJ,IAAG;oCACH,aAAY;oCACZ,OAAO;oCACP,UAAU,CAAC,IAAM,kBAAkB,EAAE,MAAM,CAAC,KAAK;oCACjD,QAAQ;;;;;;;;;;;;sCAGZ,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,6IAAK;oCAAC,SAAQ;8CAAO;;;;;;8CACtB,6LAAC,6IAAK;oCACJ,IAAG;oCACH,aAAY;oCACZ,OAAO;oCACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;oCACvC,QAAQ;;;;;;8CAEV,6LAAC;oCAAE,WAAU;;wCAAgC;wCACT,QAAQ;;;;;;;;;;;;;sCAG9C,6LAAC,+IAAM;4BAAC,MAAK;4BAAS,WAAU;4BAAS,UAAU;sCAChD,UAAU,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;AAMvC;GA3Fa;;QACI,kJAAS;;;KADb"}},
    {"offset": {"line": 7580, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/WidgetPreviewModal.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { Dialog, DialogContent, DialogTitle } from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { X } from \"lucide-react\";\r\nimport { ComponentRenderer } from \"@/components/public/ComponentRenderer\";\r\nimport { Tables } from \"@/integrations/supabase/types\";\r\nimport { ResponsiveControls, Breakpoint } from \"./ResponsiveControls\";\r\nimport { DeviceFrame } from \"./DeviceFrame\";\r\n\r\ninterface WidgetPreviewModalProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  widget: Tables<\"widgets\"> | null;\r\n  rows: Tables<\"widget_rows\">[];\r\n  components: Tables<\"widget_components\">[];\r\n}\r\n\r\nexport const WidgetPreviewModal = ({ \r\n  open, \r\n  onOpenChange, \r\n  widget,\r\n  rows,\r\n  components \r\n}: WidgetPreviewModalProps) => {\r\n  const [currentBreakpoint, setCurrentBreakpoint] = useState<Breakpoint>(\"desktop\");\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"max-w-[95vw] max-h-[90vh] p-0 gap-0\" hideClose>\r\n        <DialogTitle className=\"sr-only\">Widget Preview: {widget?.title}</DialogTitle>\r\n        <div className=\"flex items-center justify-between border-b px-4 py-3 bg-card\">\r\n          <h2 className=\"text-lg font-semibold\" aria-hidden=\"true\">Widget Preview: {widget?.title}</h2>\r\n          <div className=\"flex items-center gap-4\">\r\n            <ResponsiveControls \r\n              currentBreakpoint={currentBreakpoint}\r\n              onBreakpointChange={setCurrentBreakpoint}\r\n            />\r\n            <Button variant=\"ghost\" size=\"icon\" onClick={() => onOpenChange(false)}>\r\n              <X className=\"h-4 w-4\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex-1 overflow-auto bg-background\">\r\n          <DeviceFrame breakpoint={currentBreakpoint}>\r\n            <div className=\"max-w-4xl mx-auto p-8 space-y-8\">\r\n              {rows\r\n                .sort((a, b) => a.position - b.position)\r\n                .map((row) => {\r\n                  const rowComponents = components\r\n                    .filter((c) => c.row_id === row.id)\r\n                    .sort((a, b) => a.position - b.position);\r\n\r\n                  const columnComponents: typeof rowComponents[] = Array.from(\r\n                    { length: row.columns },\r\n                    () => []\r\n                  );\r\n\r\n                  rowComponents.forEach((comp) => {\r\n                    if (comp.column_index < row.columns) {\r\n                      columnComponents[comp.column_index].push(comp);\r\n                    }\r\n                  });\r\n\r\n                  return (\r\n                    <div\r\n                      key={row.id}\r\n                      className=\"grid gap-4\"\r\n                      style={{ gridTemplateColumns: `repeat(${row.columns}, 1fr)` }}\r\n                    >\r\n                      {columnComponents.map((colComps, colIndex) => (\r\n                        <div key={colIndex} className=\"space-y-4\">\r\n                          {colComps.map((component) => (\r\n                            <ComponentRenderer key={component.id} component={component} />\r\n                          ))}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  );\r\n                })}\r\n              {rows.length === 0 && (\r\n                <p className=\"text-center text-muted-foreground py-8\">\r\n                  No content yet. Add rows and components to see the preview.\r\n                </p>\r\n              )}\r\n            </div>\r\n          </DeviceFrame>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;;;;;;;;;;AAUO,MAAM,qBAAqB,CAAC,EACjC,IAAI,EACJ,YAAY,EACZ,MAAM,EACN,IAAI,EACJ,UAAU,EACc;;IACxB,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,yKAAQ,EAAa;IAEvE,qBACE,6LAAC,+IAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,6LAAC,sJAAa;YAAC,WAAU;YAAsC,SAAS;;8BACtE,6LAAC,oJAAW;oBAAC,WAAU;;wBAAU;wBAAiB,QAAQ;;;;;;;8BAC1D,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAG,WAAU;4BAAwB,eAAY;;gCAAO;gCAAiB,QAAQ;;;;;;;sCAClF,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,2KAAkB;oCACjB,mBAAmB;oCACnB,oBAAoB;;;;;;8CAEtB,6LAAC,+IAAM;oCAAC,SAAQ;oCAAQ,MAAK;oCAAO,SAAS,IAAM,aAAa;8CAC9D,cAAA,6LAAC,oMAAC;wCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;8BAInB,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC,6JAAW;wBAAC,YAAY;kCACvB,cAAA,6LAAC;4BAAI,WAAU;;gCACZ,KACE,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,QAAQ,GAAG,EAAE,QAAQ,EACtC,GAAG,CAAC,CAAC;oCACJ,MAAM,gBAAgB,WACnB,MAAM,CAAC,CAAC,IAAM,EAAE,MAAM,KAAK,IAAI,EAAE,EACjC,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,QAAQ,GAAG,EAAE,QAAQ;oCAEzC,MAAM,mBAA2C,MAAM,IAAI,CACzD;wCAAE,QAAQ,IAAI,OAAO;oCAAC,GACtB,IAAM,EAAE;oCAGV,cAAc,OAAO,CAAC,CAAC;wCACrB,IAAI,KAAK,YAAY,GAAG,IAAI,OAAO,EAAE;4CACnC,gBAAgB,CAAC,KAAK,YAAY,CAAC,CAAC,IAAI,CAAC;wCAC3C;oCACF;oCAEA,qBACE,6LAAC;wCAEC,WAAU;wCACV,OAAO;4CAAE,qBAAqB,CAAC,OAAO,EAAE,IAAI,OAAO,CAAC,MAAM,CAAC;wCAAC;kDAE3D,iBAAiB,GAAG,CAAC,CAAC,UAAU,yBAC/B,6LAAC;gDAAmB,WAAU;0DAC3B,SAAS,GAAG,CAAC,CAAC,0BACb,6LAAC,yKAAiB;wDAAoB,WAAW;uDAAzB,UAAU,EAAE;;;;;+CAF9B;;;;;uCALP,IAAI,EAAE;;;;;gCAajB;gCACD,KAAK,MAAM,KAAK,mBACf,6LAAC;oCAAE,WAAU;8CAAyC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUtE;GAzEa;KAAA"}},
    {"offset": {"line": 7765, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/editor/LayoutPreviewModal.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { Dialog, DialogContent, DialogTitle } from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { X } from \"lucide-react\";\r\nimport { ComponentRenderer } from \"@/components/public/ComponentRenderer\";\r\nimport { Tables } from \"@/integrations/supabase/types\";\r\nimport { ResponsiveControls, Breakpoint } from \"./ResponsiveControls\";\r\nimport { DeviceFrame } from \"./DeviceFrame\";\r\n\r\ninterface LayoutPreviewModalProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  layout: Tables<\"layouts\"> | null;\r\n  rows: Tables<\"layout_rows\">[];\r\n  components: Tables<\"layout_components\">[];\r\n}\r\n\r\nexport const LayoutPreviewModal = ({ \r\n  open, \r\n  onOpenChange, \r\n  layout,\r\n  rows,\r\n  components \r\n}: LayoutPreviewModalProps) => {\r\n  const [currentBreakpoint, setCurrentBreakpoint] = useState<Breakpoint>(\"desktop\");\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"max-w-[95vw] max-h-[90vh] p-0 gap-0\" hideClose>\r\n        <DialogTitle className=\"sr-only\">Layout Preview: {layout?.title}</DialogTitle>\r\n        <div className=\"flex items-center justify-between border-b px-4 py-3 bg-card\">\r\n          <h2 className=\"text-lg font-semibold\" aria-hidden=\"true\">Layout Preview: {layout?.title}</h2>\r\n          <div className=\"flex items-center gap-4\">\r\n            <ResponsiveControls \r\n              currentBreakpoint={currentBreakpoint}\r\n              onBreakpointChange={setCurrentBreakpoint}\r\n            />\r\n            <Button variant=\"ghost\" size=\"icon\" onClick={() => onOpenChange(false)}>\r\n              <X className=\"h-4 w-4\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex-1 overflow-auto bg-background\">\r\n          <DeviceFrame breakpoint={currentBreakpoint}>\r\n            <div className=\"min-h-full flex flex-col\">\r\n              {rows\r\n                .sort((a, b) => a.position - b.position)\r\n                .map((row) => {\r\n                  const rowComponents = components\r\n                    .filter((c) => c.row_id === row.id)\r\n                    .sort((a, b) => a.position - b.position);\r\n\r\n                  const columnComponents: typeof rowComponents[] = Array.from(\r\n                    { length: row.columns },\r\n                    () => []\r\n                  );\r\n\r\n                  rowComponents.forEach((comp) => {\r\n                    if (comp.column_index < row.columns) {\r\n                      columnComponents[comp.column_index].push(comp);\r\n                    }\r\n                  });\r\n\r\n                  return (\r\n                    <div key={row.id} className=\"w-full\">\r\n                      <div \r\n                        className=\"max-w-7xl mx-auto px-4 py-8 grid gap-4\"\r\n                        style={{ gridTemplateColumns: `repeat(${row.columns}, 1fr)` }}\r\n                      >\r\n                        {columnComponents.map((colComps, colIndex) => (\r\n                          <div key={colIndex} className=\"space-y-4\">\r\n                            {colComps.map((component) => (\r\n                              <ComponentRenderer key={component.id} component={component} />\r\n                            ))}\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              {rows.length === 0 && (\r\n                <p className=\"text-center text-muted-foreground py-12\">\r\n                  No content yet. Add rows and components to see the preview.\r\n                </p>\r\n              )}\r\n            </div>\r\n          </DeviceFrame>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;;;;;;;;;;AAUO,MAAM,qBAAqB,CAAC,EACjC,IAAI,EACJ,YAAY,EACZ,MAAM,EACN,IAAI,EACJ,UAAU,EACc;;IACxB,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,yKAAQ,EAAa;IAEvE,qBACE,6LAAC,+IAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,6LAAC,sJAAa;YAAC,WAAU;YAAsC,SAAS;;8BACtE,6LAAC,oJAAW;oBAAC,WAAU;;wBAAU;wBAAiB,QAAQ;;;;;;;8BAC1D,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAG,WAAU;4BAAwB,eAAY;;gCAAO;gCAAiB,QAAQ;;;;;;;sCAClF,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,2KAAkB;oCACjB,mBAAmB;oCACnB,oBAAoB;;;;;;8CAEtB,6LAAC,+IAAM;oCAAC,SAAQ;oCAAQ,MAAK;oCAAO,SAAS,IAAM,aAAa;8CAC9D,cAAA,6LAAC,oMAAC;wCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;8BAInB,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC,6JAAW;wBAAC,YAAY;kCACvB,cAAA,6LAAC;4BAAI,WAAU;;gCACZ,KACE,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,QAAQ,GAAG,EAAE,QAAQ,EACtC,GAAG,CAAC,CAAC;oCACJ,MAAM,gBAAgB,WACnB,MAAM,CAAC,CAAC,IAAM,EAAE,MAAM,KAAK,IAAI,EAAE,EACjC,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,QAAQ,GAAG,EAAE,QAAQ;oCAEzC,MAAM,mBAA2C,MAAM,IAAI,CACzD;wCAAE,QAAQ,IAAI,OAAO;oCAAC,GACtB,IAAM,EAAE;oCAGV,cAAc,OAAO,CAAC,CAAC;wCACrB,IAAI,KAAK,YAAY,GAAG,IAAI,OAAO,EAAE;4CACnC,gBAAgB,CAAC,KAAK,YAAY,CAAC,CAAC,IAAI,CAAC;wCAC3C;oCACF;oCAEA,qBACE,6LAAC;wCAAiB,WAAU;kDAC1B,cAAA,6LAAC;4CACC,WAAU;4CACV,OAAO;gDAAE,qBAAqB,CAAC,OAAO,EAAE,IAAI,OAAO,CAAC,MAAM,CAAC;4CAAC;sDAE3D,iBAAiB,GAAG,CAAC,CAAC,UAAU,yBAC/B,6LAAC;oDAAmB,WAAU;8DAC3B,SAAS,GAAG,CAAC,CAAC,0BACb,6LAAC,yKAAiB;4DAAoB,WAAW;2DAAzB,UAAU,EAAE;;;;;mDAF9B;;;;;;;;;;uCANN,IAAI,EAAE;;;;;gCAepB;gCACD,KAAK,MAAM,KAAK,mBACf,6LAAC;oCAAE,WAAU;8CAA0C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUvE;GA1Ea;KAAA"}},
    {"offset": {"line": 7957, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/components/admin/AdminLayout.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { ReactNode, useState, useEffect } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { usePathname, useRouter } from \"next/navigation\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { LogOut, FileText, Box, Layout as LayoutIcon, Search, FileEdit, ChevronDown, ChevronRight, Eye, Trash2, Plus, Database, SearchCode, List, Network, ClipboardList, LayoutTemplate } from \"lucide-react\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { toast } from \"sonner\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { Tables } from \"@/integrations/supabase/types\";\r\nimport { PagePreviewModal } from \"@/components/editor/PagePreviewModal\";\r\nimport { WidgetPreviewModal } from \"@/components/editor/WidgetPreviewModal\";\r\nimport { LayoutPreviewModal } from \"@/components/editor/LayoutPreviewModal\";\r\nimport { Tooltip, TooltipContent, TooltipTrigger } from \"@/components/ui/tooltip\";\r\nimport { Info } from \"lucide-react\";\r\n\r\ninterface AdminLayoutProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport function AdminLayout({ children }: AdminLayoutProps) {\r\n  const pathname = usePathname();\r\n  const router = useRouter();\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [pages, setPages] = useState<Tables<\"pages\">[]>([]);\r\n  const [widgets, setWidgets] = useState<Tables<\"widgets\">[]>([]);\r\n  const [layouts, setLayouts] = useState<Tables<\"layouts\">[]>([]);\r\n  const [entities, setEntities] = useState<Tables<\"entities\">[]>([]);\r\n  const [queries, setQueries] = useState<any[]>([]);\r\n  const [apiCollections, setApiCollections] = useState<any[]>([]);\r\n  const [forms, setForms] = useState<any[]>([]);\r\n  const [templates, setTemplates] = useState<any[]>([]);\r\n  const [expandedSections, setExpandedSections] = useState<{\r\n    pages: boolean;\r\n    widgets: boolean;\r\n    layouts: boolean;\r\n    templates: boolean;\r\n    entities: boolean;\r\n    queries: boolean;\r\n    apiCollections: boolean;\r\n    forms: boolean;\r\n  }>({\r\n    pages: true,\r\n    widgets: true,\r\n    layouts: true,\r\n    templates: true,\r\n    entities: true,\r\n    queries: true,\r\n    apiCollections: true,\r\n    forms: true,\r\n  });\r\n\r\n  // Preview states for Page\r\n  const [previewPage, setPreviewPage] = useState<Tables<\"pages\"> | null>(null);\r\n  const [previewPageRows, setPreviewPageRows] = useState<Tables<\"page_rows\">[]>([]);\r\n  const [previewPageComponents, setPreviewPageComponents] = useState<Tables<\"page_components\">[]>([]);\r\n  const [previewPageLayout, setPreviewPageLayout] = useState<Tables<\"layouts\"> | null>(null);\r\n  const [previewPageLayoutRows, setPreviewPageLayoutRows] = useState<Tables<\"layout_rows\">[]>([]);\r\n  const [previewPageLayoutComponents, setPreviewPageLayoutComponents] = useState<Tables<\"layout_components\">[]>([]);\r\n  const [previewPageWidgetData, setPreviewPageWidgetData] = useState<Map<string, { rows: any[]; components: any[] }>>(new Map());\r\n\r\n  // Preview states for Widget\r\n  const [previewWidget, setPreviewWidget] = useState<Tables<\"widgets\"> | null>(null);\r\n  const [previewWidgetRows, setPreviewWidgetRows] = useState<Tables<\"widget_rows\">[]>([]);\r\n  const [previewWidgetComponents, setPreviewWidgetComponents] = useState<Tables<\"widget_components\">[]>([]);\r\n\r\n  // Preview states for Layout\r\n  const [previewLayout, setPreviewLayout] = useState<Tables<\"layouts\"> | null>(null);\r\n  const [previewLayoutRows, setPreviewLayoutRows] = useState<Tables<\"layout_rows\">[]>([]);\r\n  const [previewLayoutComponents, setPreviewLayoutComponents] = useState<Tables<\"layout_components\">[]>([]);\r\n\r\n  useEffect(() => {\r\n    loadData();\r\n\r\n    // Set up realtime subscriptions for all tables\r\n    const pagesChannel = supabase\r\n      .channel('pages-changes')\r\n      .on(\r\n        'postgres_changes',\r\n        {\r\n          event: '*',\r\n          schema: 'public',\r\n          table: 'pages'\r\n        },\r\n        () => loadPages()\r\n      )\r\n      .subscribe();\r\n\r\n    const widgetsChannel = supabase\r\n      .channel('widgets-changes')\r\n      .on(\r\n        'postgres_changes',\r\n        {\r\n          event: '*',\r\n          schema: 'public',\r\n          table: 'widgets'\r\n        },\r\n        () => loadWidgets()\r\n      )\r\n      .subscribe();\r\n\r\n    const layoutsChannel = supabase\r\n      .channel('layouts-changes')\r\n      .on(\r\n        'postgres_changes',\r\n        {\r\n          event: '*',\r\n          schema: 'public',\r\n          table: 'layouts'\r\n        },\r\n        () => loadLayouts()\r\n      )\r\n      .subscribe();\r\n\r\n    const entitiesChannel = supabase\r\n      .channel('entities-changes')\r\n      .on(\r\n        'postgres_changes',\r\n        {\r\n          event: '*',\r\n          schema: 'public',\r\n          table: 'entities'\r\n        },\r\n        () => loadEntities()\r\n      )\r\n      .subscribe();\r\n\r\n    const queriesChannel = supabase\r\n      .channel('queries-changes')\r\n      .on(\r\n        'postgres_changes',\r\n        {\r\n          event: '*',\r\n          schema: 'public',\r\n          table: 'queries'\r\n        },\r\n        () => loadQueries()\r\n      )\r\n      .subscribe();\r\n\r\n    const apiCollectionsChannel = supabase\r\n      .channel('api-collections-changes')\r\n      .on(\r\n        'postgres_changes',\r\n        {\r\n          event: '*',\r\n          schema: 'public',\r\n          table: 'api_collections'\r\n        },\r\n        () => loadApiCollections()\r\n      )\r\n      .subscribe();\r\n\r\n    const formsChannel = supabase\r\n      .channel('forms-changes')\r\n      .on(\r\n        'postgres_changes',\r\n        {\r\n          event: '*',\r\n          schema: 'public',\r\n          table: 'forms'\r\n        },\r\n        () => loadForms()\r\n      )\r\n      .subscribe();\r\n\r\n    return () => {\r\n      supabase.removeChannel(pagesChannel);\r\n      supabase.removeChannel(widgetsChannel);\r\n      supabase.removeChannel(layoutsChannel);\r\n      supabase.removeChannel(entitiesChannel);\r\n      supabase.removeChannel(queriesChannel);\r\n      supabase.removeChannel(apiCollectionsChannel);\r\n      supabase.removeChannel(formsChannel);\r\n    };\r\n  }, []);\r\n\r\n  const loadEntities = async () => {\r\n    const { data, error } = await supabase\r\n      .from(\"entities\")\r\n      .select(\"*\")\r\n      .order(\"created_at\", { ascending: false });\r\n\r\n    if (error) {\r\n      console.error(\"Error loading entities:\", error.message, error);\r\n    } else {\r\n      setEntities(data || []);\r\n    }\r\n  };\r\n\r\n  const loadPages = async () => {\r\n    const { data } = await supabase\r\n      .from(\"pages\")\r\n      .select(\"*\")\r\n      .order(\"title\");\r\n    setPages(data || []);\r\n  };\r\n\r\n  const loadWidgets = async () => {\r\n    const { data } = await supabase\r\n      .from(\"widgets\")\r\n      .select(\"*\")\r\n      .order(\"title\");\r\n    setWidgets(data || []);\r\n  };\r\n\r\n  const loadLayouts = async () => {\r\n    const { data } = await supabase\r\n      .from(\"layouts\")\r\n      .select(\"*\")\r\n      .order(\"title\");\r\n    setLayouts(data || []);\r\n  };\r\n\r\n  const loadQueries = async () => {\r\n    const { data, error } = await supabase\r\n      .from(\"queries\")\r\n      .select(\"*\")\r\n      .order(\"created_at\", { ascending: false });\r\n\r\n    if (error) {\r\n      console.error(\"Error loading queries:\", error.message, error);\r\n    } else {\r\n      setQueries(data || []);\r\n    }\r\n  };\r\n\r\n  const loadApiCollections = async () => {\r\n    const { data, error } = await supabase\r\n      .from(\"api_collections\")\r\n      .select(\"*\")\r\n      .order(\"created_at\", { ascending: false });\r\n\r\n    if (error) {\r\n      // Suppress error if table doesn't exist yet\r\n      if (error.code === '42P01' || error.message.includes('schema cache')) {\r\n        console.warn(\"API Collections table not found, skipping load.\");\r\n      } else {\r\n        console.error(\"Error loading API collections:\", error.message, error);\r\n      }\r\n    } else {\r\n      setApiCollections(data || []);\r\n    }\r\n  };\r\n\r\n  const loadForms = async () => {\r\n    const { data, error } = await supabase\r\n      .from(\"forms\")\r\n      .select(\"*\")\r\n      .order(\"created_at\", { ascending: false });\r\n\r\n    if (error) {\r\n      // Suppress error if table doesn't exist yet\r\n      if (error.code === '42P01' || error.message.includes('schema cache')) {\r\n        console.warn(\"Forms table not found, skipping load.\");\r\n      } else {\r\n        console.error(\"Error loading forms:\", error.message, error);\r\n      }\r\n    } else {\r\n      setForms(data || []);\r\n    }\r\n  };\r\n\r\n  const loadTemplates = async () => {\r\n    const { data, error } = await supabase\r\n      .from(\"section_templates\")\r\n      .select(\"*\")\r\n      .order(\"created_at\", { ascending: false });\r\n\r\n    if (error) {\r\n      console.error(\"Error loading templates:\", error.message, error);\r\n    } else {\r\n      setTemplates(data || []);\r\n    }\r\n  };\r\n\r\n  const loadData = async () => {\r\n    await Promise.all([loadPages(), loadWidgets(), loadLayouts(), loadTemplates(), loadEntities(), loadQueries(), loadApiCollections(), loadForms()]);\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    await supabase.auth.signOut();\r\n    toast.success(\"Logged out successfully\");\r\n    router.push(\"/\");\r\n  };\r\n\r\n  const toggleSection = (section: keyof typeof expandedSections) => {\r\n    setExpandedSections(prev => ({\r\n      ...prev,\r\n      [section]: !prev[section],\r\n    }));\r\n  };\r\n\r\n  const filterItems = <T extends { title?: string; display_name?: string }>(items: T[]) => {\r\n    if (!searchQuery) return items;\r\n    return items.filter(item => {\r\n      const searchText = (item.title || item.display_name || \"\").toLowerCase();\r\n      return searchText.includes(searchQuery.toLowerCase());\r\n    });\r\n  };\r\n\r\n  const filteredPages = filterItems(pages);\r\n  const filteredWidgets = filterItems(widgets);\r\n  const filteredLayouts = filterItems(layouts);\r\n  const filteredTemplates = templates.filter((template: any) =>\r\n    template.name?.toLowerCase().includes(searchQuery.toLowerCase())\r\n  );\r\n  const filteredEntities = entities.filter((entity) =>\r\n    entity.display_name.toLowerCase().includes(searchQuery.toLowerCase())\r\n  );\r\n  const filteredQueries = queries.filter((query: any) =>\r\n    query.display_name?.toLowerCase().includes(searchQuery.toLowerCase())\r\n  );\r\n  const filteredApiCollections = apiCollections.filter((collection: any) =>\r\n    collection.name?.toLowerCase().includes(searchQuery.toLowerCase())\r\n  );\r\n  const filteredForms = forms.filter((form: any) =>\r\n    form.name?.toLowerCase().includes(searchQuery.toLowerCase()) || form.title?.toLowerCase().includes(searchQuery.toLowerCase())\r\n  );\r\n\r\n  const handleDeletePage = async (e: React.MouseEvent, pageId: string) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    if (!confirm(\"Delete this page?\")) return;\r\n\r\n    const { error } = await supabase.from(\"pages\").delete().eq(\"id\", pageId);\r\n    if (error) {\r\n      toast.error(\"Failed to delete page\");\r\n    } else {\r\n      toast.success(\"Page deleted\");\r\n    }\r\n  };\r\n\r\n  const handleDeleteWidget = async (e: React.MouseEvent, widgetId: string) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    if (!confirm(\"Delete this widget?\")) return;\r\n\r\n    const { error } = await supabase.from(\"widgets\").delete().eq(\"id\", widgetId);\r\n    if (error) {\r\n      toast.error(\"Failed to delete widget\");\r\n    } else {\r\n      toast.success(\"Widget deleted\");\r\n    }\r\n  };\r\n\r\n  const handleDeleteLayout = async (e: React.MouseEvent, layoutId: string) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    if (!confirm(\"Delete this layout?\")) return;\r\n\r\n    const { error } = await supabase.from(\"layouts\").delete().eq(\"id\", layoutId);\r\n    if (error) {\r\n      toast.error(\"Failed to delete layout\");\r\n    } else {\r\n      toast.success(\"Layout deleted\");\r\n    }\r\n  };\r\n\r\n  const handleDeleteEntity = async (e: React.MouseEvent, entityId: string) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (!confirm(\"Delete this entity?\")) return;\r\n    const { error } = await supabase.from(\"entities\").delete().eq(\"id\", entityId);\r\n    if (error) toast.error(\"Failed to delete entity\");\r\n    else toast.success(\"Entity deleted\");\r\n  };\r\n\r\n  const handleDeleteQuery = async (e: React.MouseEvent, queryId: string) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (!confirm(\"Delete this query?\")) return;\r\n    const { error } = await supabase.from(\"queries\" as any).delete().eq(\"id\", queryId);\r\n    if (error) toast.error(\"Failed to delete query\");\r\n    else toast.success(\"Query deleted\");\r\n  };\r\n\r\n  const handleDeleteApiCollection = async (e: React.MouseEvent, collectionId: string) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (!confirm(\"Delete this API collection? All requests will be deleted.\")) return;\r\n    const { error } = await supabase.from(\"api_collections\" as any).delete().eq(\"id\", collectionId);\r\n    if (error) toast.error(\"Failed to delete collection\");\r\n    else toast.success(\"Collection deleted\");\r\n  };\r\n\r\n  const handleDeleteForm = async (e: React.MouseEvent, formId: string) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (!confirm(\"Delete this form? All submissions will be deleted.\")) return;\r\n    const { error } = await supabase.from(\"forms\" as any).delete().eq(\"id\", formId);\r\n    if (error) toast.error(\"Failed to delete form\");\r\n    else toast.success(\"Form deleted\");\r\n  };\r\n\r\n  const handleDeleteTemplate = async (e: React.MouseEvent, templateId: string) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (!confirm(\"Delete this template?\")) return;\r\n    const { error } = await supabase.from(\"section_templates\").delete().eq(\"id\", templateId);\r\n    if (error) toast.error(\"Failed to delete template\");\r\n    else toast.success(\"Template deleted\");\r\n  };\r\n\r\n  const handlePreviewPage = async (e: React.MouseEvent, page: Tables<\"pages\">) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    const [rowsData, componentsData, layoutData] = await Promise.all([\r\n      supabase.from(\"page_rows\").select(\"*\").eq(\"page_id\", page.id).order(\"position\"),\r\n      supabase.from(\"page_components\").select(\"*\").eq(\"page_id\", page.id).order(\"position\"),\r\n      page.layout_id ? supabase.from(\"layouts\").select(\"*\").eq(\"id\", page.layout_id).single() : Promise.resolve({ data: null, error: null }),\r\n    ]);\r\n\r\n    setPreviewPageRows(rowsData.data || []);\r\n    setPreviewPageComponents(componentsData.data || []);\r\n\r\n    if (layoutData.data) {\r\n      const [layoutRowsData, layoutComponentsData] = await Promise.all([\r\n        supabase.from(\"layout_rows\").select(\"*\").eq(\"layout_id\", layoutData.data.id).order(\"position\"),\r\n        supabase.from(\"layout_components\").select(\"*\").eq(\"layout_id\", layoutData.data.id).order(\"position\"),\r\n      ]);\r\n\r\n      setPreviewPageLayout(layoutData.data);\r\n      setPreviewPageLayoutRows(layoutRowsData.data || []);\r\n      setPreviewPageLayoutComponents(layoutComponentsData.data || []);\r\n    } else {\r\n      setPreviewPageLayout(null);\r\n      setPreviewPageLayoutRows([]);\r\n      setPreviewPageLayoutComponents([]);\r\n    }\r\n\r\n    // Fetch widget data\r\n    const allComponents = [...(componentsData.data || []), ...(layoutData.data ? await supabase.from(\"layout_components\").select(\"*\").eq(\"layout_id\", layoutData.data.id) : { data: [] }).data || []];\r\n    const widgetIds = allComponents.filter((c: any) => c.is_widget_instance && c.widget_id).map((c: any) => c.widget_id);\r\n    const uniqueWidgetIds = Array.from(new Set(widgetIds));\r\n\r\n    const widgetDataMap = new Map();\r\n    for (const widgetId of uniqueWidgetIds) {\r\n      const [wRows, wComps] = await Promise.all([\r\n        supabase.from(\"widget_rows\").select(\"*\").eq(\"widget_id\", widgetId).order(\"position\"),\r\n        supabase.from(\"widget_components\").select(\"*\").eq(\"widget_id\", widgetId).order(\"position\"),\r\n      ]);\r\n      widgetDataMap.set(widgetId, { rows: wRows.data || [], components: wComps.data || [] });\r\n    }\r\n\r\n    setPreviewPageWidgetData(widgetDataMap);\r\n    setPreviewPage(page);\r\n  };\r\n\r\n  const handlePreviewWidget = async (e: React.MouseEvent, widget: Tables<\"widgets\">) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    const [rowsData, componentsData] = await Promise.all([\r\n      supabase.from(\"widget_rows\").select(\"*\").eq(\"widget_id\", widget.id).order(\"position\"),\r\n      supabase.from(\"widget_components\").select(\"*\").eq(\"widget_id\", widget.id).order(\"position\"),\r\n    ]);\r\n\r\n    setPreviewWidgetRows(rowsData.data || []);\r\n    setPreviewWidgetComponents(componentsData.data || []);\r\n    setPreviewWidget(widget);\r\n  };\r\n\r\n  const handlePreviewLayout = async (e: React.MouseEvent, layout: Tables<\"layouts\">) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    const [rowsData, componentsData] = await Promise.all([\r\n      supabase.from(\"layout_rows\").select(\"*\").eq(\"layout_id\", layout.id).order(\"position\"),\r\n      supabase.from(\"layout_components\").select(\"*\").eq(\"layout_id\", layout.id).order(\"position\"),\r\n    ]);\r\n\r\n    setPreviewLayoutRows(rowsData.data || []);\r\n    setPreviewLayoutComponents(componentsData.data || []);\r\n    setPreviewLayout(layout);\r\n  };\r\n\r\n  const navItems = [\r\n    { path: \"/admin\", label: \"Pages\", icon: FileText },\r\n    { path: \"/admin/widgets\", label: \"Widgets\", icon: Box },\r\n    { path: \"/admin/layouts\", label: \"Layouts\", icon: LayoutIcon },\r\n  ];\r\n\r\n  const isActive = (path: string) => {\r\n    if (path === \"/admin\") {\r\n      return pathname === \"/admin\";\r\n    }\r\n    return pathname.startsWith(path);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background flex\">\r\n      {/* Sidebar */}\r\n      <aside className=\"w-64 border-r bg-card flex flex-col shadow-[var(--shadow-soft)]\">\r\n        <div className=\"p-6 border-b\">\r\n          <h1 className=\"text-2xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent\">\r\n            Admin Panel\r\n          </h1>\r\n        </div>\r\n\r\n        <div className=\"p-4 border-b\">\r\n          <div className=\"relative\">\r\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n            <Input\r\n              type=\"search\"\r\n              placeholder=\"Search...\"\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              className=\"pl-9\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <nav className=\"flex-1 p-4 overflow-auto\">\r\n          <div className=\"space-y-4\">\r\n            {/* Pages Section */}\r\n            <div>\r\n              <div className=\"flex items-center group\">\r\n                <div\r\n                  onClick={() => toggleSection('pages')}\r\n                  className=\"flex items-center gap-2 flex-1 px-2 py-2 hover:bg-accent rounded transition-colors cursor-pointer\"\r\n                >\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"icon\"\r\n                    className=\"h-8 w-8\"\r\n                    onClick={(e) => { e.stopPropagation(); router.push(\"/admin\"); }}\r\n                    title=\"View all pages\"\r\n                  >\r\n                    <FileText className=\"h-4 w-4\" />\r\n                  </Button>\r\n                  <span className=\"text-sm font-medium text-muted-foreground\">\r\n                    Pages\r\n                  </span>\r\n                </div>\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"icon\"\r\n                  className=\"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                  onClick={(e) => { e.stopPropagation(); router.push(\"/admin\"); }}\r\n                  title=\"View all pages\"\r\n                >\r\n                  <List className=\"h-4 w-4\" />\r\n                </Button>\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"icon\"\r\n                  className=\"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    const createButton = document.querySelector('[data-create-page]') as HTMLButtonElement;\r\n                    createButton?.click();\r\n                  }}\r\n                  title=\"Create new page\"\r\n                >\r\n                  <Plus className=\"h-4 w-4\" />\r\n                </Button>\r\n                <button\r\n                  onClick={() => toggleSection('pages')}\r\n                  className=\"p-2 hover:bg-accent rounded transition-colors\"\r\n                >\r\n                  {expandedSections.pages ? (\r\n                    <ChevronDown className=\"h-4 w-4\" />\r\n                  ) : (\r\n                    <ChevronRight className=\"h-4 w-4\" />\r\n                  )}\r\n                </button>\r\n              </div>\r\n              {expandedSections.pages && (\r\n                <div className=\"mt-1 space-y-1\">\r\n                  {filteredPages.map((page) => (\r\n                    <div key={page.id} className=\"group relative\">\r\n                      <Link\r\n                        href={`/admin/editor/${page.id}`}\r\n                        className={cn(\r\n                          \"flex items-center gap-2 px-4 py-2 text-sm rounded-lg transition-colors\",\r\n                          pathname === `/admin/editor/${page.id}`\r\n                            ? \"bg-primary text-primary-foreground\"\r\n                            : \"hover:bg-accent text-muted-foreground hover:text-foreground\"\r\n                        )}\r\n                      >\r\n                        <FileEdit className=\"h-4 w-4 flex-shrink-0\" />\r\n                        <span className=\"truncate flex-1\">{page.title}</span>\r\n                        {page.is_published && (\r\n                          <span className=\"h-2 w-2 rounded-full bg-green-500 flex-shrink-0\" title=\"Published\" />\r\n                        )}\r\n                      </Link>\r\n                      <div className=\"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1\">\r\n                        <Button\r\n                          variant=\"ghost\"\r\n                          size=\"icon\"\r\n                          className=\"h-6 w-6\"\r\n                          onClick={(e) => handlePreviewPage(e, page)}\r\n                          title=\"Preview\"\r\n                        >\r\n                          <Eye className=\"h-3 w-3\" />\r\n                        </Button>\r\n                        <Button\r\n                          variant=\"ghost\"\r\n                          size=\"icon\"\r\n                          className=\"h-6 w-6 hover:bg-destructive hover:text-destructive-foreground\"\r\n                          onClick={(e) => handleDeletePage(e, page.id)}\r\n                          title=\"Delete\"\r\n                        >\r\n                          <Trash2 className=\"h-3 w-3\" />\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                  {filteredPages.length === 0 && (\r\n                    <div className=\"px-4 py-2 text-xs text-muted-foreground\">\r\n                      {searchQuery ? \"No pages found\" : \"No pages yet\"}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Widgets Section */}\r\n            <div>\r\n              <div className=\"flex items-center group\">\r\n                <div\r\n                  onClick={() => toggleSection('widgets')}\r\n                  className=\"flex items-center gap-2 flex-1 px-2 py-2 hover:bg-accent rounded transition-colors cursor-pointer\"\r\n                >\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"icon\"\r\n                    className=\"h-8 w-8\"\r\n                    onClick={(e) => { e.stopPropagation(); router.push(\"/admin/widgets\"); }}\r\n                    title=\"View all widgets\"\r\n                  >\r\n                    <Box className=\"h-4 w-4\" />\r\n                  </Button>\r\n                  <div className=\"flex items-center gap-1 flex-1\">\r\n                    <span className=\"text-sm font-medium text-muted-foreground\">\r\n                      Widgets\r\n                    </span>\r\n                    <Tooltip>\r\n                      <TooltipTrigger onClick={(e) => e.stopPropagation()}>\r\n                        <Info className=\"h-3 w-3 text-muted-foreground\" />\r\n                      </TooltipTrigger>\r\n                      <TooltipContent side=\"right\" className=\"max-w-xs\">\r\n                        <p className=\"text-xs\">Reusable components that update everywhere when edited</p>\r\n                      </TooltipContent>\r\n                    </Tooltip>\r\n                  </div>\r\n                </div>\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"icon\"\r\n                  className=\"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                  onClick={(e) => { e.stopPropagation(); router.push(\"/admin/widgets\"); }}\r\n                  title=\"View all widgets\"\r\n                >\r\n                  <List className=\"h-4 w-4\" />\r\n                </Button>\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"icon\"\r\n                  className=\"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    const createButton = document.querySelector('[data-create-widget]') as HTMLButtonElement;\r\n                    createButton?.click();\r\n                  }}\r\n                  title=\"Create new widget\"\r\n                >\r\n                  <Plus className=\"h-4 w-4\" />\r\n                </Button>\r\n                <button\r\n                  onClick={() => toggleSection('widgets')}\r\n                  className=\"p-2 hover:bg-accent rounded transition-colors\"\r\n                >\r\n                  {expandedSections.widgets ? (\r\n                    <ChevronDown className=\"h-4 w-4\" />\r\n                  ) : (\r\n                    <ChevronRight className=\"h-4 w-4\" />\r\n                  )}\r\n                </button>\r\n              </div>\r\n              {expandedSections.widgets && (\r\n                <div className=\"mt-1 space-y-1\">\r\n                  {filteredWidgets.map((widget) => (\r\n                    <div key={widget.id} className=\"group relative\">\r\n                      <Link\r\n                        href={`/admin/widgets/${widget.id}`}\r\n                        className={cn(\r\n                          \"flex items-center gap-2 px-4 py-2 text-sm rounded-lg transition-colors\",\r\n                          pathname === `/admin/widgets/${widget.id}`\r\n                            ? \"bg-primary text-primary-foreground\"\r\n                            : \"hover:bg-accent text-muted-foreground hover:text-foreground\"\r\n                        )}\r\n                      >\r\n                        <Box className=\"h-4 w-4 flex-shrink-0\" />\r\n                        <span className=\"truncate flex-1\">{widget.title}</span>\r\n                        {widget.is_published && (\r\n                          <span className=\"h-2 w-2 rounded-full bg-green-500 flex-shrink-0\" title=\"Published\" />\r\n                        )}\r\n                      </Link>\r\n                      <div className=\"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1\">\r\n                        <Button\r\n                          variant=\"ghost\"\r\n                          size=\"icon\"\r\n                          className=\"h-6 w-6\"\r\n                          onClick={(e) => handlePreviewWidget(e, widget)}\r\n                          title=\"Preview\"\r\n                        >\r\n                          <Eye className=\"h-3 w-3\" />\r\n                        </Button>\r\n                        <Button\r\n                          variant=\"ghost\"\r\n                          size=\"icon\"\r\n                          className=\"h-6 w-6 hover:bg-destructive hover:text-destructive-foreground\"\r\n                          onClick={(e) => handleDeleteWidget(e, widget.id)}\r\n                          title=\"Delete\"\r\n                        >\r\n                          <Trash2 className=\"h-3 w-3\" />\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                  {filteredWidgets.length === 0 && (\r\n                    <div className=\"px-4 py-2 text-xs text-muted-foreground\">\r\n                      {searchQuery ? \"No widgets found\" : \"No widgets yet\"}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Layouts Section */}\r\n            <div>\r\n              <div className=\"flex items-center group\">\r\n                <div\r\n                  onClick={() => toggleSection('layouts')}\r\n                  className=\"flex items-center gap-2 flex-1 px-2 py-2 hover:bg-accent rounded transition-colors cursor-pointer\"\r\n                >\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"icon\"\r\n                    className=\"h-8 w-8\"\r\n                    onClick={(e) => { e.stopPropagation(); router.push(\"/admin/layouts\"); }}\r\n                    title=\"View all layouts\"\r\n                  >\r\n                    <LayoutIcon className=\"h-4 w-4\" />\r\n                  </Button>\r\n                  <span className=\"text-sm font-medium text-muted-foreground\">\r\n                    Layouts\r\n                  </span>\r\n                </div>\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"icon\"\r\n                  className=\"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                  onClick={(e) => { e.stopPropagation(); router.push(\"/admin/layouts\"); }}\r\n                  title=\"View all layouts\"\r\n                >\r\n                  <List className=\"h-4 w-4\" />\r\n                </Button>\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"icon\"\r\n                  className=\"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    const createButton = document.querySelector('[data-create-layout]') as HTMLButtonElement;\r\n                    createButton?.click();\r\n                  }}\r\n                  title=\"Create new layout\"\r\n                >\r\n                  <Plus className=\"h-4 w-4\" />\r\n                </Button>\r\n                <button\r\n                  onClick={() => toggleSection('layouts')}\r\n                  className=\"p-2 hover:bg-accent rounded transition-colors\"\r\n                >\r\n                  {expandedSections.layouts ? (\r\n                    <ChevronDown className=\"h-4 w-4\" />\r\n                  ) : (\r\n                    <ChevronRight className=\"h-4 w-4\" />\r\n                  )}\r\n                </button>\r\n              </div>\r\n              {expandedSections.layouts && (\r\n                <div className=\"mt-1 space-y-1\">\r\n                  {filteredLayouts.map((layout) => (\r\n                    <div key={layout.id} className=\"group relative\">\r\n                      <Link\r\n                        href={`/admin/layouts/${layout.id}`}\r\n                        className={cn(\r\n                          \"flex items-center gap-2 px-4 py-2 text-sm rounded-lg transition-colors\",\r\n                          pathname === `/admin/layouts/${layout.id}`\r\n                            ? \"bg-primary text-primary-foreground\"\r\n                            : \"hover:bg-accent text-muted-foreground hover:text-foreground\"\r\n                        )}\r\n                      >\r\n                        <LayoutIcon className=\"h-4 w-4 flex-shrink-0\" />\r\n                        <span className=\"truncate flex-1\">{layout.title}</span>\r\n                        {layout.is_published && (\r\n                          <span className=\"h-2 w-2 rounded-full bg-green-500 flex-shrink-0\" title=\"Published\" />\r\n                        )}\r\n                      </Link>\r\n                      <div className=\"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1\">\r\n                        <Button\r\n                          variant=\"ghost\"\r\n                          size=\"icon\"\r\n                          className=\"h-6 w-6\"\r\n                          onClick={(e) => handlePreviewLayout(e, layout)}\r\n                          title=\"Preview\"\r\n                        >\r\n                          <Eye className=\"h-3 w-3\" />\r\n                        </Button>\r\n                        <Button\r\n                          variant=\"ghost\"\r\n                          size=\"icon\"\r\n                          className=\"h-6 w-6 hover:bg-destructive hover:text-destructive-foreground\"\r\n                          onClick={(e) => handleDeleteLayout(e, layout.id)}\r\n                          title=\"Delete\"\r\n                        >\r\n                          <Trash2 className=\"h-3 w-3\" />\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                  {filteredLayouts.length === 0 && (\r\n                    <div className=\"px-4 py-2 text-xs text-muted-foreground\">\r\n                      {searchQuery ? \"No layouts found\" : \"No layouts yet\"}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Templates Section */}\r\n            <div>\r\n              <div className=\"flex items-center group\">\r\n                <div\r\n                  onClick={() => toggleSection('templates')}\r\n                  className=\"flex items-center gap-2 flex-1 px-2 py-2 hover:bg-accent rounded transition-colors cursor-pointer\"\r\n                >\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"icon\"\r\n                    className=\"h-8 w-8\"\r\n                    onClick={(e) => { e.stopPropagation(); router.push(\"/admin/templates\"); }}\r\n                    title=\"View all templates\"\r\n                  >\r\n                    <LayoutTemplate className=\"h-4 w-4\" />\r\n                  </Button>\r\n                  <div className=\"flex items-center gap-1 flex-1\">\r\n                    <span className=\"text-sm font-medium text-muted-foreground\">\r\n                      Templates\r\n                    </span>\r\n                    <Tooltip>\r\n                      <TooltipTrigger onClick={(e) => e.stopPropagation()}>\r\n                        <Info className=\"h-3 w-3 text-muted-foreground\" />\r\n                      </TooltipTrigger>\r\n                      <TooltipContent side=\"right\" className=\"max-w-xs\">\r\n                        <p className=\"text-xs\">Pre-built section patterns to insert into pages</p>\r\n                      </TooltipContent>\r\n                    </Tooltip>\r\n                  </div>\r\n                </div>\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"icon\"\r\n                  className=\"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                  onClick={(e) => { e.stopPropagation(); router.push(\"/admin/templates\"); }}\r\n                  title=\"View all templates\"\r\n                >\r\n                  <List className=\"h-4 w-4\" />\r\n                </Button>\r\n                <button\r\n                  onClick={() => toggleSection('templates')}\r\n                  className=\"p-2 hover:bg-accent rounded transition-colors\"\r\n                >\r\n                  {expandedSections.templates ? (\r\n                    <ChevronDown className=\"h-4 w-4\" />\r\n                  ) : (\r\n                    <ChevronRight className=\"h-4 w-4\" />\r\n                  )}\r\n                </button>\r\n              </div>\r\n              {expandedSections.templates && (\r\n                <div className=\"mt-1 space-y-1\">\r\n                  {filteredTemplates.map((template: any) => (\r\n                    <div key={template.id} className=\"group relative\">\r\n                      <Link\r\n                        href={`/admin/templates/${template.id}/editor`}\r\n                        className={cn(\r\n                          \"flex items-center gap-2 px-4 py-2 text-sm rounded-lg transition-colors\",\r\n                          pathname === `/admin/templates/${template.id}/editor`\r\n                            ? \"bg-primary text-primary-foreground\"\r\n                            : \"hover:bg-accent text-muted-foreground hover:text-foreground\"\r\n                        )}\r\n                      >\r\n                        <LayoutTemplate className=\"h-4 w-4 flex-shrink-0\" />\r\n                        <span className=\"truncate flex-1\">{template.name}</span>\r\n                        {template.is_public && (\r\n                          <span className=\"h-2 w-2 rounded-full bg-green-500 flex-shrink-0\" title=\"Public\" />\r\n                        )}\r\n                      </Link>\r\n                      <div className=\"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1\">\r\n                        <Button\r\n                          variant=\"ghost\"\r\n                          size=\"icon\"\r\n                          className=\"h-6 w-6 hover:bg-destructive hover:text-destructive-foreground\"\r\n                          onClick={(e) => handleDeleteTemplate(e, template.id)}\r\n                          title=\"Delete\"\r\n                        >\r\n                          <Trash2 className=\"h-3 w-3\" />\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                  {filteredTemplates.length === 0 && (\r\n                    <div className=\"px-4 py-2 text-xs text-muted-foreground\">\r\n                      {searchQuery ? \"No templates found\" : \"No templates yet\"}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Entities Section */}\r\n            <div>\r\n              <div className=\"flex items-center group\">\r\n                <div\r\n                  onClick={() => toggleSection('entities')}\r\n                  className=\"flex items-center gap-2 flex-1 px-2 py-2 hover:bg-accent rounded transition-colors cursor-pointer\"\r\n                >\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"icon\"\r\n                    className=\"h-8 w-8\"\r\n                    onClick={(e) => { e.stopPropagation(); router.push(\"/admin/entities\"); }}\r\n                    title=\"View all entities\"\r\n                  >\r\n                    <Database className=\"h-4 w-4\" />\r\n                  </Button>\r\n                  <span className=\"text-sm font-medium text-muted-foreground\">\r\n                    Entities\r\n                  </span>\r\n                </div>\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"icon\"\r\n                  className=\"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                  onClick={(e) => { e.stopPropagation(); router.push(\"/admin/entities\"); }}\r\n                  title=\"View all entities\"\r\n                >\r\n                  <List className=\"h-4 w-4\" />\r\n                </Button>\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"icon\"\r\n                  className=\"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    const createButton = document.querySelector('[data-create-entity]') as HTMLButtonElement;\r\n                    createButton?.click();\r\n                  }}\r\n                  title=\"Create new entity\"\r\n                >\r\n                  <Plus className=\"h-4 w-4\" />\r\n                </Button>\r\n                <button\r\n                  onClick={() => toggleSection('entities')}\r\n                  className=\"p-2 hover:bg-accent rounded transition-colors\"\r\n                >\r\n                  {expandedSections.entities ? (\r\n                    <ChevronDown className=\"h-4 w-4\" />\r\n                  ) : (\r\n                    <ChevronRight className=\"h-4 w-4\" />\r\n                  )}\r\n                </button>\r\n              </div>\r\n              {expandedSections.entities && (\r\n                <div className=\"mt-1 space-y-1\">\r\n                  {filteredEntities.map((entity) => (\r\n                    <div key={entity.id} className=\"group relative\">\r\n                      <Link\r\n                        href={`/admin/entities/${entity.id}/records`}\r\n                        className={cn(\r\n                          \"flex items-center gap-2 px-4 py-2 text-sm rounded-lg transition-colors\",\r\n                          pathname === `/admin/entities/${entity.id}/records`\r\n                            ? \"bg-primary text-primary-foreground\"\r\n                            : \"hover:bg-accent text-muted-foreground hover:text-foreground\"\r\n                        )}\r\n                      >\r\n                        <Database className=\"h-4 w-4 flex-shrink-0\" />\r\n                        <span className=\"truncate flex-1\">{entity.display_name}</span>\r\n                        {entity.is_published && (\r\n                          <span className=\"h-2 w-2 rounded-full bg-green-500 flex-shrink-0\" title=\"Published\" />\r\n                        )}\r\n                      </Link>\r\n                      <div className=\"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1\">\r\n                        <Button\r\n                          variant=\"ghost\"\r\n                          size=\"icon\"\r\n                          className=\"h-6 w-6\"\r\n                          onClick={(e) => { e.preventDefault(); e.stopPropagation(); router.push(`/admin/entities/${entity.id}/records`); }}\r\n                          title=\"View Records\"\r\n                        >\r\n                          <Eye className=\"h-3 w-3\" />\r\n                        </Button>\r\n                        <Button\r\n                          variant=\"ghost\"\r\n                          size=\"icon\"\r\n                          className=\"h-6 w-6 hover:bg-destructive hover:text-destructive-foreground\"\r\n                          onClick={(e) => handleDeleteEntity(e, entity.id)}\r\n                          title=\"Delete\"\r\n                        >\r\n                          <Trash2 className=\"h-3 w-3\" />\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                  {filteredEntities.length === 0 && (\r\n                    <div className=\"px-4 py-2 text-xs text-muted-foreground\">\r\n                      {searchQuery ? \"No entities found\" : \"No entities yet\"}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Queries Section */}\r\n            <div>\r\n              <div className=\"flex items-center group\">\r\n                <div\r\n                  onClick={() => toggleSection('queries')}\r\n                  className=\"flex items-center gap-2 flex-1 px-2 py-2 hover:bg-accent rounded transition-colors cursor-pointer\"\r\n                >\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"icon\"\r\n                    className=\"h-8 w-8\"\r\n                    onClick={(e) => { e.stopPropagation(); router.push(\"/admin/queries\"); }}\r\n                    title=\"View all queries\"\r\n                  >\r\n                    <SearchCode className=\"h-4 w-4\" />\r\n                  </Button>\r\n                  <span className=\"text-sm font-medium text-muted-foreground\">\r\n                    Queries\r\n                  </span>\r\n                </div>\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"icon\"\r\n                  className=\"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                  onClick={(e) => { e.stopPropagation(); router.push(\"/admin/queries\"); }}\r\n                  title=\"View all queries\"\r\n                >\r\n                  <List className=\"h-4 w-4\" />\r\n                </Button>\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"icon\"\r\n                  className=\"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    const createButton = document.querySelector('[data-create-query]') as HTMLButtonElement;\r\n                    createButton?.click();\r\n                  }}\r\n                  title=\"Create new query\"\r\n                >\r\n                  <Plus className=\"h-4 w-4\" />\r\n                </Button>\r\n                <button\r\n                  onClick={() => toggleSection('queries')}\r\n                  className=\"p-2 hover:bg-accent rounded transition-colors\"\r\n                >\r\n                  {expandedSections.queries ? (\r\n                    <ChevronDown className=\"h-4 w-4\" />\r\n                  ) : (\r\n                    <ChevronRight className=\"h-4 w-4\" />\r\n                  )}\r\n                </button>\r\n              </div>\r\n              {expandedSections.queries && (\r\n                <div className=\"mt-1 space-y-1\">\r\n                  {filteredQueries.map((query) => (\r\n                    <div key={query.id} className=\"group relative\">\r\n                      <Link\r\n                        href={`/admin/queries/${query.id}/editor`}\r\n                        className={cn(\r\n                          \"flex items-center gap-2 px-4 py-2 text-sm rounded-lg transition-colors\",\r\n                          pathname === `/admin/queries/${query.id}/editor`\r\n                            ? \"bg-primary text-primary-foreground\"\r\n                            : \"hover:bg-accent text-muted-foreground hover:text-foreground\"\r\n                        )}\r\n                      >\r\n                        <SearchCode className=\"h-4 w-4 flex-shrink-0\" />\r\n                        <span className=\"truncate flex-1\">{query.display_name}</span>\r\n                        {query.is_published && (\r\n                          <span className=\"h-2 w-2 rounded-full bg-green-500 flex-shrink-0\" title=\"Published\" />\r\n                        )}\r\n                      </Link>\r\n                      <div className=\"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1\">\r\n                        <Button\r\n                          variant=\"ghost\"\r\n                          size=\"icon\"\r\n                          className=\"h-6 w-6\"\r\n                          onClick={(e) => { e.preventDefault(); e.stopPropagation(); router.push(`/admin/queries/${query.id}/results`); }}\r\n                          title=\"View Results\"\r\n                        >\r\n                          <Eye className=\"h-3 w-3\" />\r\n                        </Button>\r\n                        <Button\r\n                          variant=\"ghost\"\r\n                          size=\"icon\"\r\n                          className=\"h-6 w-6 hover:bg-destructive hover:text-destructive-foreground\"\r\n                          onClick={(e) => handleDeleteQuery(e, query.id)}\r\n                          title=\"Delete\"\r\n                        >\r\n                          <Trash2 className=\"h-3 w-3\" />\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                  {filteredQueries.length === 0 && (\r\n                    <div className=\"px-4 py-2 text-xs text-muted-foreground\">\r\n                      {searchQuery ? \"No queries found\" : \"No queries yet\"}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* API Collections Section */}\r\n            <div>\r\n              <div className=\"flex items-center group\">\r\n                <div\r\n                  onClick={() => toggleSection('apiCollections')}\r\n                  className=\"flex items-center gap-2 flex-1 px-2 py-2 hover:bg-accent rounded transition-colors cursor-pointer\"\r\n                >\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"icon\"\r\n                    className=\"h-8 w-8\"\r\n                    onClick={(e) => { e.stopPropagation(); router.push(\"/admin/api-collections\"); }}\r\n                    title=\"View all API collections\"\r\n                  >\r\n                    <Network className=\"h-4 w-4\" />\r\n                  </Button>\r\n                  <span className=\"text-sm font-medium text-muted-foreground\">\r\n                    API Client\r\n                  </span>\r\n                </div>\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"icon\"\r\n                  className=\"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                  onClick={(e) => { e.stopPropagation(); router.push(\"/admin/api-collections\"); }}\r\n                  title=\"View all collections\"\r\n                >\r\n                  <List className=\"h-4 w-4\" />\r\n                </Button>\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"icon\"\r\n                  className=\"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    const createBtn = document.querySelector('[data-create-collection-trigger]') as HTMLButtonElement;\r\n                    createBtn?.click();\r\n                  }}\r\n                  title=\"Create new collection\"\r\n                >\r\n                  <Plus className=\"h-4 w-4\" />\r\n                </Button>\r\n                <button\r\n                  onClick={() => toggleSection('apiCollections')}\r\n                  className=\"p-2 hover:bg-accent rounded transition-colors\"\r\n                >\r\n                  {expandedSections.apiCollections ? (\r\n                    <ChevronDown className=\"h-4 w-4\" />\r\n                  ) : (\r\n                    <ChevronRight className=\"h-4 w-4\" />\r\n                  )}\r\n                </button>\r\n              </div>\r\n              {expandedSections.apiCollections && (\r\n                <div className=\"mt-1 space-y-1\">\r\n                  {filteredApiCollections.map((collection) => (\r\n                    <div key={collection.id} className=\"group relative\">\r\n                      <Link\r\n                        href={`/admin/api-collections/${collection.id}/editor`}\r\n                        className={cn(\r\n                          \"flex items-center gap-2 px-4 py-2 text-sm rounded-lg transition-colors\",\r\n                          pathname === `/admin/api-collections/${collection.id}/editor`\r\n                            ? \"bg-primary text-primary-foreground\"\r\n                            : \"hover:bg-accent text-muted-foreground hover:text-foreground\"\r\n                        )}\r\n                      >\r\n                        <Network className=\"h-4 w-4 flex-shrink-0\" />\r\n                        <span className=\"truncate flex-1\">{collection.name}</span>\r\n                        {collection.is_published && (\r\n                          <span className=\"h-2 w-2 rounded-full bg-green-500 flex-shrink-0\" title=\"Published\" />\r\n                        )}\r\n                      </Link>\r\n                      <div className=\"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1\">\r\n                        <Button\r\n                          variant=\"ghost\"\r\n                          size=\"icon\"\r\n                          className=\"h-6 w-6\"\r\n                          onClick={(e) => { e.preventDefault(); e.stopPropagation(); router.push(`/admin/api-collections/${collection.id}/editor`); }}\r\n                          title=\"Open Collection\"\r\n                        >\r\n                          <Eye className=\"h-3 w-3\" />\r\n                        </Button>\r\n                        <Button\r\n                          variant=\"ghost\"\r\n                          size=\"icon\"\r\n                          className=\"h-6 w-6 hover:bg-destructive hover:text-destructive-foreground\"\r\n                          onClick={(e) => handleDeleteApiCollection(e, collection.id)}\r\n                          title=\"Delete\"\r\n                        >\r\n                          <Trash2 className=\"h-3 w-3\" />\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                  {filteredApiCollections.length === 0 && (\r\n                    <div className=\"px-4 py-2 text-xs text-muted-foreground\">\r\n                      {searchQuery ? \"No API collections found\" : \"No API collections yet\"}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Forms Section */}\r\n            <div>\r\n              <div className=\"flex items-center group\">\r\n                <div\r\n                  onClick={() => toggleSection('forms')}\r\n                  className=\"flex items-center gap-2 flex-1 px-2 py-2 hover:bg-accent rounded transition-colors cursor-pointer\"\r\n                >\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"icon\"\r\n                    className=\"h-8 w-8\"\r\n                    onClick={(e) => { e.stopPropagation(); router.push(\"/admin/forms\"); }}\r\n                    title=\"View all forms\"\r\n                  >\r\n                    <ClipboardList className=\"h-4 w-4\" />\r\n                  </Button>\r\n                  <span className=\"text-sm font-medium text-muted-foreground\">\r\n                    Forms\r\n                  </span>\r\n                </div>\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"icon\"\r\n                  className=\"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                  onClick={(e) => { e.stopPropagation(); router.push(\"/admin/forms\"); }}\r\n                  title=\"View all forms\"\r\n                >\r\n                  <List className=\"h-4 w-4\" />\r\n                </Button>\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"icon\"\r\n                  className=\"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    const createButton = document.querySelector('[data-create-form]') as HTMLButtonElement;\r\n                    createButton?.click();\r\n                  }}\r\n                  title=\"Create new form\"\r\n                >\r\n                  <Plus className=\"h-4 w-4\" />\r\n                </Button>\r\n                <button\r\n                  onClick={() => toggleSection('forms')}\r\n                  className=\"p-2 hover:bg-accent rounded transition-colors\"\r\n                >\r\n                  {expandedSections.forms ? (\r\n                    <ChevronDown className=\"h-4 w-4\" />\r\n                  ) : (\r\n                    <ChevronRight className=\"h-4 w-4\" />\r\n                  )}\r\n                </button>\r\n              </div>\r\n              {expandedSections.forms && (\r\n                <div className=\"mt-1 space-y-1\">\r\n                  {filteredForms.map((form) => (\r\n                    <div key={form.id} className=\"group relative\">\r\n                      <Link\r\n                        href={`/admin/forms/${form.id}/builder`}\r\n                        className={cn(\r\n                          \"flex items-center gap-2 px-4 py-2 text-sm rounded-lg transition-colors\",\r\n                          pathname === `/admin/forms/${form.id}/builder`\r\n                            ? \"bg-primary text-primary-foreground\"\r\n                            : \"hover:bg-accent text-muted-foreground hover:text-foreground\"\r\n                        )}\r\n                      >\r\n                        <ClipboardList className=\"h-4 w-4 flex-shrink-0\" />\r\n                        <span className=\"truncate flex-1\">{form.title || form.name}</span>\r\n                        {form.is_published && (\r\n                          <span className=\"h-2 w-2 rounded-full bg-green-500 flex-shrink-0\" title=\"Published\" />\r\n                        )}\r\n                      </Link>\r\n                      <div className=\"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1\">\r\n                        <Button\r\n                          variant=\"ghost\"\r\n                          size=\"icon\"\r\n                          className=\"h-6 w-6\"\r\n                          onClick={(e) => { e.preventDefault(); e.stopPropagation(); router.push(`/admin/forms/${form.id}/submissions`); }}\r\n                          title=\"View Submissions\"\r\n                        >\r\n                          <Eye className=\"h-3 w-3\" />\r\n                        </Button>\r\n                        <Button\r\n                          variant=\"ghost\"\r\n                          size=\"icon\"\r\n                          className=\"h-6 w-6 hover:bg-destructive hover:text-destructive-foreground\"\r\n                          onClick={(e) => handleDeleteForm(e, form.id)}\r\n                          title=\"Delete\"\r\n                        >\r\n                          <Trash2 className=\"h-3 w-3\" />\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                  {filteredForms.length === 0 && (\r\n                    <div className=\"px-4 py-2 text-xs text-muted-foreground\">\r\n                      {searchQuery ? \"No forms found\" : \"No forms yet\"}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </nav>\r\n\r\n        <div className=\"p-4 border-t\">\r\n          <Button\r\n            variant=\"outline\"\r\n            onClick={handleLogout}\r\n            className=\"w-full gap-2\"\r\n          >\r\n            <LogOut className=\"h-4 w-4\" />\r\n            Logout\r\n          </Button>\r\n        </div>\r\n      </aside>\r\n\r\n      {/* Main Content */}\r\n      <main className=\"flex-1 overflow-auto\">\r\n        {children}\r\n      </main>\r\n\r\n      {/* Preview Modals */}\r\n      <PagePreviewModal\r\n        open={!!previewPage}\r\n        onOpenChange={(open) => !open && setPreviewPage(null)}\r\n        page={previewPage}\r\n        rows={previewPageRows}\r\n        components={previewPageComponents}\r\n        layout={previewPageLayout}\r\n        layoutRows={previewPageLayoutRows}\r\n        layoutComponents={previewPageLayoutComponents}\r\n        widgetData={previewPageWidgetData}\r\n      />\r\n\r\n      <WidgetPreviewModal\r\n        open={!!previewWidget}\r\n        onOpenChange={(open) => !open && setPreviewWidget(null)}\r\n        widget={previewWidget}\r\n        rows={previewWidgetRows}\r\n        components={previewWidgetComponents}\r\n      />\r\n\r\n      <LayoutPreviewModal\r\n        open={!!previewLayout}\r\n        onOpenChange={(open) => !open && setPreviewLayout(null)}\r\n        layout={previewLayout}\r\n        rows={previewLayoutRows}\r\n        components={previewLayoutComponents}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;AAhBA;;;;;;;;;;;;;;;AAsBO,SAAS,YAAY,EAAE,QAAQ,EAAoB;;IACxD,MAAM,WAAW,IAAA,oJAAW;IAC5B,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAoB,EAAE;IACxD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAsB,EAAE;IAC9D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAsB,EAAE;IAC9D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAuB,EAAE;IACjE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAQ,EAAE;IAChD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAAQ,EAAE;IAC9D,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAQ,EAAE;IAC5C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAQ,EAAE;IACpD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,yKAAQ,EASrD;QACD,OAAO;QACP,SAAS;QACT,SAAS;QACT,WAAW;QACX,UAAU;QACV,SAAS;QACT,gBAAgB;QAChB,OAAO;IACT;IAEA,0BAA0B;IAC1B,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAyB;IACvE,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAwB,EAAE;IAChF,MAAM,CAAC,uBAAuB,yBAAyB,GAAG,IAAA,yKAAQ,EAA8B,EAAE;IAClG,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,yKAAQ,EAA2B;IACrF,MAAM,CAAC,uBAAuB,yBAAyB,GAAG,IAAA,yKAAQ,EAA0B,EAAE;IAC9F,MAAM,CAAC,6BAA6B,+BAA+B,GAAG,IAAA,yKAAQ,EAAgC,EAAE;IAChH,MAAM,CAAC,uBAAuB,yBAAyB,GAAG,IAAA,yKAAQ,EAAkD,IAAI;IAExH,4BAA4B;IAC5B,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAA2B;IAC7E,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,yKAAQ,EAA0B,EAAE;IACtF,MAAM,CAAC,yBAAyB,2BAA2B,GAAG,IAAA,yKAAQ,EAAgC,EAAE;IAExG,4BAA4B;IAC5B,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAA2B;IAC7E,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,yKAAQ,EAA0B,EAAE;IACtF,MAAM,CAAC,yBAAyB,2BAA2B,GAAG,IAAA,yKAAQ,EAAgC,EAAE;IAExG,IAAA,0KAAS;iCAAC;YACR;YAEA,+CAA+C;YAC/C,MAAM,eAAe,wJAAQ,CAC1B,OAAO,CAAC,iBACR,EAAE,CACD,oBACA;gBACE,OAAO;gBACP,QAAQ;gBACR,OAAO;YACT;sDACA,IAAM;qDAEP,SAAS;YAEZ,MAAM,iBAAiB,wJAAQ,CAC5B,OAAO,CAAC,mBACR,EAAE,CACD,oBACA;gBACE,OAAO;gBACP,QAAQ;gBACR,OAAO;YACT;wDACA,IAAM;uDAEP,SAAS;YAEZ,MAAM,iBAAiB,wJAAQ,CAC5B,OAAO,CAAC,mBACR,EAAE,CACD,oBACA;gBACE,OAAO;gBACP,QAAQ;gBACR,OAAO;YACT;wDACA,IAAM;uDAEP,SAAS;YAEZ,MAAM,kBAAkB,wJAAQ,CAC7B,OAAO,CAAC,oBACR,EAAE,CACD,oBACA;gBACE,OAAO;gBACP,QAAQ;gBACR,OAAO;YACT;yDACA,IAAM;wDAEP,SAAS;YAEZ,MAAM,iBAAiB,wJAAQ,CAC5B,OAAO,CAAC,mBACR,EAAE,CACD,oBACA;gBACE,OAAO;gBACP,QAAQ;gBACR,OAAO;YACT;wDACA,IAAM;uDAEP,SAAS;YAEZ,MAAM,wBAAwB,wJAAQ,CACnC,OAAO,CAAC,2BACR,EAAE,CACD,oBACA;gBACE,OAAO;gBACP,QAAQ;gBACR,OAAO;YACT;+DACA,IAAM;8DAEP,SAAS;YAEZ,MAAM,eAAe,wJAAQ,CAC1B,OAAO,CAAC,iBACR,EAAE,CACD,oBACA;gBACE,OAAO;gBACP,QAAQ;gBACR,OAAO;YACT;sDACA,IAAM;qDAEP,SAAS;YAEZ;yCAAO;oBACL,wJAAQ,CAAC,aAAa,CAAC;oBACvB,wJAAQ,CAAC,aAAa,CAAC;oBACvB,wJAAQ,CAAC,aAAa,CAAC;oBACvB,wJAAQ,CAAC,aAAa,CAAC;oBACvB,wJAAQ,CAAC,aAAa,CAAC;oBACvB,wJAAQ,CAAC,aAAa,CAAC;oBACvB,wJAAQ,CAAC,aAAa,CAAC;gBACzB;;QACF;gCAAG,EAAE;IAEL,MAAM,eAAe;QACnB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,wJAAQ,CACnC,IAAI,CAAC,YACL,MAAM,CAAC,KACP,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM;QAE1C,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,2BAA2B,MAAM,OAAO,EAAE;QAC1D,OAAO;YACL,YAAY,QAAQ,EAAE;QACxB;IACF;IAEA,MAAM,YAAY;QAChB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,wJAAQ,CAC5B,IAAI,CAAC,SACL,MAAM,CAAC,KACP,KAAK,CAAC;QACT,SAAS,QAAQ,EAAE;IACrB;IAEA,MAAM,cAAc;QAClB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,wJAAQ,CAC5B,IAAI,CAAC,WACL,MAAM,CAAC,KACP,KAAK,CAAC;QACT,WAAW,QAAQ,EAAE;IACvB;IAEA,MAAM,cAAc;QAClB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,wJAAQ,CAC5B,IAAI,CAAC,WACL,MAAM,CAAC,KACP,KAAK,CAAC;QACT,WAAW,QAAQ,EAAE;IACvB;IAEA,MAAM,cAAc;QAClB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,wJAAQ,CACnC,IAAI,CAAC,WACL,MAAM,CAAC,KACP,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM;QAE1C,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,0BAA0B,MAAM,OAAO,EAAE;QACzD,OAAO;YACL,WAAW,QAAQ,EAAE;QACvB;IACF;IAEA,MAAM,qBAAqB;QACzB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,wJAAQ,CACnC,IAAI,CAAC,mBACL,MAAM,CAAC,KACP,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM;QAE1C,IAAI,OAAO;YACT,4CAA4C;YAC5C,IAAI,MAAM,IAAI,KAAK,WAAW,MAAM,OAAO,CAAC,QAAQ,CAAC,iBAAiB;gBACpE,QAAQ,IAAI,CAAC;YACf,OAAO;gBACL,QAAQ,KAAK,CAAC,kCAAkC,MAAM,OAAO,EAAE;YACjE;QACF,OAAO;YACL,kBAAkB,QAAQ,EAAE;QAC9B;IACF;IAEA,MAAM,YAAY;QAChB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,wJAAQ,CACnC,IAAI,CAAC,SACL,MAAM,CAAC,KACP,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM;QAE1C,IAAI,OAAO;YACT,4CAA4C;YAC5C,IAAI,MAAM,IAAI,KAAK,WAAW,MAAM,OAAO,CAAC,QAAQ,CAAC,iBAAiB;gBACpE,QAAQ,IAAI,CAAC;YACf,OAAO;gBACL,QAAQ,KAAK,CAAC,wBAAwB,MAAM,OAAO,EAAE;YACvD;QACF,OAAO;YACL,SAAS,QAAQ,EAAE;QACrB;IACF;IAEA,MAAM,gBAAgB;QACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,wJAAQ,CACnC,IAAI,CAAC,qBACL,MAAM,CAAC,KACP,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM;QAE1C,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,4BAA4B,MAAM,OAAO,EAAE;QAC3D,OAAO;YACL,aAAa,QAAQ,EAAE;QACzB;IACF;IAEA,MAAM,WAAW;QACf,MAAM,QAAQ,GAAG,CAAC;YAAC;YAAa;YAAe;YAAe;YAAiB;YAAgB;YAAe;YAAsB;SAAY;IAClJ;IAEA,MAAM,eAAe;QACnB,MAAM,wJAAQ,CAAC,IAAI,CAAC,OAAO;QAC3B,oJAAK,CAAC,OAAO,CAAC;QACd,OAAO,IAAI,CAAC;IACd;IAEA,MAAM,gBAAgB,CAAC;QACrB,oBAAoB,CAAA,OAAQ,CAAC;gBAC3B,GAAG,IAAI;gBACP,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,QAAQ;YAC3B,CAAC;IACH;IAEA,MAAM,cAAc,CAAsD;QACxE,IAAI,CAAC,aAAa,OAAO;QACzB,OAAO,MAAM,MAAM,CAAC,CAAA;YAClB,MAAM,aAAa,CAAC,KAAK,KAAK,IAAI,KAAK,YAAY,IAAI,EAAE,EAAE,WAAW;YACtE,OAAO,WAAW,QAAQ,CAAC,YAAY,WAAW;QACpD;IACF;IAEA,MAAM,gBAAgB,YAAY;IAClC,MAAM,kBAAkB,YAAY;IACpC,MAAM,kBAAkB,YAAY;IACpC,MAAM,oBAAoB,UAAU,MAAM,CAAC,CAAC,WAC1C,SAAS,IAAI,EAAE,cAAc,SAAS,YAAY,WAAW;IAE/D,MAAM,mBAAmB,SAAS,MAAM,CAAC,CAAC,SACxC,OAAO,YAAY,CAAC,WAAW,GAAG,QAAQ,CAAC,YAAY,WAAW;IAEpE,MAAM,kBAAkB,QAAQ,MAAM,CAAC,CAAC,QACtC,MAAM,YAAY,EAAE,cAAc,SAAS,YAAY,WAAW;IAEpE,MAAM,yBAAyB,eAAe,MAAM,CAAC,CAAC,aACpD,WAAW,IAAI,EAAE,cAAc,SAAS,YAAY,WAAW;IAEjE,MAAM,gBAAgB,MAAM,MAAM,CAAC,CAAC,OAClC,KAAK,IAAI,EAAE,cAAc,SAAS,YAAY,WAAW,OAAO,KAAK,KAAK,EAAE,cAAc,SAAS,YAAY,WAAW;IAG5H,MAAM,mBAAmB,OAAO,GAAqB;QACnD,EAAE,cAAc;QAChB,EAAE,eAAe;QAEjB,IAAI,CAAC,QAAQ,sBAAsB;QAEnC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,wJAAQ,CAAC,IAAI,CAAC,SAAS,MAAM,GAAG,EAAE,CAAC,MAAM;QACjE,IAAI,OAAO;YACT,oJAAK,CAAC,KAAK,CAAC;QACd,OAAO;YACL,oJAAK,CAAC,OAAO,CAAC;QAChB;IACF;IAEA,MAAM,qBAAqB,OAAO,GAAqB;QACrD,EAAE,cAAc;QAChB,EAAE,eAAe;QAEjB,IAAI,CAAC,QAAQ,wBAAwB;QAErC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,wJAAQ,CAAC,IAAI,CAAC,WAAW,MAAM,GAAG,EAAE,CAAC,MAAM;QACnE,IAAI,OAAO;YACT,oJAAK,CAAC,KAAK,CAAC;QACd,OAAO;YACL,oJAAK,CAAC,OAAO,CAAC;QAChB;IACF;IAEA,MAAM,qBAAqB,OAAO,GAAqB;QACrD,EAAE,cAAc;QAChB,EAAE,eAAe;QAEjB,IAAI,CAAC,QAAQ,wBAAwB;QAErC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,wJAAQ,CAAC,IAAI,CAAC,WAAW,MAAM,GAAG,EAAE,CAAC,MAAM;QACnE,IAAI,OAAO;YACT,oJAAK,CAAC,KAAK,CAAC;QACd,OAAO;YACL,oJAAK,CAAC,OAAO,CAAC;QAChB;IACF;IAEA,MAAM,qBAAqB,OAAO,GAAqB;QACrD,EAAE,cAAc;QAChB,EAAE,eAAe;QACjB,IAAI,CAAC,QAAQ,wBAAwB;QACrC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,wJAAQ,CAAC,IAAI,CAAC,YAAY,MAAM,GAAG,EAAE,CAAC,MAAM;QACpE,IAAI,OAAO,oJAAK,CAAC,KAAK,CAAC;aAClB,oJAAK,CAAC,OAAO,CAAC;IACrB;IAEA,MAAM,oBAAoB,OAAO,GAAqB;QACpD,EAAE,cAAc;QAChB,EAAE,eAAe;QACjB,IAAI,CAAC,QAAQ,uBAAuB;QACpC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,wJAAQ,CAAC,IAAI,CAAC,WAAkB,MAAM,GAAG,EAAE,CAAC,MAAM;QAC1E,IAAI,OAAO,oJAAK,CAAC,KAAK,CAAC;aAClB,oJAAK,CAAC,OAAO,CAAC;IACrB;IAEA,MAAM,4BAA4B,OAAO,GAAqB;QAC5D,EAAE,cAAc;QAChB,EAAE,eAAe;QACjB,IAAI,CAAC,QAAQ,8DAA8D;QAC3E,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,wJAAQ,CAAC,IAAI,CAAC,mBAA0B,MAAM,GAAG,EAAE,CAAC,MAAM;QAClF,IAAI,OAAO,oJAAK,CAAC,KAAK,CAAC;aAClB,oJAAK,CAAC,OAAO,CAAC;IACrB;IAEA,MAAM,mBAAmB,OAAO,GAAqB;QACnD,EAAE,cAAc;QAChB,EAAE,eAAe;QACjB,IAAI,CAAC,QAAQ,uDAAuD;QACpE,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,wJAAQ,CAAC,IAAI,CAAC,SAAgB,MAAM,GAAG,EAAE,CAAC,MAAM;QACxE,IAAI,OAAO,oJAAK,CAAC,KAAK,CAAC;aAClB,oJAAK,CAAC,OAAO,CAAC;IACrB;IAEA,MAAM,uBAAuB,OAAO,GAAqB;QACvD,EAAE,cAAc;QAChB,EAAE,eAAe;QACjB,IAAI,CAAC,QAAQ,0BAA0B;QACvC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,wJAAQ,CAAC,IAAI,CAAC,qBAAqB,MAAM,GAAG,EAAE,CAAC,MAAM;QAC7E,IAAI,OAAO,oJAAK,CAAC,KAAK,CAAC;aAClB,oJAAK,CAAC,OAAO,CAAC;IACrB;IAEA,MAAM,oBAAoB,OAAO,GAAqB;QACpD,EAAE,cAAc;QAChB,EAAE,eAAe;QAEjB,MAAM,CAAC,UAAU,gBAAgB,WAAW,GAAG,MAAM,QAAQ,GAAG,CAAC;YAC/D,wJAAQ,CAAC,IAAI,CAAC,aAAa,MAAM,CAAC,KAAK,EAAE,CAAC,WAAW,KAAK,EAAE,EAAE,KAAK,CAAC;YACpE,wJAAQ,CAAC,IAAI,CAAC,mBAAmB,MAAM,CAAC,KAAK,EAAE,CAAC,WAAW,KAAK,EAAE,EAAE,KAAK,CAAC;YAC1E,KAAK,SAAS,GAAG,wJAAQ,CAAC,IAAI,CAAC,WAAW,MAAM,CAAC,KAAK,EAAE,CAAC,MAAM,KAAK,SAAS,EAAE,MAAM,KAAK,QAAQ,OAAO,CAAC;gBAAE,MAAM;gBAAM,OAAO;YAAK;SACrI;QAED,mBAAmB,SAAS,IAAI,IAAI,EAAE;QACtC,yBAAyB,eAAe,IAAI,IAAI,EAAE;QAElD,IAAI,WAAW,IAAI,EAAE;YACnB,MAAM,CAAC,gBAAgB,qBAAqB,GAAG,MAAM,QAAQ,GAAG,CAAC;gBAC/D,wJAAQ,CAAC,IAAI,CAAC,eAAe,MAAM,CAAC,KAAK,EAAE,CAAC,aAAa,WAAW,IAAI,CAAC,EAAE,EAAE,KAAK,CAAC;gBACnF,wJAAQ,CAAC,IAAI,CAAC,qBAAqB,MAAM,CAAC,KAAK,EAAE,CAAC,aAAa,WAAW,IAAI,CAAC,EAAE,EAAE,KAAK,CAAC;aAC1F;YAED,qBAAqB,WAAW,IAAI;YACpC,yBAAyB,eAAe,IAAI,IAAI,EAAE;YAClD,+BAA+B,qBAAqB,IAAI,IAAI,EAAE;QAChE,OAAO;YACL,qBAAqB;YACrB,yBAAyB,EAAE;YAC3B,+BAA+B,EAAE;QACnC;QAEA,oBAAoB;QACpB,MAAM,gBAAgB;eAAK,eAAe,IAAI,IAAI,EAAE;eAAM,CAAC,WAAW,IAAI,GAAG,MAAM,wJAAQ,CAAC,IAAI,CAAC,qBAAqB,MAAM,CAAC,KAAK,EAAE,CAAC,aAAa,WAAW,IAAI,CAAC,EAAE,IAAI;gBAAE,MAAM,EAAE;YAAC,CAAC,EAAE,IAAI,IAAI,EAAE;SAAC;QACjM,MAAM,YAAY,cAAc,MAAM,CAAC,CAAC,IAAW,EAAE,kBAAkB,IAAI,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC,IAAW,EAAE,SAAS;QACnH,MAAM,kBAAkB,MAAM,IAAI,CAAC,IAAI,IAAI;QAE3C,MAAM,gBAAgB,IAAI;QAC1B,KAAK,MAAM,YAAY,gBAAiB;YACtC,MAAM,CAAC,OAAO,OAAO,GAAG,MAAM,QAAQ,GAAG,CAAC;gBACxC,wJAAQ,CAAC,IAAI,CAAC,eAAe,MAAM,CAAC,KAAK,EAAE,CAAC,aAAa,UAAU,KAAK,CAAC;gBACzE,wJAAQ,CAAC,IAAI,CAAC,qBAAqB,MAAM,CAAC,KAAK,EAAE,CAAC,aAAa,UAAU,KAAK,CAAC;aAChF;YACD,cAAc,GAAG,CAAC,UAAU;gBAAE,MAAM,MAAM,IAAI,IAAI,EAAE;gBAAE,YAAY,OAAO,IAAI,IAAI,EAAE;YAAC;QACtF;QAEA,yBAAyB;QACzB,eAAe;IACjB;IAEA,MAAM,sBAAsB,OAAO,GAAqB;QACtD,EAAE,cAAc;QAChB,EAAE,eAAe;QAEjB,MAAM,CAAC,UAAU,eAAe,GAAG,MAAM,QAAQ,GAAG,CAAC;YACnD,wJAAQ,CAAC,IAAI,CAAC,eAAe,MAAM,CAAC,KAAK,EAAE,CAAC,aAAa,OAAO,EAAE,EAAE,KAAK,CAAC;YAC1E,wJAAQ,CAAC,IAAI,CAAC,qBAAqB,MAAM,CAAC,KAAK,EAAE,CAAC,aAAa,OAAO,EAAE,EAAE,KAAK,CAAC;SACjF;QAED,qBAAqB,SAAS,IAAI,IAAI,EAAE;QACxC,2BAA2B,eAAe,IAAI,IAAI,EAAE;QACpD,iBAAiB;IACnB;IAEA,MAAM,sBAAsB,OAAO,GAAqB;QACtD,EAAE,cAAc;QAChB,EAAE,eAAe;QAEjB,MAAM,CAAC,UAAU,eAAe,GAAG,MAAM,QAAQ,GAAG,CAAC;YACnD,wJAAQ,CAAC,IAAI,CAAC,eAAe,MAAM,CAAC,KAAK,EAAE,CAAC,aAAa,OAAO,EAAE,EAAE,KAAK,CAAC;YAC1E,wJAAQ,CAAC,IAAI,CAAC,qBAAqB,MAAM,CAAC,KAAK,EAAE,CAAC,aAAa,OAAO,EAAE,EAAE,KAAK,CAAC;SACjF;QAED,qBAAqB,SAAS,IAAI,IAAI,EAAE;QACxC,2BAA2B,eAAe,IAAI,IAAI,EAAE;QACpD,iBAAiB;IACnB;IAEA,MAAM,WAAW;QACf;YAAE,MAAM;YAAU,OAAO;YAAS,MAAM,6NAAQ;QAAC;QACjD;YAAE,MAAM;YAAkB,OAAO;YAAW,MAAM,0MAAG;QAAC;QACtD;YAAE,MAAM;YAAkB,OAAO;YAAW,MAAM,kOAAU;QAAC;KAC9D;IAED,MAAM,WAAW,CAAC;QAChB,IAAI,SAAS,UAAU;YACrB,OAAO,aAAa;QACtB;QACA,OAAO,SAAS,UAAU,CAAC;IAC7B;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAM,WAAU;;kCACf,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAG,WAAU;sCAA2F;;;;;;;;;;;kCAK3G,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,mNAAM;oCAAC,WAAU;;;;;;8CAClB,6LAAC,6IAAK;oCACJ,MAAK;oCACL,aAAY;oCACZ,OAAO;oCACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;oCAC9C,WAAU;;;;;;;;;;;;;;;;;kCAKhB,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,WAAU;;8CAEb,6LAAC;;sDACC,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDACC,SAAS,IAAM,cAAc;oDAC7B,WAAU;;sEAEV,6LAAC,+IAAM;4DACL,SAAQ;4DACR,MAAK;4DACL,WAAU;4DACV,SAAS,CAAC;gEAAQ,EAAE,eAAe;gEAAI,OAAO,IAAI,CAAC;4DAAW;4DAC9D,OAAM;sEAEN,cAAA,6LAAC,6NAAQ;gEAAC,WAAU;;;;;;;;;;;sEAEtB,6LAAC;4DAAK,WAAU;sEAA4C;;;;;;;;;;;;8DAI9D,6LAAC,+IAAM;oDACL,SAAQ;oDACR,MAAK;oDACL,WAAU;oDACV,SAAS,CAAC;wDAAQ,EAAE,eAAe;wDAAI,OAAO,IAAI,CAAC;oDAAW;oDAC9D,OAAM;8DAEN,cAAA,6LAAC,6MAAI;wDAAC,WAAU;;;;;;;;;;;8DAElB,6LAAC,+IAAM;oDACL,SAAQ;oDACR,MAAK;oDACL,WAAU;oDACV,SAAS,CAAC;wDACR,EAAE,eAAe;wDACjB,MAAM,eAAe,SAAS,aAAa,CAAC;wDAC5C,cAAc;oDAChB;oDACA,OAAM;8DAEN,cAAA,6LAAC,6MAAI;wDAAC,WAAU;;;;;;;;;;;8DAElB,6LAAC;oDACC,SAAS,IAAM,cAAc;oDAC7B,WAAU;8DAET,iBAAiB,KAAK,iBACrB,6LAAC,sOAAW;wDAAC,WAAU;;;;;6EAEvB,6LAAC,yOAAY;wDAAC,WAAU;;;;;;;;;;;;;;;;;wCAI7B,iBAAiB,KAAK,kBACrB,6LAAC;4CAAI,WAAU;;gDACZ,cAAc,GAAG,CAAC,CAAC,qBAClB,6LAAC;wDAAkB,WAAU;;0EAC3B,6LAAC,0KAAI;gEACH,MAAM,CAAC,cAAc,EAAE,KAAK,EAAE,EAAE;gEAChC,WAAW,IAAA,4HAAE,EACX,0EACA,aAAa,CAAC,cAAc,EAAE,KAAK,EAAE,EAAE,GACnC,uCACA;;kFAGN,6LAAC,4NAAQ;wEAAC,WAAU;;;;;;kFACpB,6LAAC;wEAAK,WAAU;kFAAmB,KAAK,KAAK;;;;;;oEAC5C,KAAK,YAAY,kBAChB,6LAAC;wEAAK,WAAU;wEAAkD,OAAM;;;;;;;;;;;;0EAG5E,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,+IAAM;wEACL,SAAQ;wEACR,MAAK;wEACL,WAAU;wEACV,SAAS,CAAC,IAAM,kBAAkB,GAAG;wEACrC,OAAM;kFAEN,cAAA,6LAAC,0MAAG;4EAAC,WAAU;;;;;;;;;;;kFAEjB,6LAAC,+IAAM;wEACL,SAAQ;wEACR,MAAK;wEACL,WAAU;wEACV,SAAS,CAAC,IAAM,iBAAiB,GAAG,KAAK,EAAE;wEAC3C,OAAM;kFAEN,cAAA,6LAAC,uNAAM;4EAAC,WAAU;;;;;;;;;;;;;;;;;;uDAjCd,KAAK,EAAE;;;;;gDAsClB,cAAc,MAAM,KAAK,mBACxB,6LAAC;oDAAI,WAAU;8DACZ,cAAc,mBAAmB;;;;;;;;;;;;;;;;;;8CAQ5C,6LAAC;;sDACC,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDACC,SAAS,IAAM,cAAc;oDAC7B,WAAU;;sEAEV,6LAAC,+IAAM;4DACL,SAAQ;4DACR,MAAK;4DACL,WAAU;4DACV,SAAS,CAAC;gEAAQ,EAAE,eAAe;gEAAI,OAAO,IAAI,CAAC;4DAAmB;4DACtE,OAAM;sEAEN,cAAA,6LAAC,0MAAG;gEAAC,WAAU;;;;;;;;;;;sEAEjB,6LAAC;4DAAI,WAAU;;8EACb,6LAAC;oEAAK,WAAU;8EAA4C;;;;;;8EAG5D,6LAAC,iJAAO;;sFACN,6LAAC,wJAAc;4EAAC,SAAS,CAAC,IAAM,EAAE,eAAe;sFAC/C,cAAA,6LAAC,6MAAI;gFAAC,WAAU;;;;;;;;;;;sFAElB,6LAAC,wJAAc;4EAAC,MAAK;4EAAQ,WAAU;sFACrC,cAAA,6LAAC;gFAAE,WAAU;0FAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8DAK/B,6LAAC,+IAAM;oDACL,SAAQ;oDACR,MAAK;oDACL,WAAU;oDACV,SAAS,CAAC;wDAAQ,EAAE,eAAe;wDAAI,OAAO,IAAI,CAAC;oDAAmB;oDACtE,OAAM;8DAEN,cAAA,6LAAC,6MAAI;wDAAC,WAAU;;;;;;;;;;;8DAElB,6LAAC,+IAAM;oDACL,SAAQ;oDACR,MAAK;oDACL,WAAU;oDACV,SAAS,CAAC;wDACR,EAAE,eAAe;wDACjB,MAAM,eAAe,SAAS,aAAa,CAAC;wDAC5C,cAAc;oDAChB;oDACA,OAAM;8DAEN,cAAA,6LAAC,6MAAI;wDAAC,WAAU;;;;;;;;;;;8DAElB,6LAAC;oDACC,SAAS,IAAM,cAAc;oDAC7B,WAAU;8DAET,iBAAiB,OAAO,iBACvB,6LAAC,sOAAW;wDAAC,WAAU;;;;;6EAEvB,6LAAC,yOAAY;wDAAC,WAAU;;;;;;;;;;;;;;;;;wCAI7B,iBAAiB,OAAO,kBACvB,6LAAC;4CAAI,WAAU;;gDACZ,gBAAgB,GAAG,CAAC,CAAC,uBACpB,6LAAC;wDAAoB,WAAU;;0EAC7B,6LAAC,0KAAI;gEACH,MAAM,CAAC,eAAe,EAAE,OAAO,EAAE,EAAE;gEACnC,WAAW,IAAA,4HAAE,EACX,0EACA,aAAa,CAAC,eAAe,EAAE,OAAO,EAAE,EAAE,GACtC,uCACA;;kFAGN,6LAAC,0MAAG;wEAAC,WAAU;;;;;;kFACf,6LAAC;wEAAK,WAAU;kFAAmB,OAAO,KAAK;;;;;;oEAC9C,OAAO,YAAY,kBAClB,6LAAC;wEAAK,WAAU;wEAAkD,OAAM;;;;;;;;;;;;0EAG5E,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,+IAAM;wEACL,SAAQ;wEACR,MAAK;wEACL,WAAU;wEACV,SAAS,CAAC,IAAM,oBAAoB,GAAG;wEACvC,OAAM;kFAEN,cAAA,6LAAC,0MAAG;4EAAC,WAAU;;;;;;;;;;;kFAEjB,6LAAC,+IAAM;wEACL,SAAQ;wEACR,MAAK;wEACL,WAAU;wEACV,SAAS,CAAC,IAAM,mBAAmB,GAAG,OAAO,EAAE;wEAC/C,OAAM;kFAEN,cAAA,6LAAC,uNAAM;4EAAC,WAAU;;;;;;;;;;;;;;;;;;uDAjCd,OAAO,EAAE;;;;;gDAsCpB,gBAAgB,MAAM,KAAK,mBAC1B,6LAAC;oDAAI,WAAU;8DACZ,cAAc,qBAAqB;;;;;;;;;;;;;;;;;;8CAQ9C,6LAAC;;sDACC,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDACC,SAAS,IAAM,cAAc;oDAC7B,WAAU;;sEAEV,6LAAC,+IAAM;4DACL,SAAQ;4DACR,MAAK;4DACL,WAAU;4DACV,SAAS,CAAC;gEAAQ,EAAE,eAAe;gEAAI,OAAO,IAAI,CAAC;4DAAmB;4DACtE,OAAM;sEAEN,cAAA,6LAAC,kOAAU;gEAAC,WAAU;;;;;;;;;;;sEAExB,6LAAC;4DAAK,WAAU;sEAA4C;;;;;;;;;;;;8DAI9D,6LAAC,+IAAM;oDACL,SAAQ;oDACR,MAAK;oDACL,WAAU;oDACV,SAAS,CAAC;wDAAQ,EAAE,eAAe;wDAAI,OAAO,IAAI,CAAC;oDAAmB;oDACtE,OAAM;8DAEN,cAAA,6LAAC,6MAAI;wDAAC,WAAU;;;;;;;;;;;8DAElB,6LAAC,+IAAM;oDACL,SAAQ;oDACR,MAAK;oDACL,WAAU;oDACV,SAAS,CAAC;wDACR,EAAE,eAAe;wDACjB,MAAM,eAAe,SAAS,aAAa,CAAC;wDAC5C,cAAc;oDAChB;oDACA,OAAM;8DAEN,cAAA,6LAAC,6MAAI;wDAAC,WAAU;;;;;;;;;;;8DAElB,6LAAC;oDACC,SAAS,IAAM,cAAc;oDAC7B,WAAU;8DAET,iBAAiB,OAAO,iBACvB,6LAAC,sOAAW;wDAAC,WAAU;;;;;6EAEvB,6LAAC,yOAAY;wDAAC,WAAU;;;;;;;;;;;;;;;;;wCAI7B,iBAAiB,OAAO,kBACvB,6LAAC;4CAAI,WAAU;;gDACZ,gBAAgB,GAAG,CAAC,CAAC,uBACpB,6LAAC;wDAAoB,WAAU;;0EAC7B,6LAAC,0KAAI;gEACH,MAAM,CAAC,eAAe,EAAE,OAAO,EAAE,EAAE;gEACnC,WAAW,IAAA,4HAAE,EACX,0EACA,aAAa,CAAC,eAAe,EAAE,OAAO,EAAE,EAAE,GACtC,uCACA;;kFAGN,6LAAC,kOAAU;wEAAC,WAAU;;;;;;kFACtB,6LAAC;wEAAK,WAAU;kFAAmB,OAAO,KAAK;;;;;;oEAC9C,OAAO,YAAY,kBAClB,6LAAC;wEAAK,WAAU;wEAAkD,OAAM;;;;;;;;;;;;0EAG5E,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,+IAAM;wEACL,SAAQ;wEACR,MAAK;wEACL,WAAU;wEACV,SAAS,CAAC,IAAM,oBAAoB,GAAG;wEACvC,OAAM;kFAEN,cAAA,6LAAC,0MAAG;4EAAC,WAAU;;;;;;;;;;;kFAEjB,6LAAC,+IAAM;wEACL,SAAQ;wEACR,MAAK;wEACL,WAAU;wEACV,SAAS,CAAC,IAAM,mBAAmB,GAAG,OAAO,EAAE;wEAC/C,OAAM;kFAEN,cAAA,6LAAC,uNAAM;4EAAC,WAAU;;;;;;;;;;;;;;;;;;uDAjCd,OAAO,EAAE;;;;;gDAsCpB,gBAAgB,MAAM,KAAK,mBAC1B,6LAAC;oDAAI,WAAU;8DACZ,cAAc,qBAAqB;;;;;;;;;;;;;;;;;;8CAQ9C,6LAAC;;sDACC,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDACC,SAAS,IAAM,cAAc;oDAC7B,WAAU;;sEAEV,6LAAC,+IAAM;4DACL,SAAQ;4DACR,MAAK;4DACL,WAAU;4DACV,SAAS,CAAC;gEAAQ,EAAE,eAAe;gEAAI,OAAO,IAAI,CAAC;4DAAqB;4DACxE,OAAM;sEAEN,cAAA,6LAAC,+OAAc;gEAAC,WAAU;;;;;;;;;;;sEAE5B,6LAAC;4DAAI,WAAU;;8EACb,6LAAC;oEAAK,WAAU;8EAA4C;;;;;;8EAG5D,6LAAC,iJAAO;;sFACN,6LAAC,wJAAc;4EAAC,SAAS,CAAC,IAAM,EAAE,eAAe;sFAC/C,cAAA,6LAAC,6MAAI;gFAAC,WAAU;;;;;;;;;;;sFAElB,6LAAC,wJAAc;4EAAC,MAAK;4EAAQ,WAAU;sFACrC,cAAA,6LAAC;gFAAE,WAAU;0FAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8DAK/B,6LAAC,+IAAM;oDACL,SAAQ;oDACR,MAAK;oDACL,WAAU;oDACV,SAAS,CAAC;wDAAQ,EAAE,eAAe;wDAAI,OAAO,IAAI,CAAC;oDAAqB;oDACxE,OAAM;8DAEN,cAAA,6LAAC,6MAAI;wDAAC,WAAU;;;;;;;;;;;8DAElB,6LAAC;oDACC,SAAS,IAAM,cAAc;oDAC7B,WAAU;8DAET,iBAAiB,SAAS,iBACzB,6LAAC,sOAAW;wDAAC,WAAU;;;;;6EAEvB,6LAAC,yOAAY;wDAAC,WAAU;;;;;;;;;;;;;;;;;wCAI7B,iBAAiB,SAAS,kBACzB,6LAAC;4CAAI,WAAU;;gDACZ,kBAAkB,GAAG,CAAC,CAAC,yBACtB,6LAAC;wDAAsB,WAAU;;0EAC/B,6LAAC,0KAAI;gEACH,MAAM,CAAC,iBAAiB,EAAE,SAAS,EAAE,CAAC,OAAO,CAAC;gEAC9C,WAAW,IAAA,4HAAE,EACX,0EACA,aAAa,CAAC,iBAAiB,EAAE,SAAS,EAAE,CAAC,OAAO,CAAC,GACjD,uCACA;;kFAGN,6LAAC,+OAAc;wEAAC,WAAU;;;;;;kFAC1B,6LAAC;wEAAK,WAAU;kFAAmB,SAAS,IAAI;;;;;;oEAC/C,SAAS,SAAS,kBACjB,6LAAC;wEAAK,WAAU;wEAAkD,OAAM;;;;;;;;;;;;0EAG5E,6LAAC;gEAAI,WAAU;0EACb,cAAA,6LAAC,+IAAM;oEACL,SAAQ;oEACR,MAAK;oEACL,WAAU;oEACV,SAAS,CAAC,IAAM,qBAAqB,GAAG,SAAS,EAAE;oEACnD,OAAM;8EAEN,cAAA,6LAAC,uNAAM;wEAAC,WAAU;;;;;;;;;;;;;;;;;uDAxBd,SAAS,EAAE;;;;;gDA6BtB,kBAAkB,MAAM,KAAK,mBAC5B,6LAAC;oDAAI,WAAU;8DACZ,cAAc,uBAAuB;;;;;;;;;;;;;;;;;;8CAQhD,6LAAC;;sDACC,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDACC,SAAS,IAAM,cAAc;oDAC7B,WAAU;;sEAEV,6LAAC,+IAAM;4DACL,SAAQ;4DACR,MAAK;4DACL,WAAU;4DACV,SAAS,CAAC;gEAAQ,EAAE,eAAe;gEAAI,OAAO,IAAI,CAAC;4DAAoB;4DACvE,OAAM;sEAEN,cAAA,6LAAC,yNAAQ;gEAAC,WAAU;;;;;;;;;;;sEAEtB,6LAAC;4DAAK,WAAU;sEAA4C;;;;;;;;;;;;8DAI9D,6LAAC,+IAAM;oDACL,SAAQ;oDACR,MAAK;oDACL,WAAU;oDACV,SAAS,CAAC;wDAAQ,EAAE,eAAe;wDAAI,OAAO,IAAI,CAAC;oDAAoB;oDACvE,OAAM;8DAEN,cAAA,6LAAC,6MAAI;wDAAC,WAAU;;;;;;;;;;;8DAElB,6LAAC,+IAAM;oDACL,SAAQ;oDACR,MAAK;oDACL,WAAU;oDACV,SAAS,CAAC;wDACR,EAAE,eAAe;wDACjB,MAAM,eAAe,SAAS,aAAa,CAAC;wDAC5C,cAAc;oDAChB;oDACA,OAAM;8DAEN,cAAA,6LAAC,6MAAI;wDAAC,WAAU;;;;;;;;;;;8DAElB,6LAAC;oDACC,SAAS,IAAM,cAAc;oDAC7B,WAAU;8DAET,iBAAiB,QAAQ,iBACxB,6LAAC,sOAAW;wDAAC,WAAU;;;;;6EAEvB,6LAAC,yOAAY;wDAAC,WAAU;;;;;;;;;;;;;;;;;wCAI7B,iBAAiB,QAAQ,kBACxB,6LAAC;4CAAI,WAAU;;gDACZ,iBAAiB,GAAG,CAAC,CAAC,uBACrB,6LAAC;wDAAoB,WAAU;;0EAC7B,6LAAC,0KAAI;gEACH,MAAM,CAAC,gBAAgB,EAAE,OAAO,EAAE,CAAC,QAAQ,CAAC;gEAC5C,WAAW,IAAA,4HAAE,EACX,0EACA,aAAa,CAAC,gBAAgB,EAAE,OAAO,EAAE,CAAC,QAAQ,CAAC,GAC/C,uCACA;;kFAGN,6LAAC,yNAAQ;wEAAC,WAAU;;;;;;kFACpB,6LAAC;wEAAK,WAAU;kFAAmB,OAAO,YAAY;;;;;;oEACrD,OAAO,YAAY,kBAClB,6LAAC;wEAAK,WAAU;wEAAkD,OAAM;;;;;;;;;;;;0EAG5E,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,+IAAM;wEACL,SAAQ;wEACR,MAAK;wEACL,WAAU;wEACV,SAAS,CAAC;4EAAQ,EAAE,cAAc;4EAAI,EAAE,eAAe;4EAAI,OAAO,IAAI,CAAC,CAAC,gBAAgB,EAAE,OAAO,EAAE,CAAC,QAAQ,CAAC;wEAAG;wEAChH,OAAM;kFAEN,cAAA,6LAAC,0MAAG;4EAAC,WAAU;;;;;;;;;;;kFAEjB,6LAAC,+IAAM;wEACL,SAAQ;wEACR,MAAK;wEACL,WAAU;wEACV,SAAS,CAAC,IAAM,mBAAmB,GAAG,OAAO,EAAE;wEAC/C,OAAM;kFAEN,cAAA,6LAAC,uNAAM;4EAAC,WAAU;;;;;;;;;;;;;;;;;;uDAjCd,OAAO,EAAE;;;;;gDAsCpB,iBAAiB,MAAM,KAAK,mBAC3B,6LAAC;oDAAI,WAAU;8DACZ,cAAc,sBAAsB;;;;;;;;;;;;;;;;;;8CAQ/C,6LAAC;;sDACC,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDACC,SAAS,IAAM,cAAc;oDAC7B,WAAU;;sEAEV,6LAAC,+IAAM;4DACL,SAAQ;4DACR,MAAK;4DACL,WAAU;4DACV,SAAS,CAAC;gEAAQ,EAAE,eAAe;gEAAI,OAAO,IAAI,CAAC;4DAAmB;4DACtE,OAAM;sEAEN,cAAA,6LAAC,mOAAU;gEAAC,WAAU;;;;;;;;;;;sEAExB,6LAAC;4DAAK,WAAU;sEAA4C;;;;;;;;;;;;8DAI9D,6LAAC,+IAAM;oDACL,SAAQ;oDACR,MAAK;oDACL,WAAU;oDACV,SAAS,CAAC;wDAAQ,EAAE,eAAe;wDAAI,OAAO,IAAI,CAAC;oDAAmB;oDACtE,OAAM;8DAEN,cAAA,6LAAC,6MAAI;wDAAC,WAAU;;;;;;;;;;;8DAElB,6LAAC,+IAAM;oDACL,SAAQ;oDACR,MAAK;oDACL,WAAU;oDACV,SAAS,CAAC;wDACR,EAAE,eAAe;wDACjB,MAAM,eAAe,SAAS,aAAa,CAAC;wDAC5C,cAAc;oDAChB;oDACA,OAAM;8DAEN,cAAA,6LAAC,6MAAI;wDAAC,WAAU;;;;;;;;;;;8DAElB,6LAAC;oDACC,SAAS,IAAM,cAAc;oDAC7B,WAAU;8DAET,iBAAiB,OAAO,iBACvB,6LAAC,sOAAW;wDAAC,WAAU;;;;;6EAEvB,6LAAC,yOAAY;wDAAC,WAAU;;;;;;;;;;;;;;;;;wCAI7B,iBAAiB,OAAO,kBACvB,6LAAC;4CAAI,WAAU;;gDACZ,gBAAgB,GAAG,CAAC,CAAC,sBACpB,6LAAC;wDAAmB,WAAU;;0EAC5B,6LAAC,0KAAI;gEACH,MAAM,CAAC,eAAe,EAAE,MAAM,EAAE,CAAC,OAAO,CAAC;gEACzC,WAAW,IAAA,4HAAE,EACX,0EACA,aAAa,CAAC,eAAe,EAAE,MAAM,EAAE,CAAC,OAAO,CAAC,GAC5C,uCACA;;kFAGN,6LAAC,mOAAU;wEAAC,WAAU;;;;;;kFACtB,6LAAC;wEAAK,WAAU;kFAAmB,MAAM,YAAY;;;;;;oEACpD,MAAM,YAAY,kBACjB,6LAAC;wEAAK,WAAU;wEAAkD,OAAM;;;;;;;;;;;;0EAG5E,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,+IAAM;wEACL,SAAQ;wEACR,MAAK;wEACL,WAAU;wEACV,SAAS,CAAC;4EAAQ,EAAE,cAAc;4EAAI,EAAE,eAAe;4EAAI,OAAO,IAAI,CAAC,CAAC,eAAe,EAAE,MAAM,EAAE,CAAC,QAAQ,CAAC;wEAAG;wEAC9G,OAAM;kFAEN,cAAA,6LAAC,0MAAG;4EAAC,WAAU;;;;;;;;;;;kFAEjB,6LAAC,+IAAM;wEACL,SAAQ;wEACR,MAAK;wEACL,WAAU;wEACV,SAAS,CAAC,IAAM,kBAAkB,GAAG,MAAM,EAAE;wEAC7C,OAAM;kFAEN,cAAA,6LAAC,uNAAM;4EAAC,WAAU;;;;;;;;;;;;;;;;;;uDAjCd,MAAM,EAAE;;;;;gDAsCnB,gBAAgB,MAAM,KAAK,mBAC1B,6LAAC;oDAAI,WAAU;8DACZ,cAAc,qBAAqB;;;;;;;;;;;;;;;;;;8CAQ9C,6LAAC;;sDACC,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDACC,SAAS,IAAM,cAAc;oDAC7B,WAAU;;sEAEV,6LAAC,+IAAM;4DACL,SAAQ;4DACR,MAAK;4DACL,WAAU;4DACV,SAAS,CAAC;gEAAQ,EAAE,eAAe;gEAAI,OAAO,IAAI,CAAC;4DAA2B;4DAC9E,OAAM;sEAEN,cAAA,6LAAC,sNAAO;gEAAC,WAAU;;;;;;;;;;;sEAErB,6LAAC;4DAAK,WAAU;sEAA4C;;;;;;;;;;;;8DAI9D,6LAAC,+IAAM;oDACL,SAAQ;oDACR,MAAK;oDACL,WAAU;oDACV,SAAS,CAAC;wDAAQ,EAAE,eAAe;wDAAI,OAAO,IAAI,CAAC;oDAA2B;oDAC9E,OAAM;8DAEN,cAAA,6LAAC,6MAAI;wDAAC,WAAU;;;;;;;;;;;8DAElB,6LAAC,+IAAM;oDACL,SAAQ;oDACR,MAAK;oDACL,WAAU;oDACV,SAAS,CAAC;wDACR,EAAE,eAAe;wDACjB,MAAM,YAAY,SAAS,aAAa,CAAC;wDACzC,WAAW;oDACb;oDACA,OAAM;8DAEN,cAAA,6LAAC,6MAAI;wDAAC,WAAU;;;;;;;;;;;8DAElB,6LAAC;oDACC,SAAS,IAAM,cAAc;oDAC7B,WAAU;8DAET,iBAAiB,cAAc,iBAC9B,6LAAC,sOAAW;wDAAC,WAAU;;;;;6EAEvB,6LAAC,yOAAY;wDAAC,WAAU;;;;;;;;;;;;;;;;;wCAI7B,iBAAiB,cAAc,kBAC9B,6LAAC;4CAAI,WAAU;;gDACZ,uBAAuB,GAAG,CAAC,CAAC,2BAC3B,6LAAC;wDAAwB,WAAU;;0EACjC,6LAAC,0KAAI;gEACH,MAAM,CAAC,uBAAuB,EAAE,WAAW,EAAE,CAAC,OAAO,CAAC;gEACtD,WAAW,IAAA,4HAAE,EACX,0EACA,aAAa,CAAC,uBAAuB,EAAE,WAAW,EAAE,CAAC,OAAO,CAAC,GACzD,uCACA;;kFAGN,6LAAC,sNAAO;wEAAC,WAAU;;;;;;kFACnB,6LAAC;wEAAK,WAAU;kFAAmB,WAAW,IAAI;;;;;;oEACjD,WAAW,YAAY,kBACtB,6LAAC;wEAAK,WAAU;wEAAkD,OAAM;;;;;;;;;;;;0EAG5E,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,+IAAM;wEACL,SAAQ;wEACR,MAAK;wEACL,WAAU;wEACV,SAAS,CAAC;4EAAQ,EAAE,cAAc;4EAAI,EAAE,eAAe;4EAAI,OAAO,IAAI,CAAC,CAAC,uBAAuB,EAAE,WAAW,EAAE,CAAC,OAAO,CAAC;wEAAG;wEAC1H,OAAM;kFAEN,cAAA,6LAAC,0MAAG;4EAAC,WAAU;;;;;;;;;;;kFAEjB,6LAAC,+IAAM;wEACL,SAAQ;wEACR,MAAK;wEACL,WAAU;wEACV,SAAS,CAAC,IAAM,0BAA0B,GAAG,WAAW,EAAE;wEAC1D,OAAM;kFAEN,cAAA,6LAAC,uNAAM;4EAAC,WAAU;;;;;;;;;;;;;;;;;;uDAjCd,WAAW,EAAE;;;;;gDAsCxB,uBAAuB,MAAM,KAAK,mBACjC,6LAAC;oDAAI,WAAU;8DACZ,cAAc,6BAA6B;;;;;;;;;;;;;;;;;;8CAQtD,6LAAC;;sDACC,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDACC,SAAS,IAAM,cAAc;oDAC7B,WAAU;;sEAEV,6LAAC,+IAAM;4DACL,SAAQ;4DACR,MAAK;4DACL,WAAU;4DACV,SAAS,CAAC;gEAAQ,EAAE,eAAe;gEAAI,OAAO,IAAI,CAAC;4DAAiB;4DACpE,OAAM;sEAEN,cAAA,6LAAC,4OAAa;gEAAC,WAAU;;;;;;;;;;;sEAE3B,6LAAC;4DAAK,WAAU;sEAA4C;;;;;;;;;;;;8DAI9D,6LAAC,+IAAM;oDACL,SAAQ;oDACR,MAAK;oDACL,WAAU;oDACV,SAAS,CAAC;wDAAQ,EAAE,eAAe;wDAAI,OAAO,IAAI,CAAC;oDAAiB;oDACpE,OAAM;8DAEN,cAAA,6LAAC,6MAAI;wDAAC,WAAU;;;;;;;;;;;8DAElB,6LAAC,+IAAM;oDACL,SAAQ;oDACR,MAAK;oDACL,WAAU;oDACV,SAAS,CAAC;wDACR,EAAE,eAAe;wDACjB,MAAM,eAAe,SAAS,aAAa,CAAC;wDAC5C,cAAc;oDAChB;oDACA,OAAM;8DAEN,cAAA,6LAAC,6MAAI;wDAAC,WAAU;;;;;;;;;;;8DAElB,6LAAC;oDACC,SAAS,IAAM,cAAc;oDAC7B,WAAU;8DAET,iBAAiB,KAAK,iBACrB,6LAAC,sOAAW;wDAAC,WAAU;;;;;6EAEvB,6LAAC,yOAAY;wDAAC,WAAU;;;;;;;;;;;;;;;;;wCAI7B,iBAAiB,KAAK,kBACrB,6LAAC;4CAAI,WAAU;;gDACZ,cAAc,GAAG,CAAC,CAAC,qBAClB,6LAAC;wDAAkB,WAAU;;0EAC3B,6LAAC,0KAAI;gEACH,MAAM,CAAC,aAAa,EAAE,KAAK,EAAE,CAAC,QAAQ,CAAC;gEACvC,WAAW,IAAA,4HAAE,EACX,0EACA,aAAa,CAAC,aAAa,EAAE,KAAK,EAAE,CAAC,QAAQ,CAAC,GAC1C,uCACA;;kFAGN,6LAAC,4OAAa;wEAAC,WAAU;;;;;;kFACzB,6LAAC;wEAAK,WAAU;kFAAmB,KAAK,KAAK,IAAI,KAAK,IAAI;;;;;;oEACzD,KAAK,YAAY,kBAChB,6LAAC;wEAAK,WAAU;wEAAkD,OAAM;;;;;;;;;;;;0EAG5E,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,+IAAM;wEACL,SAAQ;wEACR,MAAK;wEACL,WAAU;wEACV,SAAS,CAAC;4EAAQ,EAAE,cAAc;4EAAI,EAAE,eAAe;4EAAI,OAAO,IAAI,CAAC,CAAC,aAAa,EAAE,KAAK,EAAE,CAAC,YAAY,CAAC;wEAAG;wEAC/G,OAAM;kFAEN,cAAA,6LAAC,0MAAG;4EAAC,WAAU;;;;;;;;;;;kFAEjB,6LAAC,+IAAM;wEACL,SAAQ;wEACR,MAAK;wEACL,WAAU;wEACV,SAAS,CAAC,IAAM,iBAAiB,GAAG,KAAK,EAAE;wEAC3C,OAAM;kFAEN,cAAA,6LAAC,uNAAM;4EAAC,WAAU;;;;;;;;;;;;;;;;;;uDAjCd,KAAK,EAAE;;;;;gDAsClB,cAAc,MAAM,KAAK,mBACxB,6LAAC;oDAAI,WAAU;8DACZ,cAAc,mBAAmB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAShD,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,+IAAM;4BACL,SAAQ;4BACR,SAAS;4BACT,WAAU;;8CAEV,6LAAC,uNAAM;oCAAC,WAAU;;;;;;gCAAY;;;;;;;;;;;;;;;;;;0BAOpC,6LAAC;gBAAK,WAAU;0BACb;;;;;;0BAIH,6LAAC,uKAAgB;gBACf,MAAM,CAAC,CAAC;gBACR,cAAc,CAAC,OAAS,CAAC,QAAQ,eAAe;gBAChD,MAAM;gBACN,MAAM;gBACN,YAAY;gBACZ,QAAQ;gBACR,YAAY;gBACZ,kBAAkB;gBAClB,YAAY;;;;;;0BAGd,6LAAC,2KAAkB;gBACjB,MAAM,CAAC,CAAC;gBACR,cAAc,CAAC,OAAS,CAAC,QAAQ,iBAAiB;gBAClD,QAAQ;gBACR,MAAM;gBACN,YAAY;;;;;;0BAGd,6LAAC,2KAAkB;gBACjB,MAAM,CAAC,CAAC;gBACR,cAAc,CAAC,OAAS,CAAC,QAAQ,iBAAiB;gBAClD,QAAQ;gBACR,MAAM;gBACN,YAAY;;;;;;;;;;;;AAIpB;GA11CgB;;QACG,oJAAW;QACb,kJAAS;;;KAFV"}},
    {"offset": {"line": 10422, "column": 0}, "map": {"version":3,"sources":["file:///D:/visual-forge-hub-next-js/src/views/Admin.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { toast } from \"sonner\";\r\nimport { Plus } from \"lucide-react\";\r\nimport { PageList } from \"@/components/admin/PageList\";\r\nimport { CreatePageDialog } from \"@/components/admin/CreatePageDialog\";\r\nimport { AdminLayout } from \"@/components/admin/AdminLayout\";\r\n\r\nconst Admin = () => {\r\n  const router = useRouter();\r\n  const [user, setUser] = useState<any>(null);\r\n  const [showCreateDialog, setShowCreateDialog] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const { data: { subscription } } = supabase.auth.onAuthStateChange((event, session) => {\r\n      setUser(session?.user ?? null);\r\n      if (!session) {\r\n        router.push(\"/auth\");\r\n      }\r\n    });\r\n\r\n    supabase.auth.getSession().then(({ data: { session } }) => {\r\n      setUser(session?.user ?? null);\r\n      if (!session) {\r\n        router.push(\"/auth\");\r\n      }\r\n    });\r\n\r\n    return () => subscription.unsubscribe();\r\n  }, [router]);\r\n\r\n  if (!user) return null;\r\n\r\n  return (\r\n    <AdminLayout>\r\n      <div className=\"p-8\">\r\n        <div className=\"max-w-7xl mx-auto\">\r\n          <div className=\"flex items-center justify-between mb-8\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold\">Pages</h1>\r\n              <p className=\"text-muted-foreground mt-2\">Manage your website pages</p>\r\n            </div>\r\n            <Button onClick={() => setShowCreateDialog(true)} className=\"gap-2\" data-create-page>\r\n              <Plus className=\"h-4 w-4\" />\r\n              New Page\r\n            </Button>\r\n          </div>\r\n          <PageList onCreatePage={() => setShowCreateDialog(true)} />\r\n        </div>\r\n      </div>\r\n      <CreatePageDialog open={showCreateDialog} onOpenChange={setShowCreateDialog} />\r\n    </AdminLayout>\r\n  );\r\n};\r\n\r\nexport default Admin;\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;AAVA;;;;;;;;;AAYA,MAAM,QAAQ;;IACZ,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAM;IACtC,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,yKAAQ,EAAC;IAEzD,IAAA,0KAAS;2BAAC;YACR,MAAM,EAAE,MAAM,EAAE,YAAY,EAAE,EAAE,GAAG,wJAAQ,CAAC,IAAI,CAAC,iBAAiB;mCAAC,CAAC,OAAO;oBACzE,QAAQ,SAAS,QAAQ;oBACzB,IAAI,CAAC,SAAS;wBACZ,OAAO,IAAI,CAAC;oBACd;gBACF;;YAEA,wJAAQ,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI;mCAAC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE;oBACpD,QAAQ,SAAS,QAAQ;oBACzB,IAAI,CAAC,SAAS;wBACZ,OAAO,IAAI,CAAC;oBACd;gBACF;;YAEA;mCAAO,IAAM,aAAa,WAAW;;QACvC;0BAAG;QAAC;KAAO;IAEX,IAAI,CAAC,MAAM,OAAO;IAElB,qBACE,6LAAC,4JAAW;;0BACV,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;;sDACC,6LAAC;4CAAG,WAAU;sDAAqB;;;;;;sDACnC,6LAAC;4CAAE,WAAU;sDAA6B;;;;;;;;;;;;8CAE5C,6LAAC,+IAAM;oCAAC,SAAS,IAAM,oBAAoB;oCAAO,WAAU;oCAAQ,kBAAgB;;sDAClF,6LAAC,6MAAI;4CAAC,WAAU;;;;;;wCAAY;;;;;;;;;;;;;sCAIhC,6LAAC,sJAAQ;4BAAC,cAAc,IAAM,oBAAoB;;;;;;;;;;;;;;;;;0BAGtD,6LAAC,sKAAgB;gBAAC,MAAM;gBAAkB,cAAc;;;;;;;;;;;;AAG9D;GA7CM;;QACW,kJAAS;;;KADpB;uCA+CS"}}]
}