{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../src/components/ui/textarea.tsx","../../../../src/components/editor/PagePreviewModal.tsx","../../../../src/components/editor/WidgetPreviewModal.tsx","../../../../src/components/editor/LayoutPreviewModal.tsx","../../../../src/views/Queries.tsx","../../../../src/components/queries/CreateQueryDialog.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","import * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport interface TextareaProps extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\r\n\r\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(({ className, ...props }, ref) => {\r\n  return (\r\n    <textarea\r\n      className={cn(\r\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n        className,\r\n      )}\r\n      ref={ref}\r\n      {...props}\r\n    />\r\n  );\r\n});\r\nTextarea.displayName = \"Textarea\";\r\n\r\nexport { Textarea };\r\n","import { useState } from \"react\";\r\nimport { Dialog, DialogContent, DialogTitle } from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { X } from \"lucide-react\";\r\nimport { ComponentRenderer } from \"@/components/public/ComponentRenderer\";\r\nimport { Tables } from \"@/integrations/supabase/types\";\r\nimport { ResponsiveControls, Breakpoint } from \"./ResponsiveControls\";\r\nimport { DeviceFrame } from \"./DeviceFrame\";\r\n\r\ninterface PagePreviewModalProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  page: Tables<\"pages\"> | null;\r\n  rows: Tables<\"page_rows\">[];\r\n  components: Tables<\"page_components\">[];\r\n  layout: Tables<\"layouts\"> | null;\r\n  layoutRows: Tables<\"layout_rows\">[];\r\n  layoutComponents: Tables<\"layout_components\">[];\r\n  widgetData: Map<string, { rows: any[]; components: any[] }>;\r\n}\r\n\r\nexport const PagePreviewModal = ({ \r\n  open, \r\n  onOpenChange, \r\n  page,\r\n  rows,\r\n  components,\r\n  layout,\r\n  layoutRows,\r\n  layoutComponents,\r\n  widgetData\r\n}: PagePreviewModalProps) => {\r\n  const [currentBreakpoint, setCurrentBreakpoint] = useState<Breakpoint>(\"desktop\");\r\n\r\n  const handleFullscreen = () => {\r\n    const url = `/p/${page?.slug}`;\r\n    window.open(url, '_blank');\r\n  };\r\n\r\n  const renderWidgetContent = (widgetId: string) => {\r\n    const widget = widgetData.get(widgetId);\r\n    if (!widget) {\r\n      return (\r\n        <div className=\"p-4 border border-dashed border-muted-foreground/30 rounded-lg\">\r\n          <p className=\"text-sm text-muted-foreground\">Widget not found</p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return widget.rows\r\n      .sort((a, b) => a.position - b.position)\r\n      .map((row) => {\r\n        const rowComponents = widget.components\r\n          .filter((c: any) => c.row_id === row.id)\r\n          .sort((a: any, b: any) => a.position - b.position);\r\n\r\n        const columnComponents: any[] = Array.from(\r\n          { length: row.columns },\r\n          () => []\r\n        );\r\n\r\n        rowComponents.forEach((comp: any) => {\r\n          if (comp.column_index < row.columns) {\r\n            columnComponents[comp.column_index].push(comp);\r\n          }\r\n        });\r\n\r\n        return (\r\n          <div\r\n            key={row.id}\r\n            className=\"grid gap-4\"\r\n            style={{ gridTemplateColumns: `repeat(${row.columns}, 1fr)` }}\r\n          >\r\n            {columnComponents.map((colComps, colIndex) => (\r\n              <div key={colIndex} className=\"space-y-4\">\r\n                {colComps.map((component: any) => (\r\n                  <ComponentRenderer key={component.id} component={component} />\r\n                ))}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        );\r\n      });\r\n  };\r\n\r\n  const renderContent = (contentRows: any[], contentComponents: any[]) => {\r\n    return contentRows\r\n      .sort((a, b) => a.position - b.position)\r\n      .map((row) => {\r\n        const rowComponents = contentComponents\r\n          .filter((c) => c.row_id === row.id)\r\n          .sort((a, b) => a.position - b.position);\r\n\r\n        const columnComponents: typeof rowComponents[] = Array.from(\r\n          { length: row.columns },\r\n          () => []\r\n        );\r\n\r\n        rowComponents.forEach((comp) => {\r\n          if (comp.column_index < row.columns) {\r\n            columnComponents[comp.column_index].push(comp);\r\n          }\r\n        });\r\n\r\n        return (\r\n          <div\r\n            key={row.id}\r\n            className=\"grid gap-4\"\r\n            style={{ gridTemplateColumns: `repeat(${row.columns}, 1fr)` }}\r\n          >\r\n            {columnComponents.map((colComps, colIndex) => (\r\n              <div key={colIndex} className=\"space-y-4\">\r\n                {colComps.map((component) => {\r\n                  // Handle page-content placeholder in layout\r\n                  if (component.component_type === \"page-content\") {\r\n                    return (\r\n                      <div key={component.id} className=\"w-full\">\r\n                        {renderContent(rows, components)}\r\n                      </div>\r\n                    );\r\n                  }\r\n                  \r\n                  // Render widget instances\r\n                  if (\"is_widget_instance\" in component && component.is_widget_instance && component.widget_id) {\r\n                    return (\r\n                      <div key={component.id}>\r\n                        {renderWidgetContent(component.widget_id)}\r\n                      </div>\r\n                    );\r\n                  }\r\n                  \r\n                  return <ComponentRenderer key={component.id} component={component} />;\r\n                })}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        );\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"max-w-[95vw] max-h-[90vh] p-0 gap-0\" hideClose>\r\n        <DialogTitle className=\"sr-only\">Page Preview: {page?.title}</DialogTitle>\r\n        <div className=\"flex items-center justify-between border-b px-4 py-3 bg-card\">\r\n          <h2 className=\"text-lg font-semibold\" aria-hidden=\"true\">Page Preview: {page?.title}</h2>\r\n          <div className=\"flex items-center gap-4\">\r\n            <ResponsiveControls \r\n              currentBreakpoint={currentBreakpoint}\r\n              onBreakpointChange={setCurrentBreakpoint}\r\n            />\r\n            <Button variant=\"ghost\" size=\"icon\" onClick={() => onOpenChange(false)}>\r\n              <X className=\"h-4 w-4\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex-1 overflow-auto bg-background\">\r\n          <DeviceFrame breakpoint={currentBreakpoint}>\r\n            <div className=\"min-h-full\">\r\n              {layout ? (\r\n                // Render with layout\r\n                renderContent(layoutRows, layoutComponents)\r\n              ) : (\r\n                // Render page content only\r\n                <div className=\"max-w-7xl mx-auto px-4 py-8\">\r\n                  {renderContent(rows, components)}\r\n                </div>\r\n              )}\r\n              {rows.length === 0 && (\r\n                <p className=\"text-center text-muted-foreground py-12\">\r\n                  No content yet. Add rows and components to see the preview.\r\n                </p>\r\n              )}\r\n            </div>\r\n          </DeviceFrame>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n","import { useState } from \"react\";\r\nimport { Dialog, DialogContent, DialogTitle } from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { X } from \"lucide-react\";\r\nimport { ComponentRenderer } from \"@/components/public/ComponentRenderer\";\r\nimport { Tables } from \"@/integrations/supabase/types\";\r\nimport { ResponsiveControls, Breakpoint } from \"./ResponsiveControls\";\r\nimport { DeviceFrame } from \"./DeviceFrame\";\r\n\r\ninterface WidgetPreviewModalProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  widget: Tables<\"widgets\"> | null;\r\n  rows: Tables<\"widget_rows\">[];\r\n  components: Tables<\"widget_components\">[];\r\n}\r\n\r\nexport const WidgetPreviewModal = ({ \r\n  open, \r\n  onOpenChange, \r\n  widget,\r\n  rows,\r\n  components \r\n}: WidgetPreviewModalProps) => {\r\n  const [currentBreakpoint, setCurrentBreakpoint] = useState<Breakpoint>(\"desktop\");\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"max-w-[95vw] max-h-[90vh] p-0 gap-0\" hideClose>\r\n        <DialogTitle className=\"sr-only\">Widget Preview: {widget?.title}</DialogTitle>\r\n        <div className=\"flex items-center justify-between border-b px-4 py-3 bg-card\">\r\n          <h2 className=\"text-lg font-semibold\" aria-hidden=\"true\">Widget Preview: {widget?.title}</h2>\r\n          <div className=\"flex items-center gap-4\">\r\n            <ResponsiveControls \r\n              currentBreakpoint={currentBreakpoint}\r\n              onBreakpointChange={setCurrentBreakpoint}\r\n            />\r\n            <Button variant=\"ghost\" size=\"icon\" onClick={() => onOpenChange(false)}>\r\n              <X className=\"h-4 w-4\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex-1 overflow-auto bg-background\">\r\n          <DeviceFrame breakpoint={currentBreakpoint}>\r\n            <div className=\"max-w-4xl mx-auto p-8 space-y-8\">\r\n              {rows\r\n                .sort((a, b) => a.position - b.position)\r\n                .map((row) => {\r\n                  const rowComponents = components\r\n                    .filter((c) => c.row_id === row.id)\r\n                    .sort((a, b) => a.position - b.position);\r\n\r\n                  const columnComponents: typeof rowComponents[] = Array.from(\r\n                    { length: row.columns },\r\n                    () => []\r\n                  );\r\n\r\n                  rowComponents.forEach((comp) => {\r\n                    if (comp.column_index < row.columns) {\r\n                      columnComponents[comp.column_index].push(comp);\r\n                    }\r\n                  });\r\n\r\n                  return (\r\n                    <div\r\n                      key={row.id}\r\n                      className=\"grid gap-4\"\r\n                      style={{ gridTemplateColumns: `repeat(${row.columns}, 1fr)` }}\r\n                    >\r\n                      {columnComponents.map((colComps, colIndex) => (\r\n                        <div key={colIndex} className=\"space-y-4\">\r\n                          {colComps.map((component) => (\r\n                            <ComponentRenderer key={component.id} component={component} />\r\n                          ))}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  );\r\n                })}\r\n              {rows.length === 0 && (\r\n                <p className=\"text-center text-muted-foreground py-8\">\r\n                  No content yet. Add rows and components to see the preview.\r\n                </p>\r\n              )}\r\n            </div>\r\n          </DeviceFrame>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n","import { useState } from \"react\";\r\nimport { Dialog, DialogContent, DialogTitle } from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { X } from \"lucide-react\";\r\nimport { ComponentRenderer } from \"@/components/public/ComponentRenderer\";\r\nimport { Tables } from \"@/integrations/supabase/types\";\r\nimport { ResponsiveControls, Breakpoint } from \"./ResponsiveControls\";\r\nimport { DeviceFrame } from \"./DeviceFrame\";\r\n\r\ninterface LayoutPreviewModalProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  layout: Tables<\"layouts\"> | null;\r\n  rows: Tables<\"layout_rows\">[];\r\n  components: Tables<\"layout_components\">[];\r\n}\r\n\r\nexport const LayoutPreviewModal = ({ \r\n  open, \r\n  onOpenChange, \r\n  layout,\r\n  rows,\r\n  components \r\n}: LayoutPreviewModalProps) => {\r\n  const [currentBreakpoint, setCurrentBreakpoint] = useState<Breakpoint>(\"desktop\");\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"max-w-[95vw] max-h-[90vh] p-0 gap-0\" hideClose>\r\n        <DialogTitle className=\"sr-only\">Layout Preview: {layout?.title}</DialogTitle>\r\n        <div className=\"flex items-center justify-between border-b px-4 py-3 bg-card\">\r\n          <h2 className=\"text-lg font-semibold\" aria-hidden=\"true\">Layout Preview: {layout?.title}</h2>\r\n          <div className=\"flex items-center gap-4\">\r\n            <ResponsiveControls \r\n              currentBreakpoint={currentBreakpoint}\r\n              onBreakpointChange={setCurrentBreakpoint}\r\n            />\r\n            <Button variant=\"ghost\" size=\"icon\" onClick={() => onOpenChange(false)}>\r\n              <X className=\"h-4 w-4\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex-1 overflow-auto bg-background\">\r\n          <DeviceFrame breakpoint={currentBreakpoint}>\r\n            <div className=\"min-h-full flex flex-col\">\r\n              {rows\r\n                .sort((a, b) => a.position - b.position)\r\n                .map((row) => {\r\n                  const rowComponents = components\r\n                    .filter((c) => c.row_id === row.id)\r\n                    .sort((a, b) => a.position - b.position);\r\n\r\n                  const columnComponents: typeof rowComponents[] = Array.from(\r\n                    { length: row.columns },\r\n                    () => []\r\n                  );\r\n\r\n                  rowComponents.forEach((comp) => {\r\n                    if (comp.column_index < row.columns) {\r\n                      columnComponents[comp.column_index].push(comp);\r\n                    }\r\n                  });\r\n\r\n                  return (\r\n                    <div key={row.id} className=\"w-full\">\r\n                      <div \r\n                        className=\"max-w-7xl mx-auto px-4 py-8 grid gap-4\"\r\n                        style={{ gridTemplateColumns: `repeat(${row.columns}, 1fr)` }}\r\n                      >\r\n                        {columnComponents.map((colComps, colIndex) => (\r\n                          <div key={colIndex} className=\"space-y-4\">\r\n                            {colComps.map((component) => (\r\n                              <ComponentRenderer key={component.id} component={component} />\r\n                            ))}\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              {rows.length === 0 && (\r\n                <p className=\"text-center text-muted-foreground py-12\">\r\n                  No content yet. Add rows and components to see the preview.\r\n                </p>\r\n              )}\r\n            </div>\r\n          </DeviceFrame>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n","\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Database, Plus, Eye, Edit, Trash2 } from \"lucide-react\";\r\nimport { useToast } from \"@/hooks/use-toast\";\r\nimport CreateQueryDialog from \"@/components/queries/CreateQueryDialog\";\r\nimport { AdminLayout } from \"@/components/admin/AdminLayout\";\r\n\r\ninterface Query {\r\n  id: string;\r\n  name: string;\r\n  display_name: string;\r\n  description: string | null;\r\n  query_type: string;\r\n  is_published: boolean;\r\n}\r\n\r\nexport default function Queries() {\r\n  const router = useRouter();\r\n  const { toast } = useToast();\r\n  const [queries, setQueries] = useState<Query[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showCreateDialog, setShowCreateDialog] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchQueries();\r\n\r\n    const channel = supabase\r\n      .channel('queries-changes')\r\n      .on('postgres_changes', { event: '*', schema: 'public', table: 'queries' }, () => {\r\n        fetchQueries();\r\n      })\r\n      .subscribe();\r\n\r\n    return () => {\r\n      supabase.removeChannel(channel);\r\n    };\r\n  }, []);\r\n\r\n  const fetchQueries = async () => {\r\n    try {\r\n      const { data, error } = await (supabase as any)\r\n        .from('queries')\r\n        .select('*')\r\n        .order('created_at', { ascending: false });\r\n\r\n      if (error) throw error;\r\n      setQueries(data || []);\r\n    } catch (error: any) {\r\n      toast({\r\n        title: \"Error loading queries\",\r\n        description: error.message,\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id: string) => {\r\n    if (!confirm(\"Are you sure you want to delete this query?\")) return;\r\n\r\n    try {\r\n      const { error } = await (supabase as any).from('queries').delete().eq('id', id);\r\n      if (error) throw error;\r\n\r\n      toast({\r\n        title: \"Query deleted\",\r\n        description: \"The query has been deleted successfully.\",\r\n      });\r\n    } catch (error: any) {\r\n      toast({\r\n        title: \"Error deleting query\",\r\n        description: error.message,\r\n        variant: \"destructive\",\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <AdminLayout>\r\n      <div className=\"p-8\">\r\n        <div className=\"max-w-7xl mx-auto\">\r\n          <div className=\"flex justify-between items-center mb-8\">\r\n            <div>\r\n              <h1 className=\"text-4xl font-bold mb-2\">Queries</h1>\r\n              <p className=\"text-muted-foreground\">Build and manage database queries</p>\r\n            </div>\r\n            <Button onClick={() => setShowCreateDialog(true)} data-create-query>\r\n              <Plus className=\"mr-2 h-4 w-4\" />\r\n              New Query\r\n            </Button>\r\n          </div>\r\n\r\n          {loading ? (\r\n            <div className=\"text-center py-12 text-muted-foreground\">Loading queries...</div>\r\n          ) : queries.length === 0 ? (\r\n            <Card>\r\n              <CardContent className=\"flex flex-col items-center justify-center py-12\">\r\n                <Database className=\"h-12 w-12 text-muted-foreground mb-4\" />\r\n                <h3 className=\"text-lg font-semibold mb-2\">No queries yet</h3>\r\n                <p className=\"text-sm text-muted-foreground mb-4\">\r\n                  Create your first query to start building dynamic data views\r\n                </p>\r\n                <Button onClick={() => setShowCreateDialog(true)}>\r\n                  <Plus className=\"mr-2 h-4 w-4\" />\r\n                  Create Query\r\n                </Button>\r\n              </CardContent>\r\n            </Card>\r\n          ) : (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n              {queries.map((query) => (\r\n                <Card key={query.id} className=\"hover:shadow-lg transition-shadow\">\r\n                  <CardHeader>\r\n                    <div className=\"flex justify-between items-start\">\r\n                      <div className=\"flex-1\">\r\n                        <CardTitle className=\"flex items-center gap-2\">\r\n                          <Database className=\"h-5 w-5\" />\r\n                          {query.display_name}\r\n                        </CardTitle>\r\n                        <CardDescription className=\"mt-2\">\r\n                          {query.description || \"No description\"}\r\n                        </CardDescription>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex gap-2 mt-3\">\r\n                      <Badge variant={query.query_type === 'flat' ? 'default' : 'secondary'}>\r\n                        {query.query_type}\r\n                      </Badge>\r\n                      {query.is_published && <Badge variant=\"outline\">Published</Badge>}\r\n                    </div>\r\n                  </CardHeader>\r\n                  <CardContent>\r\n                    <div className=\"flex gap-2\">\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        size=\"sm\"\r\n                        onClick={() => router.push(`/admin/queries/${query.id}/results`)}\r\n                      >\r\n                        <Eye className=\"h-4 w-4 mr-1\" />\r\n                        View Results\r\n                      </Button>\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        size=\"sm\"\r\n                        onClick={() => router.push(`/admin/queries/${query.id}/editor`)}\r\n                      >\r\n                        <Edit className=\"h-4 w-4 mr-1\" />\r\n                        Edit\r\n                      </Button>\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        size=\"sm\"\r\n                        onClick={() => handleDelete(query.id)}\r\n                      >\r\n                        <Trash2 className=\"h-4 w-4\" />\r\n                      </Button>\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <CreateQueryDialog\r\n          open={showCreateDialog}\r\n          onOpenChange={setShowCreateDialog}\r\n        />\r\n      </div>\r\n    </AdminLayout>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { useToast } from \"@/hooks/use-toast\";\r\n\r\ninterface CreateQueryDialogProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n}\r\n\r\nexport default function CreateQueryDialog({ open, onOpenChange }: CreateQueryDialogProps) {\r\n  const router = useRouter();\r\n  const { toast } = useToast();\r\n  const [loading, setLoading] = useState(false);\r\n  const [displayName, setDisplayName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [queryType, setQueryType] = useState<\"flat\" | \"aggregate\">(\"flat\");\r\n\r\n  const generateName = (displayName: string) => {\r\n    return displayName\r\n      .toLowerCase()\r\n      .replace(/[^a-z0-9]+/g, '_')\r\n      .replace(/^_+|_+$/g, '');\r\n  };\r\n\r\n  const handleCreate = async () => {\r\n    if (!displayName.trim()) {\r\n      toast({\r\n        title: \"Display name required\",\r\n        description: \"Please enter a display name for the query.\",\r\n        variant: \"destructive\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      const { data: userData } = await supabase.auth.getUser();\r\n      if (!userData.user) throw new Error(\"Not authenticated\");\r\n\r\n      const name = generateName(displayName);\r\n\r\n      const { data: query, error } = await (supabase as any)\r\n        .from('queries')\r\n        .insert({\r\n          user_id: userData.user.id,\r\n          name,\r\n          display_name: displayName,\r\n          description: description || null,\r\n          query_type: queryType,\r\n        })\r\n        .select()\r\n        .single();\r\n\r\n      if (error) throw error;\r\n\r\n      toast({\r\n        title: \"Query created\",\r\n        description: \"Your query has been created successfully.\",\r\n      });\r\n\r\n      onOpenChange(false);\r\n      setDisplayName(\"\");\r\n      setDescription(\"\");\r\n      setQueryType(\"flat\");\r\n\r\n      router.push(`/admin/queries/${query.id}/editor`);\r\n    } catch (error: any) {\r\n      toast({\r\n        title: \"Error creating query\",\r\n        description: error.message,\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent>\r\n        <DialogHeader>\r\n          <DialogTitle>Create New Query</DialogTitle>\r\n          <DialogDescription>\r\n            Build a new database query to display dynamic data\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        <div className=\"space-y-4\">\r\n          <div>\r\n            <Label htmlFor=\"displayName\">Display Name</Label>\r\n            <Input\r\n              id=\"displayName\"\r\n              value={displayName}\r\n              onChange={(e) => setDisplayName(e.target.value)}\r\n              placeholder=\"My Query\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <Label htmlFor=\"description\">Description (optional)</Label>\r\n            <Textarea\r\n              id=\"description\"\r\n              value={description}\r\n              onChange={(e) => setDescription(e.target.value)}\r\n              placeholder=\"What does this query do?\"\r\n              rows={3}\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <Label htmlFor=\"queryType\">Query Type</Label>\r\n            <Select value={queryType} onValueChange={(value) => setQueryType(value as \"flat\" | \"aggregate\")}>\r\n              <SelectTrigger>\r\n                <SelectValue />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"flat\">Flat (List Records)</SelectItem>\r\n                <SelectItem value=\"aggregate\">Aggregate (Group & Calculate)</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n            <p className=\"text-xs text-muted-foreground mt-1\">\r\n              {queryType === 'flat'\r\n                ? 'Display individual records from one or more entities'\r\n                : 'Group records and calculate sums, counts, averages, etc.'}\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <DialogFooter>\r\n          <Button variant=\"outline\" onClick={() => onOpenChange(false)}>\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleCreate} disabled={loading}>\r\n            {loading ? \"Creating...\" : \"Create Query\"}\r\n          </Button>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":["module","exports","require","vendored","HooksClientContext","ServerInsertedHtml","AppRouterContext","ReactServerDOMTurbopackClient"],"mappings":"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","ignoreList":[0,1,2,3]}