module.exports=[97292,6842,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(50944),f=a.i(99570),g=a.i(66718),h=a.i(70106);let i=(0,h.default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var j=a.i(4720),k=a.i(80032);let l=(0,h.default)("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);var m=a.i(87532);let n=(0,h.default)("FilePen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);a.s(["FileEdit",()=>n],6842);var o=a.i(5784),p=a.i(50522),q=a.i(77156),r=a.i(81560),s=a.i(15618),t=a.i(20494);let u=(0,h.default)("SearchCode",[["path",{d:"m13 13.5 2-2.5-2-2.5",key:"1rvxrh"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}],["path",{d:"M9 8.5 7 11l2 2.5",key:"6ffwbx"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);var v=a.i(67329);let w=(0,h.default)("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]),x=(0,h.default)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),y=(0,h.default)("LayoutTemplate",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]);var z=a.i(74167),A=a.i(23292),B=a.i(68114),C=a.i(49967),D=a.i(21118),E=a.i(63422),F=a.i(85259),G=a.i(97063);function H({children:a}){let h=(0,e.usePathname)(),H=(0,e.useRouter)(),[I,J]=(0,c.useState)(""),[K,L]=(0,c.useState)([]),[M,N]=(0,c.useState)([]),[O,P]=(0,c.useState)([]),[Q,R]=(0,c.useState)([]),[S,T]=(0,c.useState)([]),[U,V]=(0,c.useState)([]),[W,X]=(0,c.useState)([]),[Y,Z]=(0,c.useState)([]),[$,_]=(0,c.useState)({pages:!0,widgets:!0,layouts:!0,templates:!0,entities:!0,queries:!0,apiCollections:!0,forms:!0}),[aa,ab]=(0,c.useState)(null),[ac,ad]=(0,c.useState)([]),[ae,af]=(0,c.useState)([]),[ag,ah]=(0,c.useState)(null),[ai,aj]=(0,c.useState)([]),[ak,al]=(0,c.useState)([]),[am,an]=(0,c.useState)(new Map),[ao,ap]=(0,c.useState)(null),[aq,ar]=(0,c.useState)([]),[as,at]=(0,c.useState)([]),[au,av]=(0,c.useState)(null),[aw,ax]=(0,c.useState)([]),[ay,az]=(0,c.useState)([]);(0,c.useEffect)(()=>{aI();let a=z.supabase.channel("pages-changes").on("postgres_changes",{event:"*",schema:"public",table:"pages"},()=>aB()).subscribe(),b=z.supabase.channel("widgets-changes").on("postgres_changes",{event:"*",schema:"public",table:"widgets"},()=>aC()).subscribe(),c=z.supabase.channel("layouts-changes").on("postgres_changes",{event:"*",schema:"public",table:"layouts"},()=>aD()).subscribe(),d=z.supabase.channel("entities-changes").on("postgres_changes",{event:"*",schema:"public",table:"entities"},()=>aA()).subscribe(),e=z.supabase.channel("queries-changes").on("postgres_changes",{event:"*",schema:"public",table:"queries"},()=>aE()).subscribe(),f=z.supabase.channel("api-collections-changes").on("postgres_changes",{event:"*",schema:"public",table:"api_collections"},()=>aF()).subscribe(),g=z.supabase.channel("forms-changes").on("postgres_changes",{event:"*",schema:"public",table:"forms"},()=>aG()).subscribe();return()=>{z.supabase.removeChannel(a),z.supabase.removeChannel(b),z.supabase.removeChannel(c),z.supabase.removeChannel(d),z.supabase.removeChannel(e),z.supabase.removeChannel(f),z.supabase.removeChannel(g)}},[]);let aA=async()=>{let{data:a,error:b}=await z.supabase.from("entities").select("*").order("created_at",{ascending:!1});b?console.error("Error loading entities:",b.message,b):R(a||[])},aB=async()=>{let{data:a}=await z.supabase.from("pages").select("*").order("title");L(a||[])},aC=async()=>{let{data:a}=await z.supabase.from("widgets").select("*").order("title");N(a||[])},aD=async()=>{let{data:a}=await z.supabase.from("layouts").select("*").order("title");P(a||[])},aE=async()=>{let{data:a,error:b}=await z.supabase.from("queries").select("*").order("created_at",{ascending:!1});b?console.error("Error loading queries:",b.message,b):T(a||[])},aF=async()=>{let{data:a,error:b}=await z.supabase.from("api_collections").select("*").order("created_at",{ascending:!1});b?"42P01"===b.code||b.message.includes("schema cache")?console.warn("API Collections table not found, skipping load."):console.error("Error loading API collections:",b.message,b):V(a||[])},aG=async()=>{let{data:a,error:b}=await z.supabase.from("forms").select("*").order("created_at",{ascending:!1});b?"42P01"===b.code||b.message.includes("schema cache")?console.warn("Forms table not found, skipping load."):console.error("Error loading forms:",b.message,b):X(a||[])},aH=async()=>{let{data:a,error:b}=await z.supabase.from("section_templates").select("*").order("created_at",{ascending:!1});b?console.error("Error loading templates:",b.message,b):Z(a||[])},aI=async()=>{await Promise.all([aB(),aC(),aD(),aH(),aA(),aE(),aF(),aG()])},aJ=async()=>{await z.supabase.auth.signOut(),A.toast.success("Logged out successfully"),H.push("/")},aK=a=>{_(b=>({...b,[a]:!b[a]}))},aL=a=>I?a.filter(a=>(a.title||a.display_name||"").toLowerCase().includes(I.toLowerCase())):a,aM=aL(K),aN=aL(M),aO=aL(O),aP=Y.filter(a=>a.name?.toLowerCase().includes(I.toLowerCase())),aQ=Q.filter(a=>a.display_name.toLowerCase().includes(I.toLowerCase())),aR=S.filter(a=>a.display_name?.toLowerCase().includes(I.toLowerCase())),aS=U.filter(a=>a.name?.toLowerCase().includes(I.toLowerCase())),aT=W.filter(a=>a.name?.toLowerCase().includes(I.toLowerCase())||a.title?.toLowerCase().includes(I.toLowerCase())),aU=async(a,b)=>{if(a.preventDefault(),a.stopPropagation(),!confirm("Delete this page?"))return;let{error:c}=await z.supabase.from("pages").delete().eq("id",b);c?A.toast.error("Failed to delete page"):A.toast.success("Page deleted")},aV=async(a,b)=>{if(a.preventDefault(),a.stopPropagation(),!confirm("Delete this widget?"))return;let{error:c}=await z.supabase.from("widgets").delete().eq("id",b);c?A.toast.error("Failed to delete widget"):A.toast.success("Widget deleted")},aW=async(a,b)=>{if(a.preventDefault(),a.stopPropagation(),!confirm("Delete this layout?"))return;let{error:c}=await z.supabase.from("layouts").delete().eq("id",b);c?A.toast.error("Failed to delete layout"):A.toast.success("Layout deleted")},aX=async(a,b)=>{if(a.preventDefault(),a.stopPropagation(),!confirm("Delete this entity?"))return;let{error:c}=await z.supabase.from("entities").delete().eq("id",b);c?A.toast.error("Failed to delete entity"):A.toast.success("Entity deleted")},aY=async(a,b)=>{if(a.preventDefault(),a.stopPropagation(),!confirm("Delete this query?"))return;let{error:c}=await z.supabase.from("queries").delete().eq("id",b);c?A.toast.error("Failed to delete query"):A.toast.success("Query deleted")},aZ=async(a,b)=>{if(a.preventDefault(),a.stopPropagation(),!confirm("Delete this API collection? All requests will be deleted."))return;let{error:c}=await z.supabase.from("api_collections").delete().eq("id",b);c?A.toast.error("Failed to delete collection"):A.toast.success("Collection deleted")},a$=async(a,b)=>{if(a.preventDefault(),a.stopPropagation(),!confirm("Delete this form? All submissions will be deleted."))return;let{error:c}=await z.supabase.from("forms").delete().eq("id",b);c?A.toast.error("Failed to delete form"):A.toast.success("Form deleted")},a_=async(a,b)=>{if(a.preventDefault(),a.stopPropagation(),!confirm("Delete this template?"))return;let{error:c}=await z.supabase.from("section_templates").delete().eq("id",b);c?A.toast.error("Failed to delete template"):A.toast.success("Template deleted")},a0=async(a,b)=>{a.preventDefault(),a.stopPropagation();let[c,d,e]=await Promise.all([z.supabase.from("page_rows").select("*").eq("page_id",b.id).order("position"),z.supabase.from("page_components").select("*").eq("page_id",b.id).order("position"),b.layout_id?z.supabase.from("layouts").select("*").eq("id",b.layout_id).single():Promise.resolve({data:null,error:null})]);if(ad(c.data||[]),af(d.data||[]),e.data){let[a,b]=await Promise.all([z.supabase.from("layout_rows").select("*").eq("layout_id",e.data.id).order("position"),z.supabase.from("layout_components").select("*").eq("layout_id",e.data.id).order("position")]);ah(e.data),aj(a.data||[]),al(b.data||[])}else ah(null),aj([]),al([]);let f=Array.from(new Set([...d.data||[],...(e.data?await z.supabase.from("layout_components").select("*").eq("layout_id",e.data.id):{data:[]}).data||[]].filter(a=>a.is_widget_instance&&a.widget_id).map(a=>a.widget_id))),g=new Map;for(let a of f){let[b,c]=await Promise.all([z.supabase.from("widget_rows").select("*").eq("widget_id",a).order("position"),z.supabase.from("widget_components").select("*").eq("widget_id",a).order("position")]);g.set(a,{rows:b.data||[],components:c.data||[]})}an(g),ab(b)},a1=async(a,b)=>{a.preventDefault(),a.stopPropagation();let[c,d]=await Promise.all([z.supabase.from("widget_rows").select("*").eq("widget_id",b.id).order("position"),z.supabase.from("widget_components").select("*").eq("widget_id",b.id).order("position")]);ar(c.data||[]),at(d.data||[]),ap(b)},a2=async(a,b)=>{a.preventDefault(),a.stopPropagation();let[c,d]=await Promise.all([z.supabase.from("layout_rows").select("*").eq("layout_id",b.id).order("position"),z.supabase.from("layout_components").select("*").eq("layout_id",b.id).order("position")]);ax(c.data||[]),az(d.data||[]),av(b)};return j.FileText,k.Box,(0,b.jsxs)("div",{className:"min-h-screen bg-background flex",children:[(0,b.jsxs)("aside",{className:"w-64 border-r bg-card flex flex-col shadow-[var(--shadow-soft)]",children:[(0,b.jsx)("div",{className:"p-6 border-b",children:(0,b.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Admin Panel"})}),(0,b.jsx)("div",{className:"p-4 border-b",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(m.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(g.Input,{type:"search",placeholder:"Search...",value:I,onChange:a=>J(a.target.value),className:"pl-9"})]})}),(0,b.jsx)("nav",{className:"flex-1 p-4 overflow-auto",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center group",children:[(0,b.jsxs)("div",{onClick:()=>aK("pages"),className:"flex items-center gap-2 flex-1 px-2 py-2 hover:bg-accent rounded transition-colors cursor-pointer",children:[(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:a=>{a.stopPropagation(),H.push("/admin")},title:"View all pages",children:(0,b.jsx)(j.FileText,{className:"h-4 w-4"})}),(0,b.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Pages"})]}),(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:a=>{a.stopPropagation(),H.push("/admin")},title:"View all pages",children:(0,b.jsx)(v.List,{className:"h-4 w-4"})}),(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:a=>{a.stopPropagation();let b=document.querySelector("[data-create-page]");b?.click()},title:"Create new page",children:(0,b.jsx)(s.Plus,{className:"h-4 w-4"})}),(0,b.jsx)("button",{onClick:()=>aK("pages"),className:"p-2 hover:bg-accent rounded transition-colors",children:$.pages?(0,b.jsx)(o.ChevronDown,{className:"h-4 w-4"}):(0,b.jsx)(p.ChevronRight,{className:"h-4 w-4"})})]}),$.pages&&(0,b.jsxs)("div",{className:"mt-1 space-y-1",children:[aM.map(a=>(0,b.jsxs)("div",{className:"group relative",children:[(0,b.jsxs)(d.default,{href:`/admin/editor/${a.id}`,className:(0,B.cn)("flex items-center gap-2 px-4 py-2 text-sm rounded-lg transition-colors",h===`/admin/editor/${a.id}`?"bg-primary text-primary-foreground":"hover:bg-accent text-muted-foreground hover:text-foreground"),children:[(0,b.jsx)(n,{className:"h-4 w-4 flex-shrink-0"}),(0,b.jsx)("span",{className:"truncate flex-1",children:a.title}),a.is_published&&(0,b.jsx)("span",{className:"h-2 w-2 rounded-full bg-green-500 flex-shrink-0",title:"Published"})]}),(0,b.jsxs)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:b=>a0(b,a),title:"Preview",children:(0,b.jsx)(q.Eye,{className:"h-3 w-3"})}),(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-6 w-6 hover:bg-destructive hover:text-destructive-foreground",onClick:b=>aU(b,a.id),title:"Delete",children:(0,b.jsx)(r.Trash2,{className:"h-3 w-3"})})]})]},a.id)),0===aM.length&&(0,b.jsx)("div",{className:"px-4 py-2 text-xs text-muted-foreground",children:I?"No pages found":"No pages yet"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center group",children:[(0,b.jsxs)("div",{onClick:()=>aK("widgets"),className:"flex items-center gap-2 flex-1 px-2 py-2 hover:bg-accent rounded transition-colors cursor-pointer",children:[(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:a=>{a.stopPropagation(),H.push("/admin/widgets")},title:"View all widgets",children:(0,b.jsx)(k.Box,{className:"h-4 w-4"})}),(0,b.jsxs)("div",{className:"flex items-center gap-1 flex-1",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Widgets"}),(0,b.jsxs)(F.Tooltip,{children:[(0,b.jsx)(F.TooltipTrigger,{onClick:a=>a.stopPropagation(),children:(0,b.jsx)(G.Info,{className:"h-3 w-3 text-muted-foreground"})}),(0,b.jsx)(F.TooltipContent,{side:"right",className:"max-w-xs",children:(0,b.jsx)("p",{className:"text-xs",children:"Reusable components that update everywhere when edited"})})]})]})]}),(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:a=>{a.stopPropagation(),H.push("/admin/widgets")},title:"View all widgets",children:(0,b.jsx)(v.List,{className:"h-4 w-4"})}),(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:a=>{a.stopPropagation();let b=document.querySelector("[data-create-widget]");b?.click()},title:"Create new widget",children:(0,b.jsx)(s.Plus,{className:"h-4 w-4"})}),(0,b.jsx)("button",{onClick:()=>aK("widgets"),className:"p-2 hover:bg-accent rounded transition-colors",children:$.widgets?(0,b.jsx)(o.ChevronDown,{className:"h-4 w-4"}):(0,b.jsx)(p.ChevronRight,{className:"h-4 w-4"})})]}),$.widgets&&(0,b.jsxs)("div",{className:"mt-1 space-y-1",children:[aN.map(a=>(0,b.jsxs)("div",{className:"group relative",children:[(0,b.jsxs)(d.default,{href:`/admin/widgets/${a.id}`,className:(0,B.cn)("flex items-center gap-2 px-4 py-2 text-sm rounded-lg transition-colors",h===`/admin/widgets/${a.id}`?"bg-primary text-primary-foreground":"hover:bg-accent text-muted-foreground hover:text-foreground"),children:[(0,b.jsx)(k.Box,{className:"h-4 w-4 flex-shrink-0"}),(0,b.jsx)("span",{className:"truncate flex-1",children:a.title}),a.is_published&&(0,b.jsx)("span",{className:"h-2 w-2 rounded-full bg-green-500 flex-shrink-0",title:"Published"})]}),(0,b.jsxs)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:b=>a1(b,a),title:"Preview",children:(0,b.jsx)(q.Eye,{className:"h-3 w-3"})}),(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-6 w-6 hover:bg-destructive hover:text-destructive-foreground",onClick:b=>aV(b,a.id),title:"Delete",children:(0,b.jsx)(r.Trash2,{className:"h-3 w-3"})})]})]},a.id)),0===aN.length&&(0,b.jsx)("div",{className:"px-4 py-2 text-xs text-muted-foreground",children:I?"No widgets found":"No widgets yet"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center group",children:[(0,b.jsxs)("div",{onClick:()=>aK("layouts"),className:"flex items-center gap-2 flex-1 px-2 py-2 hover:bg-accent rounded transition-colors cursor-pointer",children:[(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:a=>{a.stopPropagation(),H.push("/admin/layouts")},title:"View all layouts",children:(0,b.jsx)(l,{className:"h-4 w-4"})}),(0,b.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Layouts"})]}),(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:a=>{a.stopPropagation(),H.push("/admin/layouts")},title:"View all layouts",children:(0,b.jsx)(v.List,{className:"h-4 w-4"})}),(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:a=>{a.stopPropagation();let b=document.querySelector("[data-create-layout]");b?.click()},title:"Create new layout",children:(0,b.jsx)(s.Plus,{className:"h-4 w-4"})}),(0,b.jsx)("button",{onClick:()=>aK("layouts"),className:"p-2 hover:bg-accent rounded transition-colors",children:$.layouts?(0,b.jsx)(o.ChevronDown,{className:"h-4 w-4"}):(0,b.jsx)(p.ChevronRight,{className:"h-4 w-4"})})]}),$.layouts&&(0,b.jsxs)("div",{className:"mt-1 space-y-1",children:[aO.map(a=>(0,b.jsxs)("div",{className:"group relative",children:[(0,b.jsxs)(d.default,{href:`/admin/layouts/${a.id}`,className:(0,B.cn)("flex items-center gap-2 px-4 py-2 text-sm rounded-lg transition-colors",h===`/admin/layouts/${a.id}`?"bg-primary text-primary-foreground":"hover:bg-accent text-muted-foreground hover:text-foreground"),children:[(0,b.jsx)(l,{className:"h-4 w-4 flex-shrink-0"}),(0,b.jsx)("span",{className:"truncate flex-1",children:a.title}),a.is_published&&(0,b.jsx)("span",{className:"h-2 w-2 rounded-full bg-green-500 flex-shrink-0",title:"Published"})]}),(0,b.jsxs)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:b=>a2(b,a),title:"Preview",children:(0,b.jsx)(q.Eye,{className:"h-3 w-3"})}),(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-6 w-6 hover:bg-destructive hover:text-destructive-foreground",onClick:b=>aW(b,a.id),title:"Delete",children:(0,b.jsx)(r.Trash2,{className:"h-3 w-3"})})]})]},a.id)),0===aO.length&&(0,b.jsx)("div",{className:"px-4 py-2 text-xs text-muted-foreground",children:I?"No layouts found":"No layouts yet"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center group",children:[(0,b.jsxs)("div",{onClick:()=>aK("templates"),className:"flex items-center gap-2 flex-1 px-2 py-2 hover:bg-accent rounded transition-colors cursor-pointer",children:[(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:a=>{a.stopPropagation(),H.push("/admin/templates")},title:"View all templates",children:(0,b.jsx)(y,{className:"h-4 w-4"})}),(0,b.jsxs)("div",{className:"flex items-center gap-1 flex-1",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Templates"}),(0,b.jsxs)(F.Tooltip,{children:[(0,b.jsx)(F.TooltipTrigger,{onClick:a=>a.stopPropagation(),children:(0,b.jsx)(G.Info,{className:"h-3 w-3 text-muted-foreground"})}),(0,b.jsx)(F.TooltipContent,{side:"right",className:"max-w-xs",children:(0,b.jsx)("p",{className:"text-xs",children:"Pre-built section patterns to insert into pages"})})]})]})]}),(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:a=>{a.stopPropagation(),H.push("/admin/templates")},title:"View all templates",children:(0,b.jsx)(v.List,{className:"h-4 w-4"})}),(0,b.jsx)("button",{onClick:()=>aK("templates"),className:"p-2 hover:bg-accent rounded transition-colors",children:$.templates?(0,b.jsx)(o.ChevronDown,{className:"h-4 w-4"}):(0,b.jsx)(p.ChevronRight,{className:"h-4 w-4"})})]}),$.templates&&(0,b.jsxs)("div",{className:"mt-1 space-y-1",children:[aP.map(a=>(0,b.jsxs)("div",{className:"group relative",children:[(0,b.jsxs)(d.default,{href:`/admin/templates/${a.id}/editor`,className:(0,B.cn)("flex items-center gap-2 px-4 py-2 text-sm rounded-lg transition-colors",h===`/admin/templates/${a.id}/editor`?"bg-primary text-primary-foreground":"hover:bg-accent text-muted-foreground hover:text-foreground"),children:[(0,b.jsx)(y,{className:"h-4 w-4 flex-shrink-0"}),(0,b.jsx)("span",{className:"truncate flex-1",children:a.name}),a.is_public&&(0,b.jsx)("span",{className:"h-2 w-2 rounded-full bg-green-500 flex-shrink-0",title:"Public"})]}),(0,b.jsx)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-6 w-6 hover:bg-destructive hover:text-destructive-foreground",onClick:b=>a_(b,a.id),title:"Delete",children:(0,b.jsx)(r.Trash2,{className:"h-3 w-3"})})})]},a.id)),0===aP.length&&(0,b.jsx)("div",{className:"px-4 py-2 text-xs text-muted-foreground",children:I?"No templates found":"No templates yet"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center group",children:[(0,b.jsxs)("div",{onClick:()=>aK("entities"),className:"flex items-center gap-2 flex-1 px-2 py-2 hover:bg-accent rounded transition-colors cursor-pointer",children:[(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:a=>{a.stopPropagation(),H.push("/admin/entities")},title:"View all entities",children:(0,b.jsx)(t.Database,{className:"h-4 w-4"})}),(0,b.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Entities"})]}),(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:a=>{a.stopPropagation(),H.push("/admin/entities")},title:"View all entities",children:(0,b.jsx)(v.List,{className:"h-4 w-4"})}),(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:a=>{a.stopPropagation();let b=document.querySelector("[data-create-entity]");b?.click()},title:"Create new entity",children:(0,b.jsx)(s.Plus,{className:"h-4 w-4"})}),(0,b.jsx)("button",{onClick:()=>aK("entities"),className:"p-2 hover:bg-accent rounded transition-colors",children:$.entities?(0,b.jsx)(o.ChevronDown,{className:"h-4 w-4"}):(0,b.jsx)(p.ChevronRight,{className:"h-4 w-4"})})]}),$.entities&&(0,b.jsxs)("div",{className:"mt-1 space-y-1",children:[aQ.map(a=>(0,b.jsxs)("div",{className:"group relative",children:[(0,b.jsxs)(d.default,{href:`/admin/entities/${a.id}/records`,className:(0,B.cn)("flex items-center gap-2 px-4 py-2 text-sm rounded-lg transition-colors",h===`/admin/entities/${a.id}/records`?"bg-primary text-primary-foreground":"hover:bg-accent text-muted-foreground hover:text-foreground"),children:[(0,b.jsx)(t.Database,{className:"h-4 w-4 flex-shrink-0"}),(0,b.jsx)("span",{className:"truncate flex-1",children:a.display_name}),a.is_published&&(0,b.jsx)("span",{className:"h-2 w-2 rounded-full bg-green-500 flex-shrink-0",title:"Published"})]}),(0,b.jsxs)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:b=>{b.preventDefault(),b.stopPropagation(),H.push(`/admin/entities/${a.id}/records`)},title:"View Records",children:(0,b.jsx)(q.Eye,{className:"h-3 w-3"})}),(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-6 w-6 hover:bg-destructive hover:text-destructive-foreground",onClick:b=>aX(b,a.id),title:"Delete",children:(0,b.jsx)(r.Trash2,{className:"h-3 w-3"})})]})]},a.id)),0===aQ.length&&(0,b.jsx)("div",{className:"px-4 py-2 text-xs text-muted-foreground",children:I?"No entities found":"No entities yet"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center group",children:[(0,b.jsxs)("div",{onClick:()=>aK("queries"),className:"flex items-center gap-2 flex-1 px-2 py-2 hover:bg-accent rounded transition-colors cursor-pointer",children:[(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:a=>{a.stopPropagation(),H.push("/admin/queries")},title:"View all queries",children:(0,b.jsx)(u,{className:"h-4 w-4"})}),(0,b.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Queries"})]}),(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:a=>{a.stopPropagation(),H.push("/admin/queries")},title:"View all queries",children:(0,b.jsx)(v.List,{className:"h-4 w-4"})}),(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:a=>{a.stopPropagation();let b=document.querySelector("[data-create-query]");b?.click()},title:"Create new query",children:(0,b.jsx)(s.Plus,{className:"h-4 w-4"})}),(0,b.jsx)("button",{onClick:()=>aK("queries"),className:"p-2 hover:bg-accent rounded transition-colors",children:$.queries?(0,b.jsx)(o.ChevronDown,{className:"h-4 w-4"}):(0,b.jsx)(p.ChevronRight,{className:"h-4 w-4"})})]}),$.queries&&(0,b.jsxs)("div",{className:"mt-1 space-y-1",children:[aR.map(a=>(0,b.jsxs)("div",{className:"group relative",children:[(0,b.jsxs)(d.default,{href:`/admin/queries/${a.id}/editor`,className:(0,B.cn)("flex items-center gap-2 px-4 py-2 text-sm rounded-lg transition-colors",h===`/admin/queries/${a.id}/editor`?"bg-primary text-primary-foreground":"hover:bg-accent text-muted-foreground hover:text-foreground"),children:[(0,b.jsx)(u,{className:"h-4 w-4 flex-shrink-0"}),(0,b.jsx)("span",{className:"truncate flex-1",children:a.display_name}),a.is_published&&(0,b.jsx)("span",{className:"h-2 w-2 rounded-full bg-green-500 flex-shrink-0",title:"Published"})]}),(0,b.jsxs)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:b=>{b.preventDefault(),b.stopPropagation(),H.push(`/admin/queries/${a.id}/results`)},title:"View Results",children:(0,b.jsx)(q.Eye,{className:"h-3 w-3"})}),(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-6 w-6 hover:bg-destructive hover:text-destructive-foreground",onClick:b=>aY(b,a.id),title:"Delete",children:(0,b.jsx)(r.Trash2,{className:"h-3 w-3"})})]})]},a.id)),0===aR.length&&(0,b.jsx)("div",{className:"px-4 py-2 text-xs text-muted-foreground",children:I?"No queries found":"No queries yet"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center group",children:[(0,b.jsxs)("div",{onClick:()=>aK("apiCollections"),className:"flex items-center gap-2 flex-1 px-2 py-2 hover:bg-accent rounded transition-colors cursor-pointer",children:[(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:a=>{a.stopPropagation(),H.push("/admin/api-collections")},title:"View all API collections",children:(0,b.jsx)(w,{className:"h-4 w-4"})}),(0,b.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"API Client"})]}),(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:a=>{a.stopPropagation(),H.push("/admin/api-collections")},title:"View all collections",children:(0,b.jsx)(v.List,{className:"h-4 w-4"})}),(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:a=>{a.stopPropagation();let b=document.querySelector("[data-create-collection-trigger]");b?.click()},title:"Create new collection",children:(0,b.jsx)(s.Plus,{className:"h-4 w-4"})}),(0,b.jsx)("button",{onClick:()=>aK("apiCollections"),className:"p-2 hover:bg-accent rounded transition-colors",children:$.apiCollections?(0,b.jsx)(o.ChevronDown,{className:"h-4 w-4"}):(0,b.jsx)(p.ChevronRight,{className:"h-4 w-4"})})]}),$.apiCollections&&(0,b.jsxs)("div",{className:"mt-1 space-y-1",children:[aS.map(a=>(0,b.jsxs)("div",{className:"group relative",children:[(0,b.jsxs)(d.default,{href:`/admin/api-collections/${a.id}/editor`,className:(0,B.cn)("flex items-center gap-2 px-4 py-2 text-sm rounded-lg transition-colors",h===`/admin/api-collections/${a.id}/editor`?"bg-primary text-primary-foreground":"hover:bg-accent text-muted-foreground hover:text-foreground"),children:[(0,b.jsx)(w,{className:"h-4 w-4 flex-shrink-0"}),(0,b.jsx)("span",{className:"truncate flex-1",children:a.name}),a.is_published&&(0,b.jsx)("span",{className:"h-2 w-2 rounded-full bg-green-500 flex-shrink-0",title:"Published"})]}),(0,b.jsxs)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:b=>{b.preventDefault(),b.stopPropagation(),H.push(`/admin/api-collections/${a.id}/editor`)},title:"Open Collection",children:(0,b.jsx)(q.Eye,{className:"h-3 w-3"})}),(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-6 w-6 hover:bg-destructive hover:text-destructive-foreground",onClick:b=>aZ(b,a.id),title:"Delete",children:(0,b.jsx)(r.Trash2,{className:"h-3 w-3"})})]})]},a.id)),0===aS.length&&(0,b.jsx)("div",{className:"px-4 py-2 text-xs text-muted-foreground",children:I?"No API collections found":"No API collections yet"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center group",children:[(0,b.jsxs)("div",{onClick:()=>aK("forms"),className:"flex items-center gap-2 flex-1 px-2 py-2 hover:bg-accent rounded transition-colors cursor-pointer",children:[(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:a=>{a.stopPropagation(),H.push("/admin/forms")},title:"View all forms",children:(0,b.jsx)(x,{className:"h-4 w-4"})}),(0,b.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Forms"})]}),(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:a=>{a.stopPropagation(),H.push("/admin/forms")},title:"View all forms",children:(0,b.jsx)(v.List,{className:"h-4 w-4"})}),(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:a=>{a.stopPropagation();let b=document.querySelector("[data-create-form]");b?.click()},title:"Create new form",children:(0,b.jsx)(s.Plus,{className:"h-4 w-4"})}),(0,b.jsx)("button",{onClick:()=>aK("forms"),className:"p-2 hover:bg-accent rounded transition-colors",children:$.forms?(0,b.jsx)(o.ChevronDown,{className:"h-4 w-4"}):(0,b.jsx)(p.ChevronRight,{className:"h-4 w-4"})})]}),$.forms&&(0,b.jsxs)("div",{className:"mt-1 space-y-1",children:[aT.map(a=>(0,b.jsxs)("div",{className:"group relative",children:[(0,b.jsxs)(d.default,{href:`/admin/forms/${a.id}/builder`,className:(0,B.cn)("flex items-center gap-2 px-4 py-2 text-sm rounded-lg transition-colors",h===`/admin/forms/${a.id}/builder`?"bg-primary text-primary-foreground":"hover:bg-accent text-muted-foreground hover:text-foreground"),children:[(0,b.jsx)(x,{className:"h-4 w-4 flex-shrink-0"}),(0,b.jsx)("span",{className:"truncate flex-1",children:a.title||a.name}),a.is_published&&(0,b.jsx)("span",{className:"h-2 w-2 rounded-full bg-green-500 flex-shrink-0",title:"Published"})]}),(0,b.jsxs)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:b=>{b.preventDefault(),b.stopPropagation(),H.push(`/admin/forms/${a.id}/submissions`)},title:"View Submissions",children:(0,b.jsx)(q.Eye,{className:"h-3 w-3"})}),(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-6 w-6 hover:bg-destructive hover:text-destructive-foreground",onClick:b=>a$(b,a.id),title:"Delete",children:(0,b.jsx)(r.Trash2,{className:"h-3 w-3"})})]})]},a.id)),0===aT.length&&(0,b.jsx)("div",{className:"px-4 py-2 text-xs text-muted-foreground",children:I?"No forms found":"No forms yet"})]})]})]})}),(0,b.jsx)("div",{className:"p-4 border-t",children:(0,b.jsxs)(f.Button,{variant:"outline",onClick:aJ,className:"w-full gap-2",children:[(0,b.jsx)(i,{className:"h-4 w-4"}),"Logout"]})})]}),(0,b.jsx)("main",{className:"flex-1 overflow-auto",children:a}),(0,b.jsx)(C.PagePreviewModal,{open:!!aa,onOpenChange:a=>!a&&ab(null),page:aa,rows:ac,components:ae,layout:ag,layoutRows:ai,layoutComponents:ak,widgetData:am}),(0,b.jsx)(D.WidgetPreviewModal,{open:!!ao,onOpenChange:a=>!a&&ap(null),widget:ao,rows:aq,components:as}),(0,b.jsx)(E.LayoutPreviewModal,{open:!!au,onOpenChange:a=>!a&&av(null),layout:au,rows:aw,components:ay})]})}a.s(["AdminLayout",()=>H],97292)}];

//# sourceMappingURL=src_components_admin_AdminLayout_tsx_304e80b2._.js.map