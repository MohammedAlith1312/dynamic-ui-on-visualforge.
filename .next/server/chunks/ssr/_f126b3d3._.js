module.exports=[9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},86304,a=>{"use strict";var b=a.i(87924),c=a.i(187),d=a.i(68114);let e=(0,c.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("div",{className:(0,d.cn)(e({variant:c}),a),...f})}a.s(["Badge",()=>f])},6015,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{className:"relative w-full overflow-auto",children:(0,b.jsx)("table",{ref:e,className:(0,d.cn)("w-full caption-bottom text-sm",a),...c})}));e.displayName="Table";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("thead",{ref:e,className:(0,d.cn)("[&_tr]:border-b",a),...c}));f.displayName="TableHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tbody",{ref:e,className:(0,d.cn)("[&_tr:last-child]:border-0",a),...c}));g.displayName="TableBody",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tfoot",{ref:e,className:(0,d.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...c})).displayName="TableFooter";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tr",{ref:e,className:(0,d.cn)("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",a),...c}));h.displayName="TableRow";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("th",{ref:e,className:(0,d.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...c}));i.displayName="TableHead";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("td",{ref:e,className:(0,d.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...c}));j.displayName="TableCell",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("caption",{ref:e,className:(0,d.cn)("mt-4 text-sm text-muted-foreground",a),...c})).displayName="TableCaption",a.s(["Table",()=>e,"TableBody",()=>g,"TableCell",()=>j,"TableHead",()=>i,"TableHeader",()=>f,"TableRow",()=>h])},50933,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(74167),f=a.i(98212);a.s(["default",0,({slug:a,initialData:g})=>{let[h,i]=(0,c.useState)(g?.page||null),[j,k]=(0,c.useState)(g?.rows||[]),[l,m]=(0,c.useState)(g?.components||[]),[n,o]=(0,c.useState)(g?.layout||null),[p,q]=(0,c.useState)(g?.layoutRows||[]),[r,s]=(0,c.useState)(g?.layoutComponents||[]),[t,u]=(0,c.useState)(g?.allPages||[]),[v,w]=(0,c.useState)(!g),[x,y]=(0,c.useState)(()=>g?.widgetData?new Map(Object.entries(g.widgetData)):new Map);(0,c.useEffect)(()=>{g&&g.page?.slug===a||z()},[a,g]);let z=async()=>{let{data:b}=await e.supabase.from("pages").select("*").eq("is_published",!0).order("menu_order");if(u(b||[]),!a)return void w(!1);let{data:c}=await e.supabase.from("pages").select("*").eq("slug",a).eq("is_published",!0).single();if(c){let{data:a}=await e.supabase.from("page_rows").select("*").eq("page_id",c.id).order("position"),{data:b}=await e.supabase.from("page_components").select("*").eq("page_id",c.id).order("position");if(i(c),k(a||[]),m(b||[]),c.layout_id){let{data:a}=await e.supabase.from("layouts").select("*").eq("id",c.layout_id).eq("is_published",!0).maybeSingle();if(a){let{data:b}=await e.supabase.from("layout_rows").select("*").eq("layout_id",a.id).order("position"),{data:c}=await e.supabase.from("layout_components").select("*").eq("layout_id",a.id).order("position");o(a),q(b||[]),s(c||[])}}let d=(b||[]).filter(a=>a.is_widget_instance&&a.widget_id),f=new Map;for(let a of d){let b=a.widget_id;if(b&&!f.has(b)){let{data:a}=await e.supabase.from("widget_rows").select("*").eq("widget_id",b).order("position"),{data:c}=await e.supabase.from("widget_components").select("*").eq("widget_id",b).order("position");f.set(b,{rows:a||[],components:c||[]})}}y(f)}w(!1)},A={1:"grid-cols-1",2:"grid-cols-2",3:"grid-cols-3",4:"grid-cols-4"},B=()=>(0,b.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[!n&&(0,b.jsx)("h1",{className:"text-4xl font-bold mb-8",children:h?.title}),j.map(a=>(0,b.jsx)("div",{className:`grid gap-6 ${A[a.columns]}`,children:Array.from({length:a.columns},(c,d)=>{let e;return(0,b.jsx)("div",{className:"space-y-6",children:(e=a.id,l.filter(a=>a.row_id===e&&a.column_index===d).sort((a,b)=>a.position-b.position)).map(a=>{if(a.is_widget_instance&&a.widget_id){var c;let d;return(0,b.jsx)("div",{children:(c=a.widget_id,(d=x.get(c))?d.rows.sort((a,b)=>a.position-b.position).map(a=>{let c=d.components.filter(b=>b.row_id===a.id).sort((a,b)=>a.position-b.position),e=Array.from({length:a.columns},()=>[]);return c.forEach(b=>{b.column_index<a.columns&&e[b.column_index].push(b)}),(0,b.jsx)("div",{className:`grid gap-6 ${A[a.columns]}`,children:e.map((a,c)=>(0,b.jsx)("div",{className:"space-y-6",children:a.map(a=>(0,b.jsx)(f.ComponentRenderer,{component:a},a.id))},c))},a.id)}):null)},a.id)}return(0,b.jsx)(f.ComponentRenderer,{component:a},a.id)})},d)})},a.id))]});return v?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)("nav",{className:"border-b bg-card shadow-[var(--shadow-soft)]",children:(0,b.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsx)(d.default,{href:"/",className:"text-xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"My Website"}),(0,b.jsx)("div",{className:"flex gap-4",children:t.map(c=>(0,b.jsx)(d.default,{href:`/page/${c.slug}`,className:`text-sm transition-colors hover:text-primary ${c.slug===a?"text-primary font-medium":"text-muted-foreground"}`,children:c.title},c.id))})]})})}),(0,b.jsx)("main",{className:"container mx-auto px-4 py-12 overflow-y-auto",children:h?n?(0,b.jsx)("div",{className:"space-y-8",children:p.map(a=>(0,b.jsx)("div",{className:`grid gap-6 ${A[a.columns]}`,children:Array.from({length:a.columns},(c,d)=>{let e;return(0,b.jsx)("div",{className:"space-y-6",children:(e=a.id,r.filter(a=>a.row_id===e&&a.column_index===d).sort((a,b)=>a.position-b.position)).map(a=>"page-content"===a.component_type?(0,b.jsx)("div",{className:"space-y-8",children:B()},a.id):(0,b.jsx)(f.ComponentRenderer,{component:a},a.id))},d)})},a.id))}):B():(0,b.jsxs)("div",{className:"text-center py-20",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Welcome to My Website"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-8",children:"Select a page from the navigation above to get started"}),(0,b.jsx)(d.default,{href:"/auth",className:"inline-flex items-center justify-center rounded-md bg-primary px-6 py-3 text-sm font-medium text-primary-foreground transition-colors hover:bg-primary/90",children:"Admin Login"})]})})]})}])},59789,a=>{a.v(a=>Promise.resolve().then(()=>a(23952)))}];

//# sourceMappingURL=_f126b3d3._.js.map