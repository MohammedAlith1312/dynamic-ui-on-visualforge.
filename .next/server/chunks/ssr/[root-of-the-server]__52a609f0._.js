module.exports=[36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},29246,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:e,...c}));e.displayName="Textarea",a.s(["Textarea",()=>e])},49967,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(14574),e=a.i(99570),f=a.i(33508),g=a.i(98212),h=a.i(70514),i=a.i(66605);a.s(["PagePreviewModal",0,({open:a,onOpenChange:j,page:k,rows:l,components:m,layout:n,layoutRows:o,layoutComponents:p,widgetData:q})=>{let[r,s]=(0,c.useState)("desktop"),t=(a,c)=>a.sort((a,b)=>a.position-b.position).map(a=>{let d=c.filter(b=>b.row_id===a.id).sort((a,b)=>a.position-b.position),e=Array.from({length:a.columns},()=>[]);return d.forEach(b=>{b.column_index<a.columns&&e[b.column_index].push(b)}),(0,b.jsx)("div",{className:"grid gap-4",style:{gridTemplateColumns:`repeat(${a.columns}, 1fr)`},children:e.map((a,c)=>(0,b.jsx)("div",{className:"space-y-4",children:a.map(a=>{if("page-content"===a.component_type)return(0,b.jsx)("div",{className:"w-full",children:t(l,m)},a.id);if("is_widget_instance"in a&&a.is_widget_instance&&a.widget_id){var c;let d;return(0,b.jsx)("div",{children:(c=a.widget_id,(d=q.get(c))?d.rows.sort((a,b)=>a.position-b.position).map(a=>{let c=d.components.filter(b=>b.row_id===a.id).sort((a,b)=>a.position-b.position),e=Array.from({length:a.columns},()=>[]);return c.forEach(b=>{b.column_index<a.columns&&e[b.column_index].push(b)}),(0,b.jsx)("div",{className:"grid gap-4",style:{gridTemplateColumns:`repeat(${a.columns}, 1fr)`},children:e.map((a,c)=>(0,b.jsx)("div",{className:"space-y-4",children:a.map(a=>(0,b.jsx)(g.ComponentRenderer,{component:a},a.id))},c))},a.id)}):(0,b.jsx)("div",{className:"p-4 border border-dashed border-muted-foreground/30 rounded-lg",children:(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Widget not found"})}))},a.id)}return(0,b.jsx)(g.ComponentRenderer,{component:a},a.id)})},c))},a.id)});return(0,b.jsx)(d.Dialog,{open:a,onOpenChange:j,children:(0,b.jsxs)(d.DialogContent,{className:"max-w-[95vw] max-h-[90vh] p-0 gap-0",hideClose:!0,children:[(0,b.jsxs)(d.DialogTitle,{className:"sr-only",children:["Page Preview: ",k?.title]}),(0,b.jsxs)("div",{className:"flex items-center justify-between border-b px-4 py-3 bg-card",children:[(0,b.jsxs)("h2",{className:"text-lg font-semibold","aria-hidden":"true",children:["Page Preview: ",k?.title]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(h.ResponsiveControls,{currentBreakpoint:r,onBreakpointChange:s}),(0,b.jsx)(e.Button,{variant:"ghost",size:"icon",onClick:()=>j(!1),children:(0,b.jsx)(f.X,{className:"h-4 w-4"})})]})]}),(0,b.jsx)("div",{className:"flex-1 overflow-auto bg-background",children:(0,b.jsx)(i.DeviceFrame,{breakpoint:r,children:(0,b.jsxs)("div",{className:"min-h-full",children:[n?t(o,p):(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:t(l,m)}),0===l.length&&(0,b.jsx)("p",{className:"text-center text-muted-foreground py-12",children:"No content yet. Add rows and components to see the preview."})]})})})]})})}])},21118,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(14574),e=a.i(99570),f=a.i(33508),g=a.i(98212),h=a.i(70514),i=a.i(66605);a.s(["WidgetPreviewModal",0,({open:a,onOpenChange:j,widget:k,rows:l,components:m})=>{let[n,o]=(0,c.useState)("desktop");return(0,b.jsx)(d.Dialog,{open:a,onOpenChange:j,children:(0,b.jsxs)(d.DialogContent,{className:"max-w-[95vw] max-h-[90vh] p-0 gap-0",hideClose:!0,children:[(0,b.jsxs)(d.DialogTitle,{className:"sr-only",children:["Widget Preview: ",k?.title]}),(0,b.jsxs)("div",{className:"flex items-center justify-between border-b px-4 py-3 bg-card",children:[(0,b.jsxs)("h2",{className:"text-lg font-semibold","aria-hidden":"true",children:["Widget Preview: ",k?.title]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(h.ResponsiveControls,{currentBreakpoint:n,onBreakpointChange:o}),(0,b.jsx)(e.Button,{variant:"ghost",size:"icon",onClick:()=>j(!1),children:(0,b.jsx)(f.X,{className:"h-4 w-4"})})]})]}),(0,b.jsx)("div",{className:"flex-1 overflow-auto bg-background",children:(0,b.jsx)(i.DeviceFrame,{breakpoint:n,children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto p-8 space-y-8",children:[l.sort((a,b)=>a.position-b.position).map(a=>{let c=m.filter(b=>b.row_id===a.id).sort((a,b)=>a.position-b.position),d=Array.from({length:a.columns},()=>[]);return c.forEach(b=>{b.column_index<a.columns&&d[b.column_index].push(b)}),(0,b.jsx)("div",{className:"grid gap-4",style:{gridTemplateColumns:`repeat(${a.columns}, 1fr)`},children:d.map((a,c)=>(0,b.jsx)("div",{className:"space-y-4",children:a.map(a=>(0,b.jsx)(g.ComponentRenderer,{component:a},a.id))},c))},a.id)}),0===l.length&&(0,b.jsx)("p",{className:"text-center text-muted-foreground py-8",children:"No content yet. Add rows and components to see the preview."})]})})})]})})}])},63422,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(14574),e=a.i(99570),f=a.i(33508),g=a.i(98212),h=a.i(70514),i=a.i(66605);a.s(["LayoutPreviewModal",0,({open:a,onOpenChange:j,layout:k,rows:l,components:m})=>{let[n,o]=(0,c.useState)("desktop");return(0,b.jsx)(d.Dialog,{open:a,onOpenChange:j,children:(0,b.jsxs)(d.DialogContent,{className:"max-w-[95vw] max-h-[90vh] p-0 gap-0",hideClose:!0,children:[(0,b.jsxs)(d.DialogTitle,{className:"sr-only",children:["Layout Preview: ",k?.title]}),(0,b.jsxs)("div",{className:"flex items-center justify-between border-b px-4 py-3 bg-card",children:[(0,b.jsxs)("h2",{className:"text-lg font-semibold","aria-hidden":"true",children:["Layout Preview: ",k?.title]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(h.ResponsiveControls,{currentBreakpoint:n,onBreakpointChange:o}),(0,b.jsx)(e.Button,{variant:"ghost",size:"icon",onClick:()=>j(!1),children:(0,b.jsx)(f.X,{className:"h-4 w-4"})})]})]}),(0,b.jsx)("div",{className:"flex-1 overflow-auto bg-background",children:(0,b.jsx)(i.DeviceFrame,{breakpoint:n,children:(0,b.jsxs)("div",{className:"min-h-full flex flex-col",children:[l.sort((a,b)=>a.position-b.position).map(a=>{let c=m.filter(b=>b.row_id===a.id).sort((a,b)=>a.position-b.position),d=Array.from({length:a.columns},()=>[]);return c.forEach(b=>{b.column_index<a.columns&&d[b.column_index].push(b)}),(0,b.jsx)("div",{className:"w-full",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-8 grid gap-4",style:{gridTemplateColumns:`repeat(${a.columns}, 1fr)`},children:d.map((a,c)=>(0,b.jsx)("div",{className:"space-y-4",children:a.map(a=>(0,b.jsx)(g.ComponentRenderer,{component:a},a.id))},c))})},a.id)}),0===l.length&&(0,b.jsx)("p",{className:"text-center text-muted-foreground py-12",children:"No content yet. Add rows and components to see the preview."})]})})})]})})}])},4162,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(74167),f=a.i(99570),g=a.i(91119),h=a.i(14574),i=a.i(66718),j=a.i(70430),k=a.i(29246),l=a.i(15618),m=a.i(23292);let n=({onCreated:a})=>{let[d,g]=(0,c.useState)(!1),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(!1),v=async()=>{if(!n.trim())return void m.toast.error("Please enter a collection name");u(!0);try{let{data:{user:b}}=await e.supabase.auth.getUser();if(!b)throw Error("Not authenticated");let{error:c}=await e.supabase.from("api_collections").insert({user_id:b.id,name:n.trim(),description:p.trim()||null,base_url:r.trim()||null});if(c)throw c;m.toast.success("Collection created successfully"),g(!1),o(""),q(""),s(""),a?.()}catch(a){console.error("Error creating collection:",a),m.toast.error("Failed to create collection")}finally{u(!1)}};return(0,b.jsxs)(h.Dialog,{open:d,onOpenChange:g,children:[(0,b.jsx)(h.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(f.Button,{"data-create-collection-trigger":!0,children:[(0,b.jsx)(l.Plus,{className:"h-4 w-4 mr-2"}),"New Collection"]})}),(0,b.jsxs)(h.DialogContent,{children:[(0,b.jsx)(h.DialogHeader,{children:(0,b.jsx)(h.DialogTitle,{children:"Create API Collection"})}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"name",children:"Name*"}),(0,b.jsx)(i.Input,{id:"name",placeholder:"My API Collection",value:n,onChange:a=>o(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"description",children:"Description"}),(0,b.jsx)(k.Textarea,{id:"description",placeholder:"Description of this collection",value:p,onChange:a=>q(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"baseUrl",children:"Base URL"}),(0,b.jsx)(i.Input,{id:"baseUrl",placeholder:"https://api.example.com",value:r,onChange:a=>s(a.target.value)})]}),(0,b.jsx)(f.Button,{onClick:v,disabled:t,className:"w-full",children:t?"Creating...":"Create Collection"})]})]})]})};var o=a.i(81560);let p=(0,a.i(70106).default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var q=a.i(97292);a.s(["default",0,()=>{let a=(0,d.useRouter)(),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(!0),l=async()=>{try{let{data:a,error:b}=await e.supabase.from("api_collections").select("*").order("created_at",{ascending:!1});if(b)throw b;i(a||[])}catch(a){console.error("Error loading collections:",a),m.toast.error("Failed to load collections")}finally{k(!1)}};(0,c.useEffect)(()=>{l();let a=e.supabase.channel("api_collections_changes").on("postgres_changes",{event:"*",schema:"public",table:"api_collections"},()=>{l()}).subscribe();return()=>{e.supabase.removeChannel(a)}},[]);let r=async a=>{if(confirm("Are you sure you want to delete this collection? All requests will be deleted."))try{let{error:b}=await e.supabase.from("api_collections").delete().eq("id",a);if(b)throw b;m.toast.success("Collection deleted")}catch(a){console.error("Error deleting collection:",a),m.toast.error("Failed to delete collection")}};return(0,b.jsx)(q.AdminLayout,{children:(0,b.jsxs)("div",{className:"space-y-6 p-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"API Collections"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Manage your REST API collections"})]}),(0,b.jsx)(n,{onCreated:l})]}),j?(0,b.jsx)("div",{children:"Loading collections..."}):0===h.length?(0,b.jsx)(g.Card,{children:(0,b.jsxs)(g.CardContent,{className:"flex flex-col items-center justify-center py-12",children:[(0,b.jsx)("p",{className:"text-muted-foreground mb-4",children:"No collections yet"}),(0,b.jsx)(n,{onCreated:l})]})}):(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:h.map(c=>(0,b.jsxs)(g.Card,{className:"hover:shadow-lg transition-shadow",children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{className:"flex items-center justify-between",children:(0,b.jsx)("span",{className:"truncate",children:c.name})}),c.description&&(0,b.jsx)(g.CardDescription,{className:"line-clamp-2",children:c.description}),c.base_url&&(0,b.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:c.base_url})]}),(0,b.jsx)(g.CardContent,{children:(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(f.Button,{variant:"outline",className:"flex-1",onClick:()=>a.push(`/admin/api-collections/${c.id}/editor`),children:[(0,b.jsx)(p,{className:"h-4 w-4 mr-2"}),"Open"]}),(0,b.jsx)(f.Button,{variant:"outline",size:"icon",onClick:()=>r(c.id),children:(0,b.jsx)(o.Trash2,{className:"h-4 w-4"})})]})})]},c.id))})]})})}],4162)},59789,a=>{a.v(a=>Promise.resolve().then(()=>a(23952)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__52a609f0._.js.map