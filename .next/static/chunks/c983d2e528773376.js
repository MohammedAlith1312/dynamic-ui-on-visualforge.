(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,50630,106,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(22016),i=e.i(18566),o=e.i(19455),r=e.i(93479),l=e.i(75254);let n=(0,l.default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var c=e.i(78583),d=e.i(72664);let h=(0,l.default)("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);var p=e.i(55436);let u=(0,l.default)("FilePen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);e.s(["FileEdit",()=>u],106);var m=e.i(64659),x=e.i(63059),g=e.i(86536),f=e.i(27612),y=e.i(7233),v=e.i(58041);let w=(0,l.default)("SearchCode",[["path",{d:"m13 13.5 2-2.5-2-2.5",key:"1rvxrh"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}],["path",{d:"M9 8.5 7 11l2 2.5",key:"6ffwbx"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);var j=e.i(70956);let N=(0,l.default)("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]),b=(0,l.default)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),C=(0,l.default)("LayoutTemplate",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]);var k=e.i(41867),P=e.i(46696),q=e.i(75157),_=e.i(20501),z=e.i(70946),B=e.i(12773),D=e.i(46798),S=e.i(52571);function L({children:e}){let l=(0,i.usePathname)(),L=(0,i.useRouter)(),[T,V]=(0,s.useState)(""),[$,M]=(0,s.useState)([]),[E,F]=(0,s.useState)([]),[R,A]=(0,s.useState)([]),[I,O]=(0,s.useState)([]),[H,W]=(0,s.useState)([]),[K,Q]=(0,s.useState)([]),[U,G]=(0,s.useState)([]),[J,X]=(0,s.useState)([]),[Y,Z]=(0,s.useState)({pages:!0,widgets:!0,layouts:!0,templates:!0,entities:!0,queries:!0,apiCollections:!0,forms:!0}),[ee,et]=(0,s.useState)(null),[es,ea]=(0,s.useState)([]),[ei,eo]=(0,s.useState)([]),[er,el]=(0,s.useState)(null),[en,ec]=(0,s.useState)([]),[ed,eh]=(0,s.useState)([]),[ep,eu]=(0,s.useState)(new Map),[em,ex]=(0,s.useState)(null),[eg,ef]=(0,s.useState)([]),[ey,ev]=(0,s.useState)([]),[ew,ej]=(0,s.useState)(null),[eN,eb]=(0,s.useState)([]),[eC,ek]=(0,s.useState)([]);(0,s.useEffect)(()=>{eT();let e=k.supabase.channel("pages-changes").on("postgres_changes",{event:"*",schema:"public",table:"pages"},()=>eq()).subscribe(),t=k.supabase.channel("widgets-changes").on("postgres_changes",{event:"*",schema:"public",table:"widgets"},()=>e_()).subscribe(),s=k.supabase.channel("layouts-changes").on("postgres_changes",{event:"*",schema:"public",table:"layouts"},()=>ez()).subscribe(),a=k.supabase.channel("entities-changes").on("postgres_changes",{event:"*",schema:"public",table:"entities"},()=>eP()).subscribe(),i=k.supabase.channel("queries-changes").on("postgres_changes",{event:"*",schema:"public",table:"queries"},()=>eB()).subscribe(),o=k.supabase.channel("api-collections-changes").on("postgres_changes",{event:"*",schema:"public",table:"api_collections"},()=>eD()).subscribe(),r=k.supabase.channel("forms-changes").on("postgres_changes",{event:"*",schema:"public",table:"forms"},()=>eS()).subscribe();return()=>{k.supabase.removeChannel(e),k.supabase.removeChannel(t),k.supabase.removeChannel(s),k.supabase.removeChannel(a),k.supabase.removeChannel(i),k.supabase.removeChannel(o),k.supabase.removeChannel(r)}},[]);let eP=async()=>{let{data:e,error:t}=await k.supabase.from("entities").select("*").order("created_at",{ascending:!1});t?console.error("Error loading entities:",t.message,t):O(e||[])},eq=async()=>{let{data:e}=await k.supabase.from("pages").select("*").order("title");M(e||[])},e_=async()=>{let{data:e}=await k.supabase.from("widgets").select("*").order("title");F(e||[])},ez=async()=>{let{data:e}=await k.supabase.from("layouts").select("*").order("title");A(e||[])},eB=async()=>{let{data:e,error:t}=await k.supabase.from("queries").select("*").order("created_at",{ascending:!1});t?console.error("Error loading queries:",t.message,t):W(e||[])},eD=async()=>{let{data:e,error:t}=await k.supabase.from("api_collections").select("*").order("created_at",{ascending:!1});t?"42P01"===t.code||t.message.includes("schema cache")?console.warn("API Collections table not found, skipping load."):console.error("Error loading API collections:",t.message,t):Q(e||[])},eS=async()=>{let{data:e,error:t}=await k.supabase.from("forms").select("*").order("created_at",{ascending:!1});t?"42P01"===t.code||t.message.includes("schema cache")?console.warn("Forms table not found, skipping load."):console.error("Error loading forms:",t.message,t):G(e||[])},eL=async()=>{let{data:e,error:t}=await k.supabase.from("section_templates").select("*").order("created_at",{ascending:!1});t?console.error("Error loading templates:",t.message,t):X(e||[])},eT=async()=>{await Promise.all([eq(),e_(),ez(),eL(),eP(),eB(),eD(),eS()])},eV=async()=>{await k.supabase.auth.signOut(),P.toast.success("Logged out successfully"),L.push("/")},e$=e=>{Z(t=>({...t,[e]:!t[e]}))},eM=e=>T?e.filter(e=>(e.title||e.display_name||"").toLowerCase().includes(T.toLowerCase())):e,eE=eM($),eF=eM(E),eR=eM(R),eA=J.filter(e=>e.name?.toLowerCase().includes(T.toLowerCase())),eI=I.filter(e=>e.display_name.toLowerCase().includes(T.toLowerCase())),eO=H.filter(e=>e.display_name?.toLowerCase().includes(T.toLowerCase())),eH=K.filter(e=>e.name?.toLowerCase().includes(T.toLowerCase())),eW=U.filter(e=>e.name?.toLowerCase().includes(T.toLowerCase())||e.title?.toLowerCase().includes(T.toLowerCase())),eK=async(e,t)=>{if(e.preventDefault(),e.stopPropagation(),!confirm("Delete this page?"))return;let{error:s}=await k.supabase.from("pages").delete().eq("id",t);s?P.toast.error("Failed to delete page"):P.toast.success("Page deleted")},eQ=async(e,t)=>{if(e.preventDefault(),e.stopPropagation(),!confirm("Delete this widget?"))return;let{error:s}=await k.supabase.from("widgets").delete().eq("id",t);s?P.toast.error("Failed to delete widget"):P.toast.success("Widget deleted")},eU=async(e,t)=>{if(e.preventDefault(),e.stopPropagation(),!confirm("Delete this layout?"))return;let{error:s}=await k.supabase.from("layouts").delete().eq("id",t);s?P.toast.error("Failed to delete layout"):P.toast.success("Layout deleted")},eG=async(e,t)=>{if(e.preventDefault(),e.stopPropagation(),!confirm("Delete this entity?"))return;let{error:s}=await k.supabase.from("entities").delete().eq("id",t);s?P.toast.error("Failed to delete entity"):P.toast.success("Entity deleted")},eJ=async(e,t)=>{if(e.preventDefault(),e.stopPropagation(),!confirm("Delete this query?"))return;let{error:s}=await k.supabase.from("queries").delete().eq("id",t);s?P.toast.error("Failed to delete query"):P.toast.success("Query deleted")},eX=async(e,t)=>{if(e.preventDefault(),e.stopPropagation(),!confirm("Delete this API collection? All requests will be deleted."))return;let{error:s}=await k.supabase.from("api_collections").delete().eq("id",t);s?P.toast.error("Failed to delete collection"):P.toast.success("Collection deleted")},eY=async(e,t)=>{if(e.preventDefault(),e.stopPropagation(),!confirm("Delete this form? All submissions will be deleted."))return;let{error:s}=await k.supabase.from("forms").delete().eq("id",t);s?P.toast.error("Failed to delete form"):P.toast.success("Form deleted")},eZ=async(e,t)=>{if(e.preventDefault(),e.stopPropagation(),!confirm("Delete this template?"))return;let{error:s}=await k.supabase.from("section_templates").delete().eq("id",t);s?P.toast.error("Failed to delete template"):P.toast.success("Template deleted")},e0=async(e,t)=>{e.preventDefault(),e.stopPropagation();let[s,a,i]=await Promise.all([k.supabase.from("page_rows").select("*").eq("page_id",t.id).order("position"),k.supabase.from("page_components").select("*").eq("page_id",t.id).order("position"),t.layout_id?k.supabase.from("layouts").select("*").eq("id",t.layout_id).single():Promise.resolve({data:null,error:null})]);if(ea(s.data||[]),eo(a.data||[]),i.data){let[e,t]=await Promise.all([k.supabase.from("layout_rows").select("*").eq("layout_id",i.data.id).order("position"),k.supabase.from("layout_components").select("*").eq("layout_id",i.data.id).order("position")]);el(i.data),ec(e.data||[]),eh(t.data||[])}else el(null),ec([]),eh([]);let o=Array.from(new Set([...a.data||[],...(i.data?await k.supabase.from("layout_components").select("*").eq("layout_id",i.data.id):{data:[]}).data||[]].filter(e=>e.is_widget_instance&&e.widget_id).map(e=>e.widget_id))),r=new Map;for(let e of o){let[t,s]=await Promise.all([k.supabase.from("widget_rows").select("*").eq("widget_id",e).order("position"),k.supabase.from("widget_components").select("*").eq("widget_id",e).order("position")]);r.set(e,{rows:t.data||[],components:s.data||[]})}eu(r),et(t)},e1=async(e,t)=>{e.preventDefault(),e.stopPropagation();let[s,a]=await Promise.all([k.supabase.from("widget_rows").select("*").eq("widget_id",t.id).order("position"),k.supabase.from("widget_components").select("*").eq("widget_id",t.id).order("position")]);ef(s.data||[]),ev(a.data||[]),ex(t)},e2=async(e,t)=>{e.preventDefault(),e.stopPropagation();let[s,a]=await Promise.all([k.supabase.from("layout_rows").select("*").eq("layout_id",t.id).order("position"),k.supabase.from("layout_components").select("*").eq("layout_id",t.id).order("position")]);eb(s.data||[]),ek(a.data||[]),ej(t)};return c.FileText,d.Box,(0,t.jsxs)("div",{className:"min-h-screen bg-background flex",children:[(0,t.jsxs)("aside",{className:"w-64 border-r bg-card flex flex-col shadow-[var(--shadow-soft)]",children:[(0,t.jsx)("div",{className:"p-6 border-b",children:(0,t.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Admin Panel"})}),(0,t.jsx)("div",{className:"p-4 border-b",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(r.Input,{type:"search",placeholder:"Search...",value:T,onChange:e=>V(e.target.value),className:"pl-9"})]})}),(0,t.jsx)("nav",{className:"flex-1 p-4 overflow-auto",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center group",children:[(0,t.jsxs)("div",{onClick:()=>e$("pages"),className:"flex items-center gap-2 flex-1 px-2 py-2 hover:bg-accent rounded transition-colors cursor-pointer",children:[(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:e=>{e.stopPropagation(),L.push("/admin")},title:"View all pages",children:(0,t.jsx)(c.FileText,{className:"h-4 w-4"})}),(0,t.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Pages"})]}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:e=>{e.stopPropagation(),L.push("/admin")},title:"View all pages",children:(0,t.jsx)(j.List,{className:"h-4 w-4"})}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:e=>{e.stopPropagation();let t=document.querySelector("[data-create-page]");t?.click()},title:"Create new page",children:(0,t.jsx)(y.Plus,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>e$("pages"),className:"p-2 hover:bg-accent rounded transition-colors",children:Y.pages?(0,t.jsx)(m.ChevronDown,{className:"h-4 w-4"}):(0,t.jsx)(x.ChevronRight,{className:"h-4 w-4"})})]}),Y.pages&&(0,t.jsxs)("div",{className:"mt-1 space-y-1",children:[eE.map(e=>(0,t.jsxs)("div",{className:"group relative",children:[(0,t.jsxs)(a.default,{href:`/admin/editor/${e.id}`,className:(0,q.cn)("flex items-center gap-2 px-4 py-2 text-sm rounded-lg transition-colors",l===`/admin/editor/${e.id}`?"bg-primary text-primary-foreground":"hover:bg-accent text-muted-foreground hover:text-foreground"),children:[(0,t.jsx)(u,{className:"h-4 w-4 flex-shrink-0"}),(0,t.jsx)("span",{className:"truncate flex-1",children:e.title}),e.is_published&&(0,t.jsx)("span",{className:"h-2 w-2 rounded-full bg-green-500 flex-shrink-0",title:"Published"})]}),(0,t.jsxs)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:t=>e0(t,e),title:"Preview",children:(0,t.jsx)(g.Eye,{className:"h-3 w-3"})}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-6 w-6 hover:bg-destructive hover:text-destructive-foreground",onClick:t=>eK(t,e.id),title:"Delete",children:(0,t.jsx)(f.Trash2,{className:"h-3 w-3"})})]})]},e.id)),0===eE.length&&(0,t.jsx)("div",{className:"px-4 py-2 text-xs text-muted-foreground",children:T?"No pages found":"No pages yet"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center group",children:[(0,t.jsxs)("div",{onClick:()=>e$("widgets"),className:"flex items-center gap-2 flex-1 px-2 py-2 hover:bg-accent rounded transition-colors cursor-pointer",children:[(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:e=>{e.stopPropagation(),L.push("/admin/widgets")},title:"View all widgets",children:(0,t.jsx)(d.Box,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{className:"flex items-center gap-1 flex-1",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Widgets"}),(0,t.jsxs)(D.Tooltip,{children:[(0,t.jsx)(D.TooltipTrigger,{onClick:e=>e.stopPropagation(),children:(0,t.jsx)(S.Info,{className:"h-3 w-3 text-muted-foreground"})}),(0,t.jsx)(D.TooltipContent,{side:"right",className:"max-w-xs",children:(0,t.jsx)("p",{className:"text-xs",children:"Reusable components that update everywhere when edited"})})]})]})]}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:e=>{e.stopPropagation(),L.push("/admin/widgets")},title:"View all widgets",children:(0,t.jsx)(j.List,{className:"h-4 w-4"})}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:e=>{e.stopPropagation();let t=document.querySelector("[data-create-widget]");t?.click()},title:"Create new widget",children:(0,t.jsx)(y.Plus,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>e$("widgets"),className:"p-2 hover:bg-accent rounded transition-colors",children:Y.widgets?(0,t.jsx)(m.ChevronDown,{className:"h-4 w-4"}):(0,t.jsx)(x.ChevronRight,{className:"h-4 w-4"})})]}),Y.widgets&&(0,t.jsxs)("div",{className:"mt-1 space-y-1",children:[eF.map(e=>(0,t.jsxs)("div",{className:"group relative",children:[(0,t.jsxs)(a.default,{href:`/admin/widgets/${e.id}`,className:(0,q.cn)("flex items-center gap-2 px-4 py-2 text-sm rounded-lg transition-colors",l===`/admin/widgets/${e.id}`?"bg-primary text-primary-foreground":"hover:bg-accent text-muted-foreground hover:text-foreground"),children:[(0,t.jsx)(d.Box,{className:"h-4 w-4 flex-shrink-0"}),(0,t.jsx)("span",{className:"truncate flex-1",children:e.title}),e.is_published&&(0,t.jsx)("span",{className:"h-2 w-2 rounded-full bg-green-500 flex-shrink-0",title:"Published"})]}),(0,t.jsxs)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:t=>e1(t,e),title:"Preview",children:(0,t.jsx)(g.Eye,{className:"h-3 w-3"})}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-6 w-6 hover:bg-destructive hover:text-destructive-foreground",onClick:t=>eQ(t,e.id),title:"Delete",children:(0,t.jsx)(f.Trash2,{className:"h-3 w-3"})})]})]},e.id)),0===eF.length&&(0,t.jsx)("div",{className:"px-4 py-2 text-xs text-muted-foreground",children:T?"No widgets found":"No widgets yet"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center group",children:[(0,t.jsxs)("div",{onClick:()=>e$("layouts"),className:"flex items-center gap-2 flex-1 px-2 py-2 hover:bg-accent rounded transition-colors cursor-pointer",children:[(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:e=>{e.stopPropagation(),L.push("/admin/layouts")},title:"View all layouts",children:(0,t.jsx)(h,{className:"h-4 w-4"})}),(0,t.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Layouts"})]}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:e=>{e.stopPropagation(),L.push("/admin/layouts")},title:"View all layouts",children:(0,t.jsx)(j.List,{className:"h-4 w-4"})}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:e=>{e.stopPropagation();let t=document.querySelector("[data-create-layout]");t?.click()},title:"Create new layout",children:(0,t.jsx)(y.Plus,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>e$("layouts"),className:"p-2 hover:bg-accent rounded transition-colors",children:Y.layouts?(0,t.jsx)(m.ChevronDown,{className:"h-4 w-4"}):(0,t.jsx)(x.ChevronRight,{className:"h-4 w-4"})})]}),Y.layouts&&(0,t.jsxs)("div",{className:"mt-1 space-y-1",children:[eR.map(e=>(0,t.jsxs)("div",{className:"group relative",children:[(0,t.jsxs)(a.default,{href:`/admin/layouts/${e.id}`,className:(0,q.cn)("flex items-center gap-2 px-4 py-2 text-sm rounded-lg transition-colors",l===`/admin/layouts/${e.id}`?"bg-primary text-primary-foreground":"hover:bg-accent text-muted-foreground hover:text-foreground"),children:[(0,t.jsx)(h,{className:"h-4 w-4 flex-shrink-0"}),(0,t.jsx)("span",{className:"truncate flex-1",children:e.title}),e.is_published&&(0,t.jsx)("span",{className:"h-2 w-2 rounded-full bg-green-500 flex-shrink-0",title:"Published"})]}),(0,t.jsxs)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:t=>e2(t,e),title:"Preview",children:(0,t.jsx)(g.Eye,{className:"h-3 w-3"})}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-6 w-6 hover:bg-destructive hover:text-destructive-foreground",onClick:t=>eU(t,e.id),title:"Delete",children:(0,t.jsx)(f.Trash2,{className:"h-3 w-3"})})]})]},e.id)),0===eR.length&&(0,t.jsx)("div",{className:"px-4 py-2 text-xs text-muted-foreground",children:T?"No layouts found":"No layouts yet"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center group",children:[(0,t.jsxs)("div",{onClick:()=>e$("templates"),className:"flex items-center gap-2 flex-1 px-2 py-2 hover:bg-accent rounded transition-colors cursor-pointer",children:[(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:e=>{e.stopPropagation(),L.push("/admin/templates")},title:"View all templates",children:(0,t.jsx)(C,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{className:"flex items-center gap-1 flex-1",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Templates"}),(0,t.jsxs)(D.Tooltip,{children:[(0,t.jsx)(D.TooltipTrigger,{onClick:e=>e.stopPropagation(),children:(0,t.jsx)(S.Info,{className:"h-3 w-3 text-muted-foreground"})}),(0,t.jsx)(D.TooltipContent,{side:"right",className:"max-w-xs",children:(0,t.jsx)("p",{className:"text-xs",children:"Pre-built section patterns to insert into pages"})})]})]})]}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:e=>{e.stopPropagation(),L.push("/admin/templates")},title:"View all templates",children:(0,t.jsx)(j.List,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>e$("templates"),className:"p-2 hover:bg-accent rounded transition-colors",children:Y.templates?(0,t.jsx)(m.ChevronDown,{className:"h-4 w-4"}):(0,t.jsx)(x.ChevronRight,{className:"h-4 w-4"})})]}),Y.templates&&(0,t.jsxs)("div",{className:"mt-1 space-y-1",children:[eA.map(e=>(0,t.jsxs)("div",{className:"group relative",children:[(0,t.jsxs)(a.default,{href:`/admin/templates/${e.id}/editor`,className:(0,q.cn)("flex items-center gap-2 px-4 py-2 text-sm rounded-lg transition-colors",l===`/admin/templates/${e.id}/editor`?"bg-primary text-primary-foreground":"hover:bg-accent text-muted-foreground hover:text-foreground"),children:[(0,t.jsx)(C,{className:"h-4 w-4 flex-shrink-0"}),(0,t.jsx)("span",{className:"truncate flex-1",children:e.name}),e.is_public&&(0,t.jsx)("span",{className:"h-2 w-2 rounded-full bg-green-500 flex-shrink-0",title:"Public"})]}),(0,t.jsx)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-6 w-6 hover:bg-destructive hover:text-destructive-foreground",onClick:t=>eZ(t,e.id),title:"Delete",children:(0,t.jsx)(f.Trash2,{className:"h-3 w-3"})})})]},e.id)),0===eA.length&&(0,t.jsx)("div",{className:"px-4 py-2 text-xs text-muted-foreground",children:T?"No templates found":"No templates yet"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center group",children:[(0,t.jsxs)("div",{onClick:()=>e$("entities"),className:"flex items-center gap-2 flex-1 px-2 py-2 hover:bg-accent rounded transition-colors cursor-pointer",children:[(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:e=>{e.stopPropagation(),L.push("/admin/entities")},title:"View all entities",children:(0,t.jsx)(v.Database,{className:"h-4 w-4"})}),(0,t.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Entities"})]}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:e=>{e.stopPropagation(),L.push("/admin/entities")},title:"View all entities",children:(0,t.jsx)(j.List,{className:"h-4 w-4"})}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:e=>{e.stopPropagation();let t=document.querySelector("[data-create-entity]");t?.click()},title:"Create new entity",children:(0,t.jsx)(y.Plus,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>e$("entities"),className:"p-2 hover:bg-accent rounded transition-colors",children:Y.entities?(0,t.jsx)(m.ChevronDown,{className:"h-4 w-4"}):(0,t.jsx)(x.ChevronRight,{className:"h-4 w-4"})})]}),Y.entities&&(0,t.jsxs)("div",{className:"mt-1 space-y-1",children:[eI.map(e=>(0,t.jsxs)("div",{className:"group relative",children:[(0,t.jsxs)(a.default,{href:`/admin/entities/${e.id}/records`,className:(0,q.cn)("flex items-center gap-2 px-4 py-2 text-sm rounded-lg transition-colors",l===`/admin/entities/${e.id}/records`?"bg-primary text-primary-foreground":"hover:bg-accent text-muted-foreground hover:text-foreground"),children:[(0,t.jsx)(v.Database,{className:"h-4 w-4 flex-shrink-0"}),(0,t.jsx)("span",{className:"truncate flex-1",children:e.display_name}),e.is_published&&(0,t.jsx)("span",{className:"h-2 w-2 rounded-full bg-green-500 flex-shrink-0",title:"Published"})]}),(0,t.jsxs)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:t=>{t.preventDefault(),t.stopPropagation(),L.push(`/admin/entities/${e.id}/records`)},title:"View Records",children:(0,t.jsx)(g.Eye,{className:"h-3 w-3"})}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-6 w-6 hover:bg-destructive hover:text-destructive-foreground",onClick:t=>eG(t,e.id),title:"Delete",children:(0,t.jsx)(f.Trash2,{className:"h-3 w-3"})})]})]},e.id)),0===eI.length&&(0,t.jsx)("div",{className:"px-4 py-2 text-xs text-muted-foreground",children:T?"No entities found":"No entities yet"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center group",children:[(0,t.jsxs)("div",{onClick:()=>e$("queries"),className:"flex items-center gap-2 flex-1 px-2 py-2 hover:bg-accent rounded transition-colors cursor-pointer",children:[(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:e=>{e.stopPropagation(),L.push("/admin/queries")},title:"View all queries",children:(0,t.jsx)(w,{className:"h-4 w-4"})}),(0,t.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Queries"})]}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:e=>{e.stopPropagation(),L.push("/admin/queries")},title:"View all queries",children:(0,t.jsx)(j.List,{className:"h-4 w-4"})}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:e=>{e.stopPropagation();let t=document.querySelector("[data-create-query]");t?.click()},title:"Create new query",children:(0,t.jsx)(y.Plus,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>e$("queries"),className:"p-2 hover:bg-accent rounded transition-colors",children:Y.queries?(0,t.jsx)(m.ChevronDown,{className:"h-4 w-4"}):(0,t.jsx)(x.ChevronRight,{className:"h-4 w-4"})})]}),Y.queries&&(0,t.jsxs)("div",{className:"mt-1 space-y-1",children:[eO.map(e=>(0,t.jsxs)("div",{className:"group relative",children:[(0,t.jsxs)(a.default,{href:`/admin/queries/${e.id}/editor`,className:(0,q.cn)("flex items-center gap-2 px-4 py-2 text-sm rounded-lg transition-colors",l===`/admin/queries/${e.id}/editor`?"bg-primary text-primary-foreground":"hover:bg-accent text-muted-foreground hover:text-foreground"),children:[(0,t.jsx)(w,{className:"h-4 w-4 flex-shrink-0"}),(0,t.jsx)("span",{className:"truncate flex-1",children:e.display_name}),e.is_published&&(0,t.jsx)("span",{className:"h-2 w-2 rounded-full bg-green-500 flex-shrink-0",title:"Published"})]}),(0,t.jsxs)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:t=>{t.preventDefault(),t.stopPropagation(),L.push(`/admin/queries/${e.id}/results`)},title:"View Results",children:(0,t.jsx)(g.Eye,{className:"h-3 w-3"})}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-6 w-6 hover:bg-destructive hover:text-destructive-foreground",onClick:t=>eJ(t,e.id),title:"Delete",children:(0,t.jsx)(f.Trash2,{className:"h-3 w-3"})})]})]},e.id)),0===eO.length&&(0,t.jsx)("div",{className:"px-4 py-2 text-xs text-muted-foreground",children:T?"No queries found":"No queries yet"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center group",children:[(0,t.jsxs)("div",{onClick:()=>e$("apiCollections"),className:"flex items-center gap-2 flex-1 px-2 py-2 hover:bg-accent rounded transition-colors cursor-pointer",children:[(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:e=>{e.stopPropagation(),L.push("/admin/api-collections")},title:"View all API collections",children:(0,t.jsx)(N,{className:"h-4 w-4"})}),(0,t.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"API Client"})]}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:e=>{e.stopPropagation(),L.push("/admin/api-collections")},title:"View all collections",children:(0,t.jsx)(j.List,{className:"h-4 w-4"})}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:e=>{e.stopPropagation();let t=document.querySelector("[data-create-collection-trigger]");t?.click()},title:"Create new collection",children:(0,t.jsx)(y.Plus,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>e$("apiCollections"),className:"p-2 hover:bg-accent rounded transition-colors",children:Y.apiCollections?(0,t.jsx)(m.ChevronDown,{className:"h-4 w-4"}):(0,t.jsx)(x.ChevronRight,{className:"h-4 w-4"})})]}),Y.apiCollections&&(0,t.jsxs)("div",{className:"mt-1 space-y-1",children:[eH.map(e=>(0,t.jsxs)("div",{className:"group relative",children:[(0,t.jsxs)(a.default,{href:`/admin/api-collections/${e.id}/editor`,className:(0,q.cn)("flex items-center gap-2 px-4 py-2 text-sm rounded-lg transition-colors",l===`/admin/api-collections/${e.id}/editor`?"bg-primary text-primary-foreground":"hover:bg-accent text-muted-foreground hover:text-foreground"),children:[(0,t.jsx)(N,{className:"h-4 w-4 flex-shrink-0"}),(0,t.jsx)("span",{className:"truncate flex-1",children:e.name}),e.is_published&&(0,t.jsx)("span",{className:"h-2 w-2 rounded-full bg-green-500 flex-shrink-0",title:"Published"})]}),(0,t.jsxs)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:t=>{t.preventDefault(),t.stopPropagation(),L.push(`/admin/api-collections/${e.id}/editor`)},title:"Open Collection",children:(0,t.jsx)(g.Eye,{className:"h-3 w-3"})}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-6 w-6 hover:bg-destructive hover:text-destructive-foreground",onClick:t=>eX(t,e.id),title:"Delete",children:(0,t.jsx)(f.Trash2,{className:"h-3 w-3"})})]})]},e.id)),0===eH.length&&(0,t.jsx)("div",{className:"px-4 py-2 text-xs text-muted-foreground",children:T?"No API collections found":"No API collections yet"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center group",children:[(0,t.jsxs)("div",{onClick:()=>e$("forms"),className:"flex items-center gap-2 flex-1 px-2 py-2 hover:bg-accent rounded transition-colors cursor-pointer",children:[(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:e=>{e.stopPropagation(),L.push("/admin/forms")},title:"View all forms",children:(0,t.jsx)(b,{className:"h-4 w-4"})}),(0,t.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Forms"})]}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:e=>{e.stopPropagation(),L.push("/admin/forms")},title:"View all forms",children:(0,t.jsx)(j.List,{className:"h-4 w-4"})}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:e=>{e.stopPropagation();let t=document.querySelector("[data-create-form]");t?.click()},title:"Create new form",children:(0,t.jsx)(y.Plus,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>e$("forms"),className:"p-2 hover:bg-accent rounded transition-colors",children:Y.forms?(0,t.jsx)(m.ChevronDown,{className:"h-4 w-4"}):(0,t.jsx)(x.ChevronRight,{className:"h-4 w-4"})})]}),Y.forms&&(0,t.jsxs)("div",{className:"mt-1 space-y-1",children:[eW.map(e=>(0,t.jsxs)("div",{className:"group relative",children:[(0,t.jsxs)(a.default,{href:`/admin/forms/${e.id}/builder`,className:(0,q.cn)("flex items-center gap-2 px-4 py-2 text-sm rounded-lg transition-colors",l===`/admin/forms/${e.id}/builder`?"bg-primary text-primary-foreground":"hover:bg-accent text-muted-foreground hover:text-foreground"),children:[(0,t.jsx)(b,{className:"h-4 w-4 flex-shrink-0"}),(0,t.jsx)("span",{className:"truncate flex-1",children:e.title||e.name}),e.is_published&&(0,t.jsx)("span",{className:"h-2 w-2 rounded-full bg-green-500 flex-shrink-0",title:"Published"})]}),(0,t.jsxs)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:t=>{t.preventDefault(),t.stopPropagation(),L.push(`/admin/forms/${e.id}/submissions`)},title:"View Submissions",children:(0,t.jsx)(g.Eye,{className:"h-3 w-3"})}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-6 w-6 hover:bg-destructive hover:text-destructive-foreground",onClick:t=>eY(t,e.id),title:"Delete",children:(0,t.jsx)(f.Trash2,{className:"h-3 w-3"})})]})]},e.id)),0===eW.length&&(0,t.jsx)("div",{className:"px-4 py-2 text-xs text-muted-foreground",children:T?"No forms found":"No forms yet"})]})]})]})}),(0,t.jsx)("div",{className:"p-4 border-t",children:(0,t.jsxs)(o.Button,{variant:"outline",onClick:eV,className:"w-full gap-2",children:[(0,t.jsx)(n,{className:"h-4 w-4"}),"Logout"]})})]}),(0,t.jsx)("main",{className:"flex-1 overflow-auto",children:e}),(0,t.jsx)(_.PagePreviewModal,{open:!!ee,onOpenChange:e=>!e&&et(null),page:ee,rows:es,components:ei,layout:er,layoutRows:en,layoutComponents:ed,widgetData:ep}),(0,t.jsx)(z.WidgetPreviewModal,{open:!!em,onOpenChange:e=>!e&&ex(null),widget:em,rows:eg,components:ey}),(0,t.jsx)(B.LayoutPreviewModal,{open:!!ew,onOpenChange:e=>!e&&ej(null),layout:ew,rows:eN,components:eC})]})}e.s(["AdminLayout",()=>L],50630)}]);