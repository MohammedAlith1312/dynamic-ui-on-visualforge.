(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6085,e=>{"use strict";var t="u">typeof self?self:"u">typeof window?window:e.g;let a=t.fetch,s=t.fetch.bind(t),r=t.Headers,l=t.Request,d=t.Response;e.s(["Headers",0,r,"Request",0,l,"Response",0,d,"default",0,s,"fetch",0,a])},18566,(e,t,a)=>{t.exports=e.r(76562)},84774,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(75157);let r=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:r,className:(0,s.cn)("w-full caption-bottom text-sm",e),...a})}));r.displayName="Table";let l=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("thead",{ref:r,className:(0,s.cn)("[&_tr]:border-b",e),...a}));l.displayName="TableHeader";let d=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("tbody",{ref:r,className:(0,s.cn)("[&_tr:last-child]:border-0",e),...a}));d.displayName="TableBody",a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("tfoot",{ref:r,className:(0,s.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...a})).displayName="TableFooter";let i=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("tr",{ref:r,className:(0,s.cn)("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...a}));i.displayName="TableRow";let o=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("th",{ref:r,className:(0,s.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...a}));o.displayName="TableHead";let n=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("td",{ref:r,className:(0,s.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...a}));n.displayName="TableCell",a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("caption",{ref:r,className:(0,s.cn)("mt-4 text-sm text-muted-foreground",e),...a})).displayName="TableCaption",e.s(["Table",()=>r,"TableBody",()=>d,"TableCell",()=>n,"TableHead",()=>o,"TableHeader",()=>l,"TableRow",()=>i])},71689,e=>{"use strict";let t=(0,e.i(75254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},29359,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(18566),r=e.i(41867),l=e.i(19455),d=e.i(71689);let i=(0,e.i(75254).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var o=e.i(74911),n=e.i(84774);function c(){let e=(0,s.useParams)().queryId,c=(0,s.useRouter)(),{toast:u}=(0,o.useToast)(),[f,m]=(0,a.useState)(!0),[x,h]=(0,a.useState)(null),[b,p]=(0,a.useState)([]);(0,a.useEffect)(()=>{j()},[e]);let j=async()=>{m(!0);try{let{data:t,error:a}=await r.supabase.from("queries").select("*").eq("id",e).single();if(a)throw a;h(t);let{data:s,error:l}=await r.supabase.functions.invoke("execute-query",{body:{queryId:e}});if(l)throw l;p(s.data||[])}catch(e){u({title:"Error loading results",description:e.message,variant:"destructive"})}finally{m(!1)}};if(f)return(0,t.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading results..."})});if(!x)return null;let y=b.length>0?Object.keys(b[0]):[];return(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)("div",{className:"border-b",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-8 py-4 flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(l.Button,{variant:"ghost",size:"icon",onClick:()=>c.push("/admin/queries"),children:(0,t.jsx)(d.ArrowLeft,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:x.display_name}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Query Results"})]})]}),(0,t.jsxs)(l.Button,{onClick:j,variant:"outline",children:[(0,t.jsx)(i,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})}),(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-8 py-8",children:0===b.length?(0,t.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"No results found"}):(0,t.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,t.jsxs)(n.Table,{children:[(0,t.jsx)(n.TableHeader,{children:(0,t.jsx)(n.TableRow,{children:y.map(e=>(0,t.jsx)(n.TableHead,{children:e},e))})}),(0,t.jsx)(n.TableBody,{children:b.map((e,a)=>(0,t.jsx)(n.TableRow,{children:y.map(a=>(0,t.jsx)(n.TableCell,{children:"object"==typeof e[a]?JSON.stringify(e[a]):String(e[a]??"")},a))},a))})]})})})]})}e.s(["default",()=>c],29359)},11737,e=>{e.v(e=>Promise.resolve().then(()=>e(6085)))}]);