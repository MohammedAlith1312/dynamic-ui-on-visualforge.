(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,56909,e=>{"use strict";let t=(0,e.i(75254).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>t],56909)},74886,e=>{"use strict";let t=(0,e.i(75254).default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",()=>t],74886)},48256,e=>{"use strict";let t=(0,e.i(75254).default)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);e.s(["Globe",()=>t],48256)},30325,73264,46387,71245,e=>{"use strict";var t=e.i(75254);let i=(0,t.default)("Table2",[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]]);e.s(["Table2",()=>i],30325);let a=(0,t.default)("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);e.s(["LayoutGrid",()=>a],73264);let r=(0,t.default)("Columns3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);e.s(["Columns3",()=>r],46387);let o=(0,t.default)("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]);e.s(["Images",()=>o],71245)},17923,e=>{"use strict";let t=(0,e.i(75254).default)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);e.s(["BarChart3",()=>t],17923)},99602,54449,e=>{"use strict";let t=(0,e.i(75254).default)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);e.s(["ArrowUpDown",()=>t],99602);var i=e.i(43476),a=e.i(10204),r=e.i(67489),o=e.i(57428),n=e.i(50570),s=e.i(62050);e.s(["CardLayoutEditor",0,({fields:e,layout:t,onChange:l,showImageField:d=!0})=>{let c=e.filter(e=>e.field_type===s.E_FieldDataType.Image);return(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(a.Label,{className:"text-sm font-medium",children:"Title Field *"}),(0,i.jsxs)(r.Select,{value:t.titleField,onValueChange:e=>l({...t,titleField:e}),children:[(0,i.jsx)(r.SelectTrigger,{className:"mt-1",children:(0,i.jsx)(r.SelectValue,{placeholder:"Select title field"})}),(0,i.jsx)(r.SelectContent,{children:e.map(e=>(0,i.jsx)(r.SelectItem,{value:e.name,children:e.display_name},e.name))})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(a.Label,{className:"text-sm font-medium",children:"Subtitle Field (Optional)"}),(0,i.jsxs)(r.Select,{value:t.subtitleField||"none",onValueChange:e=>l({...t,subtitleField:"none"===e?void 0:e}),children:[(0,i.jsx)(r.SelectTrigger,{className:"mt-1",children:(0,i.jsx)(r.SelectValue,{placeholder:"Select subtitle field"})}),(0,i.jsxs)(r.SelectContent,{children:[(0,i.jsx)(r.SelectItem,{value:"none",children:"None"}),e.map(e=>(0,i.jsx)(r.SelectItem,{value:e.name,children:e.display_name},e.name))]})]})]}),d&&c.length>0&&(0,i.jsxs)("div",{children:[(0,i.jsx)(a.Label,{className:"text-sm font-medium",children:"Image Field (Optional)"}),(0,i.jsxs)(r.Select,{value:t.imageField||"none",onValueChange:e=>l({...t,imageField:"none"===e?void 0:e}),children:[(0,i.jsx)(r.SelectTrigger,{className:"mt-1",children:(0,i.jsx)(r.SelectValue,{placeholder:"Select image field"})}),(0,i.jsxs)(r.SelectContent,{children:[(0,i.jsx)(r.SelectItem,{value:"none",children:"None"}),c.map(e=>(0,i.jsx)(r.SelectItem,{value:e.name,children:e.display_name},e.name))]})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(a.Label,{className:"text-sm font-medium mb-2 block",children:"Additional Fields to Display"}),(0,i.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:e.map(e=>{let r=t.displayFields.some(t=>t.fieldId===e.name),s=e.name===t.titleField,d=e.name===t.subtitleField,c=e.name===t.imageField,u=s||d||c;return(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(n.GripVertical,{className:"h-4 w-4 text-muted-foreground"}),(0,i.jsx)(o.Checkbox,{id:`display-${e.name}`,checked:r,disabled:u,onCheckedChange:i=>{var a;let r;return a=e.name,r=i?[...t.displayFields,{fieldId:a,position:t.displayFields.length}]:t.displayFields.filter(e=>e.fieldId!==a),void l({...t,displayFields:r})}}),(0,i.jsxs)(a.Label,{htmlFor:`display-${e.name}`,className:`font-normal cursor-pointer flex-1 ${u?"text-muted-foreground":""}`,children:[e.display_name,u&&(0,i.jsxs)("span",{className:"text-xs ml-2",children:["(Used as ",s?"title":d?"subtitle":"image",")"]})]})]},e.name)})})]})]})}],54449)},80376,e=>{"use strict";var t=e.i(43476),i=e.i(26999),a=e.i(25913),r=e.i(37727),o=e.i(71645),n=e.i(75157);let s=i.Root,l=i.Trigger;i.Close;let d=i.Portal,c=o.forwardRef(({className:e,...a},r)=>(0,t.jsx)(i.Overlay,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a,ref:r}));c.displayName=i.Overlay.displayName;let u=(0,a.cva)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),m=o.forwardRef(({side:e="right",className:a,children:o,...s},l)=>(0,t.jsxs)(d,{children:[(0,t.jsx)(c,{}),(0,t.jsxs)(i.Content,{ref:l,className:(0,n.cn)(u({side:e}),a),...s,children:[o,(0,t.jsxs)(i.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[(0,t.jsx)(r.X,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=i.Content.displayName;let p=({className:e,...i})=>(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...i});p.displayName="SheetHeader";let f=o.forwardRef(({className:e,...a},r)=>(0,t.jsx)(i.Title,{ref:r,className:(0,n.cn)("text-lg font-semibold text-foreground",e),...a}));f.displayName=i.Title.displayName,o.forwardRef(({className:e,...a},r)=>(0,t.jsx)(i.Description,{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",e),...a})).displayName=i.Description.displayName,e.s(["Sheet",()=>s,"SheetContent",()=>m,"SheetHeader",()=>p,"SheetTitle",()=>f,"SheetTrigger",()=>l])},39616,e=>{"use strict";let t=(0,e.i(75254).default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Settings",()=>t],39616)},24687,e=>{"use strict";var t=e.i(43476),i=e.i(71645),a=e.i(75157);let r=i.forwardRef(({className:e,...i},r)=>(0,t.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...i}));r.displayName="Textarea",e.s(["Textarea",()=>r])},71689,e=>{"use strict";let t=(0,e.i(75254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},50570,e=>{"use strict";let t=(0,e.i(75254).default)("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);e.s(["GripVertical",()=>t],50570)},57428,e=>{"use strict";var t=e.i(43476),i=e.i(71645),a=e.i(20783),r=e.i(30030),o=e.i(81140),n=e.i(69340),s=e.i(99682),l=e.i(35804),d=e.i(96626),c=e.i(48425),u="Checkbox",[m,p]=(0,r.createContextScope)(u),[f,h]=m(u);function y(e){let{__scopeCheckbox:a,checked:r,children:o,defaultChecked:s,disabled:l,form:d,name:c,onCheckedChange:m,required:p,value:h="on",internal_do_not_use_render:y}=e,[x,g]=(0,n.useControllableState)({prop:r,defaultProp:s??!1,onChange:m,caller:u}),[v,b]=i.useState(null),[w,k]=i.useState(null),j=i.useRef(!1),C=!v||!!d||!!v.closest("form"),N={checked:x,disabled:l,setChecked:g,control:v,setControl:b,name:c,form:d,value:h,hasConsumerStoppedPropagationRef:j,required:p,defaultChecked:!S(s)&&s,isFormControl:C,bubbleInput:w,setBubbleInput:k};return(0,t.jsx)(f,{scope:a,...N,children:"function"==typeof y?y(N):o})}var x="CheckboxTrigger",g=i.forwardRef(({__scopeCheckbox:e,onKeyDown:r,onClick:n,...s},l)=>{let{control:d,value:u,disabled:m,checked:p,required:f,setControl:y,setChecked:g,hasConsumerStoppedPropagationRef:v,isFormControl:b,bubbleInput:w}=h(x,e),k=(0,a.useComposedRefs)(l,y),j=i.useRef(p);return i.useEffect(()=>{let e=d?.form;if(e){let t=()=>g(j.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[d,g]),(0,t.jsx)(c.Primitive.button,{type:"button",role:"checkbox","aria-checked":S(p)?"mixed":p,"aria-required":f,"data-state":C(p),"data-disabled":m?"":void 0,disabled:m,value:u,...s,ref:k,onKeyDown:(0,o.composeEventHandlers)(r,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,o.composeEventHandlers)(n,e=>{g(e=>!!S(e)||!e),w&&b&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})})});g.displayName=x;var v=i.forwardRef((e,i)=>{let{__scopeCheckbox:a,name:r,checked:o,defaultChecked:n,required:s,disabled:l,value:d,onCheckedChange:c,form:u,...m}=e;return(0,t.jsx)(y,{__scopeCheckbox:a,checked:o,defaultChecked:n,disabled:l,required:s,onCheckedChange:c,name:r,form:u,value:d,internal_do_not_use_render:({isFormControl:e})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g,{...m,ref:i,__scopeCheckbox:a}),e&&(0,t.jsx)(j,{__scopeCheckbox:a})]})})});v.displayName=u;var b="CheckboxIndicator",w=i.forwardRef((e,i)=>{let{__scopeCheckbox:a,forceMount:r,...o}=e,n=h(b,a);return(0,t.jsx)(d.Presence,{present:r||S(n.checked)||!0===n.checked,children:(0,t.jsx)(c.Primitive.span,{"data-state":C(n.checked),"data-disabled":n.disabled?"":void 0,...o,ref:i,style:{pointerEvents:"none",...e.style}})})});w.displayName=b;var k="CheckboxBubbleInput",j=i.forwardRef(({__scopeCheckbox:e,...r},o)=>{let{control:n,hasConsumerStoppedPropagationRef:d,checked:u,defaultChecked:m,required:p,disabled:f,name:y,value:x,form:g,bubbleInput:v,setBubbleInput:b}=h(k,e),w=(0,a.useComposedRefs)(o,b),j=(0,s.usePrevious)(u),C=(0,l.useSize)(n);i.useEffect(()=>{if(!v)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!d.current;if(j!==u&&e){let i=new Event("click",{bubbles:t});v.indeterminate=S(u),e.call(v,!S(u)&&u),v.dispatchEvent(i)}},[v,j,u,d]);let N=i.useRef(!S(u)&&u);return(0,t.jsx)(c.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??N.current,required:p,disabled:f,name:y,value:x,form:g,...r,tabIndex:-1,ref:w,style:{...r.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function S(e){return"indeterminate"===e}function C(e){return S(e)?"indeterminate":e?"checked":"unchecked"}j.displayName=k;var N=e.i(43531),_=e.i(75157);let R=i.forwardRef(({className:e,...i},a)=>(0,t.jsx)(v,{ref:a,className:(0,_.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...i,children:(0,t.jsx)(w,{className:(0,_.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(N.Check,{className:"h-4 w-4"})})}));R.displayName=v.displayName,e.s(["Checkbox",()=>R],57428)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],3116)},87316,61277,e=>{"use strict";let t=(0,e.i(75254).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["default",()=>t],61277),e.s(["Calendar",()=>t],87316)},47780,e=>{"use strict";let t=(0,e.i(75254).default)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);e.s(["Palette",()=>t],47780)},71649,e=>{"use strict";let t=(0,e.i(75254).default)("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);e.s(["Type",()=>t],71649)},14683,e=>{"use strict";let t=(0,e.i(75254).default)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Circle",()=>t],14683)},73708,21345,e=>{"use strict";var t=e.i(75254);let i=(0,t.default)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);e.s(["Image",()=>i],73708);let a=(0,t.default)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);e.s(["Link",()=>a],21345)},67692,e=>{"use strict";var t=e.i(43476),i=e.i(71645),a=e.i(70152),r=e.i(81140),o=e.i(20783),n=e.i(30030),s=e.i(69340),l=e.i(86318),d=e.i(99682),c=e.i(35804),u=e.i(48425),m=e.i(75830),p=["PageUp","PageDown"],f=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],h={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},y="Slider",[x,g,v]=(0,m.createCollection)(y),[b,w]=(0,n.createContextScope)(y,[v]),[k,j]=b(y),S=i.forwardRef((e,o)=>{let{name:n,min:l=0,max:d=100,step:c=1,orientation:u="horizontal",disabled:m=!1,minStepsBetweenThumbs:h=0,defaultValue:y=[l],value:g,onValueChange:v=()=>{},onValueCommit:b=()=>{},inverted:w=!1,form:j,...S}=e,C=i.useRef(new Set),N=i.useRef(0),D="horizontal"===u,[M=[],P]=(0,s.useControllableState)({prop:g,defaultProp:y,onChange:e=>{let t=[...C.current];t[N.current]?.focus(),v(e)}}),E=i.useRef(M);function T(e,t,{commit:i}={commit:!1}){let r,o=(String(c).split(".")[1]||"").length,n=Math.round((Math.round((e-l)/c)*c+l)*(r=Math.pow(10,o)))/r,s=(0,a.clamp)(n,[l,d]);P((e=[])=>{let a=function(e=[],t,i){let a=[...e];return a[i]=t,a.sort((e,t)=>e-t)}(e,s,t);if(!function(e,t){if(t>0)return Math.min(...e.slice(0,-1).map((t,i)=>e[i+1]-t))>=t;return!0}(a,h*c))return e;{N.current=a.indexOf(s);let t=String(a)!==String(e);return t&&i&&b(a),t?a:e}})}return(0,t.jsx)(k,{scope:e.__scopeSlider,name:n,disabled:m,min:l,max:d,valueIndexToChangeRef:N,thumbs:C.current,values:M,orientation:u,form:j,children:(0,t.jsx)(x.Provider,{scope:e.__scopeSlider,children:(0,t.jsx)(x.Slot,{scope:e.__scopeSlider,children:(0,t.jsx)(D?_:R,{"aria-disabled":m,"data-disabled":m?"":void 0,...S,ref:o,onPointerDown:(0,r.composeEventHandlers)(S.onPointerDown,()=>{m||(E.current=M)}),min:l,max:d,inverted:w,onSlideStart:m?void 0:function(e){let t=function(e,t){if(1===e.length)return 0;let i=e.map(e=>Math.abs(e-t)),a=Math.min(...i);return i.indexOf(a)}(M,e);T(e,t)},onSlideMove:m?void 0:function(e){T(e,N.current)},onSlideEnd:m?void 0:function(){let e=E.current[N.current];M[N.current]!==e&&b(M)},onHomeKeyDown:()=>!m&&T(l,0,{commit:!0}),onEndKeyDown:()=>!m&&T(d,M.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!m){let i=p.includes(e.key)||e.shiftKey&&f.includes(e.key),a=N.current;T(M[a]+c*(i?10:1)*t,a,{commit:!0})}}})})})})});S.displayName=y;var[C,N]=b(y,{startEdge:"left",endEdge:"right",size:"width",direction:1}),_=i.forwardRef((e,a)=>{let{min:r,max:n,dir:s,inverted:d,onSlideStart:c,onSlideMove:u,onSlideEnd:m,onStepKeyDown:p,...f}=e,[y,x]=i.useState(null),g=(0,o.useComposedRefs)(a,e=>x(e)),v=i.useRef(void 0),b=(0,l.useDirection)(s),w="ltr"===b,k=w&&!d||!w&&d;function j(e){let t=v.current||y.getBoundingClientRect(),i=V([0,t.width],k?[r,n]:[n,r]);return v.current=t,i(e-t.left)}return(0,t.jsx)(C,{scope:e.__scopeSlider,startEdge:k?"left":"right",endEdge:k?"right":"left",direction:k?1:-1,size:"width",children:(0,t.jsx)(D,{dir:b,"data-orientation":"horizontal",...f,ref:g,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let t=j(e.clientX);c?.(t)},onSlideMove:e=>{let t=j(e.clientX);u?.(t)},onSlideEnd:()=>{v.current=void 0,m?.()},onStepKeyDown:e=>{let t=h[k?"from-left":"from-right"].includes(e.key);p?.({event:e,direction:t?-1:1})}})})}),R=i.forwardRef((e,a)=>{let{min:r,max:n,inverted:s,onSlideStart:l,onSlideMove:d,onSlideEnd:c,onStepKeyDown:u,...m}=e,p=i.useRef(null),f=(0,o.useComposedRefs)(a,p),y=i.useRef(void 0),x=!s;function g(e){let t=y.current||p.current.getBoundingClientRect(),i=V([0,t.height],x?[n,r]:[r,n]);return y.current=t,i(e-t.top)}return(0,t.jsx)(C,{scope:e.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:(0,t.jsx)(D,{"data-orientation":"vertical",...m,ref:f,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let t=g(e.clientY);l?.(t)},onSlideMove:e=>{let t=g(e.clientY);d?.(t)},onSlideEnd:()=>{y.current=void 0,c?.()},onStepKeyDown:e=>{let t=h[x?"from-bottom":"from-top"].includes(e.key);u?.({event:e,direction:t?-1:1})}})})}),D=i.forwardRef((e,i)=>{let{__scopeSlider:a,onSlideStart:o,onSlideMove:n,onSlideEnd:s,onHomeKeyDown:l,onEndKeyDown:d,onStepKeyDown:c,...m}=e,h=j(y,a);return(0,t.jsx)(u.Primitive.span,{...m,ref:i,onKeyDown:(0,r.composeEventHandlers)(e.onKeyDown,e=>{"Home"===e.key?(l(e),e.preventDefault()):"End"===e.key?(d(e),e.preventDefault()):p.concat(f).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:(0,r.composeEventHandlers)(e.onPointerDown,e=>{let t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),h.thumbs.has(t)?t.focus():o(e)}),onPointerMove:(0,r.composeEventHandlers)(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&n(e)}),onPointerUp:(0,r.composeEventHandlers)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),s(e))})})}),M="SliderTrack",P=i.forwardRef((e,i)=>{let{__scopeSlider:a,...r}=e,o=j(M,a);return(0,t.jsx)(u.Primitive.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:i})});P.displayName=M;var E="SliderRange",T=i.forwardRef((e,a)=>{let{__scopeSlider:r,...n}=e,s=j(E,r),l=N(E,r),d=i.useRef(null),c=(0,o.useComposedRefs)(a,d),m=s.values.length,p=s.values.map(e=>H(e,s.min,s.max)),f=m>1?Math.min(...p):0,h=100-Math.max(...p);return(0,t.jsx)(u.Primitive.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:c,style:{...e.style,[l.startEdge]:f+"%",[l.endEdge]:h+"%"}})});T.displayName=E;var I="SliderThumb",A=i.forwardRef((e,a)=>{let r=g(e.__scopeSlider),[n,s]=i.useState(null),l=(0,o.useComposedRefs)(a,e=>s(e)),d=i.useMemo(()=>n?r().findIndex(e=>e.ref.current===n):-1,[r,n]);return(0,t.jsx)(F,{...e,ref:l,index:d})}),F=i.forwardRef((e,a)=>{var n,s,l,d,m;let p,f,{__scopeSlider:h,index:y,name:g,...v}=e,b=j(I,h),w=N(I,h),[k,S]=i.useState(null),C=(0,o.useComposedRefs)(a,e=>S(e)),_=!k||b.form||!!k.closest("form"),R=(0,c.useSize)(k),D=b.values[y],M=void 0===D?0:H(D,b.min,b.max),P=(n=y,(s=b.values.length)>2?`Value ${n+1} of ${s}`:2===s?["Minimum","Maximum"][n]:void 0),E=R?.[w.size],T=E?(l=E,d=M,m=w.direction,f=V([0,50],[0,p=l/2]),(p-f(d)*m)*m):0;return i.useEffect(()=>{if(k)return b.thumbs.add(k),()=>{b.thumbs.delete(k)}},[k,b.thumbs]),(0,t.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[w.startEdge]:`calc(${M}% + ${T}px)`},children:[(0,t.jsx)(x.ItemSlot,{scope:e.__scopeSlider,children:(0,t.jsx)(u.Primitive.span,{role:"slider","aria-label":e["aria-label"]||P,"aria-valuemin":b.min,"aria-valuenow":D,"aria-valuemax":b.max,"aria-orientation":b.orientation,"data-orientation":b.orientation,"data-disabled":b.disabled?"":void 0,tabIndex:b.disabled?void 0:0,...v,ref:C,style:void 0===D?{display:"none"}:e.style,onFocus:(0,r.composeEventHandlers)(e.onFocus,()=>{b.valueIndexToChangeRef.current=y})})}),_&&(0,t.jsx)(L,{name:g??(b.name?b.name+(b.values.length>1?"[]":""):void 0),form:b.form,value:D},y)]})});A.displayName=I;var L=i.forwardRef(({__scopeSlider:e,value:a,...r},n)=>{let s=i.useRef(null),l=(0,o.useComposedRefs)(s,n),c=(0,d.usePrevious)(a);return i.useEffect(()=>{let e=s.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(c!==a&&t){let i=new Event("input",{bubbles:!0});t.call(e,a),e.dispatchEvent(i)}},[c,a]),(0,t.jsx)(u.Primitive.input,{style:{display:"none"},...r,ref:l,defaultValue:a})});function H(e,t,i){return(0,a.clamp)(100/(i-t)*(e-t),[0,100])}function V(e,t){return i=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(i-e[0])}}L.displayName="RadioBubbleInput";var z=e.i(75157);let O=i.forwardRef(({className:e,...i},a)=>(0,t.jsxs)(S,{ref:a,className:(0,z.cn)("relative flex w-full touch-none select-none items-center",e),...i,children:[(0,t.jsx)(P,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,t.jsx)(T,{className:"absolute h-full bg-primary"})}),(0,t.jsx)(A,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));O.displayName=S.displayName,e.s(["Slider",()=>O],67692)},63488,e=>{"use strict";let t=(0,e.i(75254).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);e.s(["Mail",()=>t],63488)},41508,e=>{"use strict";var t=e.i(43476),i=e.i(71645),a=e.i(18566),r=e.i(41867),o=e.i(19455),n=e.i(93479),s=e.i(46696),l=e.i(71689),d=e.i(56909),c=e.i(48152),u=e.i(41396),m=e.i(30909),p=e.i(77183);e.s(["default",0,()=>{let e=(0,a.useParams)().templateId,f=(0,a.useRouter)(),[h,y]=(0,i.useState)(null),[x,g]=(0,i.useState)(""),[v,b]=(0,i.useState)(""),[w,k]=(0,i.useState)([]),[j,S]=(0,i.useState)([]),[C,N]=(0,i.useState)(!0),[_,R]=(0,i.useState)(null),[D,M]=(0,i.useState)(null);(0,i.useEffect)(()=>{P()},[e]);let P=async()=>{if(!e)return;let{data:t,error:i}=await r.supabase.from("section_templates").select("*").eq("id",e).single();if(i){s.toast.error("Failed to load template"),f.push("/admin/templates");return}y(t),g(t.name),b(t.description||"");let a={};if(t.template_data)if("string"==typeof t.template_data)try{a=JSON.parse(t.template_data)}catch(e){console.error("Failed to parse template_data:",e)}else"object"==typeof t.template_data&&(a=t.template_data);let o=a.rows||[],n=[],l=[];o.forEach((e,t)=>{let i=`temp-row-${Date.now()}-${t}`;n.push({id:i,columns:e.columns||1,position:t,column_widths:e.column_widths||[],styles:e.styles||{},responsive_config:e.responsive_config||{mobile:{},tablet:{},desktop:{}}}),e.components&&Array.isArray(e.components)&&e.components.forEach((e,a)=>{l.push({id:`temp-comp-${Date.now()}-${t}-${a}`,row_id:i,component_type:e.component_type||"paragraph",column_index:e.column_index||0,position:e.position||a,content:e.content||{},styles:e.styles||{}})})}),console.log("Loaded template data:",{rows:n,components:l}),k(n),S(l),N(!1)},E=async()=>{if(!e)return;let t={rows:w.map(e=>{let t=j.filter(t=>t.row_id===e.id).sort((e,t)=>e.position-t.position).map(e=>({component_type:e.component_type,column_index:e.column_index,position:e.position,content:e.content,styles:e.styles}));return{columns:e.columns,position:e.position,column_widths:e.column_widths,styles:e.styles,responsive_config:e.responsive_config,components:t}})};console.log("Saving template data:",t);let{error:i}=await r.supabase.from("section_templates").update({name:x,description:v,template_data:t}).eq("id",e);if(i){console.error("Save error:",i),s.toast.error("Failed to save template");return}s.toast.success("Template saved successfully")};return C?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):(0,t.jsx)(m.SidebarProvider,{children:(0,t.jsx)(p.DndContext,{onDragStart:e=>{let{active:t}=e;t.id.startsWith("new-")&&R(t.data.current?.componentType)},onDragEnd:e=>{let{active:t,over:i}=e;if(R(null),!i)return;let a=t.id,r=i.id;if(a.startsWith("new-")){let e=t.data.current?.componentType;if(r.startsWith("column-")){let[,t,i]=r.split("-"),a={id:`temp-comp-${Date.now()}`,row_id:t,component_type:e,column_index:parseInt(i),position:j.filter(e=>e.row_id===t&&e.column_index===parseInt(i)).length,content:(e=>{switch(e){case"heading":return{text:"New Heading",level:"h2"};case"paragraph":return{text:"New paragraph text"};case"image":return{url:"",alt:"Image"};case"button":return{text:"Click me",link:""};case"link":return{text:"Link",url:""};case"video":return{url:""};case"divider":default:return{};case"spacer":return{height:"medium"};case"quote":return{text:"Quote text",author:""};case"list":return{items:"Item 1\nItem 2\nItem 3",type:"bullet"};case"code":return{code:"console.log('Hello');",language:"javascript"};case"chart":return{chartType:"bar",data:JSON.stringify([{name:"Jan",value:400},{name:"Feb",value:300},{name:"Mar",value:600}],null,2),title:"Sample Chart",xAxisKey:"name",yAxisKey:"value"};case"tabs":return{tabs:[{id:"tab-1",label:"Tab 1",content:"Content 1"}]};case"accordion":return{items:[{id:"item-1",title:"Section 1",content:"Content 1"}]};case"card":return{layout:"image-top",title:"Card Title",description:"Card description"};case"form-input":return{fieldName:"field_name",label:"Field Label",placeholder:"Enter value..."};case"form-textarea":return{fieldName:"message",label:"Message",placeholder:"Enter your message..."};case"form-select":return{fieldName:"select_field",label:"Select Option",options:"Option 1\nOption 2"};case"form-checkbox":return{fieldName:"checkbox_field",label:"Select Options",options:"Option 1\nOption 2"};case"form-submit":return{buttonText:"Submit",buttonVariant:"default"}}})(e),styles:{}};S([...j,a]),s.toast.success("Component added")}}},onDragOver:e=>{},children:(0,t.jsxs)("div",{className:"min-h-screen bg-background flex",children:[(0,t.jsx)(u.ComponentsSidebar,{}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,t.jsxs)("header",{className:"border-b bg-card p-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",onClick:()=>f.push("/admin/templates"),children:(0,t.jsx)(l.ArrowLeft,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{className:"flex-1 max-w-md space-y-2",children:[(0,t.jsx)(n.Input,{value:x,onChange:e=>g(e.target.value),className:"font-semibold",placeholder:"Template name..."}),(0,t.jsx)(n.Input,{value:v,onChange:e=>b(e.target.value),placeholder:"Template description...",className:"text-sm"})]})]}),(0,t.jsxs)(o.Button,{onClick:E,className:"gap-2",children:[(0,t.jsx)(d.Save,{className:"h-4 w-4"}),"Save Template"]})]}),(0,t.jsx)("main",{className:"flex-1 overflow-auto p-8",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,t.jsx)("div",{className:"bg-card rounded-lg shadow-lg p-8",children:0===w.length?(0,t.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,t.jsx)("p",{className:"text-lg mb-2",children:"No rows yet"}),(0,t.jsx)("p",{className:"text-sm",children:'Click "Add Row" to start building your template'})]}):(0,t.jsx)(c.GridCanvas,{rows:w,components:j,onUpdateComponent:(e,t)=>{S(j.map(i=>i.id===e?{...i,content:t}:i))},onUpdateComponentStyles:(e,t)=>{S(j.map(i=>i.id===e?{...i,styles:t}:i))},onDeleteComponent:e=>{S(j.filter(t=>t.id!==e)),s.toast.success("Component deleted")},onAddRow:()=>{let e={id:`temp-row-${Date.now()}`,columns:1,position:w.length,column_widths:[],styles:{},responsive_config:{mobile:{},tablet:{},desktop:{}}};k([...w,e])},onDeleteRow:e=>{confirm("Delete this row and all its components?")&&(k(w.filter(t=>t.id!==e)),S(j.filter(t=>t.row_id!==e)),s.toast.success("Row deleted"))},onUpdateRowColumns:(e,t)=>{k(w.map(i=>i.id===e?{...i,columns:t}:i))},onUpdateRowStyles:(e,t)=>{k(w.map(i=>i.id===e?{...i,styles:t}:i))},onReorderRows:e=>{k(e.map((e,t)=>({...e,position:t})))},activeComponentType:_,onDuplicateComponent:e=>{let t=j.find(t=>t.id===e);if(!t)return;let i={...t,id:`temp-comp-${Date.now()}`,position:j.filter(e=>e.row_id===t.row_id).length};S([...j,i]),s.toast.success("Component duplicated")},onPasteComponent:(e,t)=>{s.toast.info("Paste not available in template editor")},onMoveComponentToPosition:(e,t)=>{let i=j.find(t=>t.id===e);if(!i)return;let a=j.filter(e=>e.row_id===i.row_id&&e.column_index===i.column_index).sort((e,t)=>e.position-t.position);S(j.map(r=>{if(r.id===e)return{...r,position:t};let o=a.findIndex(e=>e.id===r.id);if(o>=0){if(o>=t&&r.position<i.position)return{...r,position:o+1};if(o<=t&&r.position>i.position)return{...r,position:o-1}}return r})),s.toast.success("Component moved")},onAddRowAbove:e=>{let t=w.find(t=>t.id===e);if(!t)return;let i={id:`temp-row-${Date.now()}`,position:t.position,columns:1,column_widths:[],styles:{},responsive_config:{mobile:{},tablet:{},desktop:{}}};k([...w.map(e=>e.position>=t.position?{...e,position:e.position+1}:e),i].sort((e,t)=>e.position-t.position)),s.toast.success("Row added")},onAddRowBelow:e=>{let t=w.find(t=>t.id===e);if(!t)return;let i={id:`temp-row-${Date.now()}`,position:t.position+1,columns:1,column_widths:[],styles:{},responsive_config:{mobile:{},tablet:{},desktop:{}}};k([...w.map(e=>e.position>t.position?{...e,position:e.position+1}:e),i].sort((e,t)=>e.position-t.position)),s.toast.success("Row added")},onDuplicateRow:e=>{let t=w.find(t=>t.id===e);if(!t)return;let i=`temp-row-${Date.now()}`,a={...t,id:i,position:t.position+1},r=j.filter(t=>t.row_id===e).map(e=>({...e,id:`temp-comp-${Date.now()}-${Math.random()}`,row_id:i}));k([...w,a].sort((e,t)=>e.position-t.position)),S([...j,...r]),s.toast.success("Row duplicated")}})})})})]})]})})})}])},11737,e=>{e.v(e=>Promise.resolve().then(()=>e(6085)))}]);